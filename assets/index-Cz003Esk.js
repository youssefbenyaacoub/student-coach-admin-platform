function tB(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();function Ca(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var D0={exports:{}},Su={};var y2;function rB(){if(y2)return Su;y2=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,a,s){var l=null;if(s!==void 0&&(l=""+s),a.key!==void 0&&(l=""+a.key),"key"in a){s={};for(var u in a)u!=="key"&&(s[u]=a[u])}else s=a;return a=s.ref,{$$typeof:e,type:n,key:l,ref:a!==void 0?a:null,props:s}}return Su.Fragment=t,Su.jsx=r,Su.jsxs=r,Su}var x2;function nB(){return x2||(x2=1,D0.exports=rB()),D0.exports}var c=nB(),M0={exports:{}},Xe={};var b2;function aB(){if(b2)return Xe;b2=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),v=Symbol.iterator;function x(T){return T===null||typeof T!="object"?null:(T=v&&T[v]||T["@@iterator"],typeof T=="function"?T:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,N={};function _(T,I,$){this.props=T,this.context=I,this.refs=N,this.updater=$||w}_.prototype.isReactComponent={},_.prototype.setState=function(T,I){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,I,"setState")},_.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function A(){}A.prototype=_.prototype;function k(T,I,$){this.props=T,this.context=I,this.refs=N,this.updater=$||w}var O=k.prototype=new A;O.constructor=k,S(O,_.prototype),O.isPureReactComponent=!0;var M=Array.isArray;function C(){}var D={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function V(T,I,$){var B=$.ref;return{$$typeof:e,type:T,key:I,ref:B!==void 0?B:null,props:$}}function te(T,I){return V(T.type,I,T.props)}function W(T){return typeof T=="object"&&T!==null&&T.$$typeof===e}function K(T){var I={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function($){return I[$]})}var Se=/\/+/g;function be(T,I){return typeof T=="object"&&T!==null&&T.key!=null?K(""+T.key):I.toString(36)}function Ae(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(C,C):(T.status="pending",T.then(function(I){T.status==="pending"&&(T.status="fulfilled",T.value=I)},function(I){T.status==="pending"&&(T.status="rejected",T.reason=I)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function Y(T,I,$,B,Z){var ue=typeof T;(ue==="undefined"||ue==="boolean")&&(T=null);var je=!1;if(T===null)je=!0;else switch(ue){case"bigint":case"string":case"number":je=!0;break;case"object":switch(T.$$typeof){case e:case t:je=!0;break;case m:return je=T._init,Y(je(T._payload),I,$,B,Z)}}if(je)return Z=Z(T),je=B===""?"."+be(T,0):B,M(Z)?($="",je!=null&&($=je.replace(Se,"$&/")+"/"),Y(Z,I,$,"",function(de){return de})):Z!=null&&(W(Z)&&(Z=te(Z,$+(Z.key==null||T&&T.key===Z.key?"":(""+Z.key).replace(Se,"$&/")+"/")+je)),I.push(Z)),1;je=0;var Oe=B===""?".":B+":";if(M(T))for(var Q=0;Q<T.length;Q++)B=T[Q],ue=Oe+be(B,Q),je+=Y(B,I,$,ue,Z);else if(Q=x(T),typeof Q=="function")for(T=Q.call(T),Q=0;!(B=T.next()).done;)B=B.value,ue=Oe+be(B,Q++),je+=Y(B,I,$,ue,Z);else if(ue==="object"){if(typeof T.then=="function")return Y(Ae(T),I,$,B,Z);throw I=String(T),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.")}return je}function ee(T,I,$){if(T==null)return T;var B=[],Z=0;return Y(T,B,"","",function(ue){return I.call($,ue,Z++)}),B}function ce(T){if(T._status===-1){var I=T._result;I=I(),I.then(function($){(T._status===0||T._status===-1)&&(T._status=1,T._result=$)},function($){(T._status===0||T._status===-1)&&(T._status=2,T._result=$)}),T._status===-1&&(T._status=0,T._result=I)}if(T._status===1)return T._result.default;throw T._result}var we=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var I=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(I))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},G={map:ee,forEach:function(T,I,$){ee(T,function(){I.apply(this,arguments)},$)},count:function(T){var I=0;return ee(T,function(){I++}),I},toArray:function(T){return ee(T,function(I){return I})||[]},only:function(T){if(!W(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return Xe.Activity=g,Xe.Children=G,Xe.Component=_,Xe.Fragment=r,Xe.Profiler=a,Xe.PureComponent=k,Xe.StrictMode=n,Xe.Suspense=f,Xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Xe.__COMPILER_RUNTIME={__proto__:null,c:function(T){return D.H.useMemoCache(T)}},Xe.cache=function(T){return function(){return T.apply(null,arguments)}},Xe.cacheSignal=function(){return null},Xe.cloneElement=function(T,I,$){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var B=S({},T.props),Z=T.key;if(I!=null)for(ue in I.key!==void 0&&(Z=""+I.key),I)!L.call(I,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&I.ref===void 0||(B[ue]=I[ue]);var ue=arguments.length-2;if(ue===1)B.children=$;else if(1<ue){for(var je=Array(ue),Oe=0;Oe<ue;Oe++)je[Oe]=arguments[Oe+2];B.children=je}return V(T.type,Z,B)},Xe.createContext=function(T){return T={$$typeof:l,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:s,_context:T},T},Xe.createElement=function(T,I,$){var B,Z={},ue=null;if(I!=null)for(B in I.key!==void 0&&(ue=""+I.key),I)L.call(I,B)&&B!=="key"&&B!=="__self"&&B!=="__source"&&(Z[B]=I[B]);var je=arguments.length-2;if(je===1)Z.children=$;else if(1<je){for(var Oe=Array(je),Q=0;Q<je;Q++)Oe[Q]=arguments[Q+2];Z.children=Oe}if(T&&T.defaultProps)for(B in je=T.defaultProps,je)Z[B]===void 0&&(Z[B]=je[B]);return V(T,ue,Z)},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function(T){return{$$typeof:u,render:T}},Xe.isValidElement=W,Xe.lazy=function(T){return{$$typeof:m,_payload:{_status:-1,_result:T},_init:ce}},Xe.memo=function(T,I){return{$$typeof:h,type:T,compare:I===void 0?null:I}},Xe.startTransition=function(T){var I=D.T,$={};D.T=$;try{var B=T(),Z=D.S;Z!==null&&Z($,B),typeof B=="object"&&B!==null&&typeof B.then=="function"&&B.then(C,we)}catch(ue){we(ue)}finally{I!==null&&$.types!==null&&(I.types=$.types),D.T=I}},Xe.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Xe.use=function(T){return D.H.use(T)},Xe.useActionState=function(T,I,$){return D.H.useActionState(T,I,$)},Xe.useCallback=function(T,I){return D.H.useCallback(T,I)},Xe.useContext=function(T){return D.H.useContext(T)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function(T,I){return D.H.useDeferredValue(T,I)},Xe.useEffect=function(T,I){return D.H.useEffect(T,I)},Xe.useEffectEvent=function(T){return D.H.useEffectEvent(T)},Xe.useId=function(){return D.H.useId()},Xe.useImperativeHandle=function(T,I,$){return D.H.useImperativeHandle(T,I,$)},Xe.useInsertionEffect=function(T,I){return D.H.useInsertionEffect(T,I)},Xe.useLayoutEffect=function(T,I){return D.H.useLayoutEffect(T,I)},Xe.useMemo=function(T,I){return D.H.useMemo(T,I)},Xe.useOptimistic=function(T,I){return D.H.useOptimistic(T,I)},Xe.useReducer=function(T,I,$){return D.H.useReducer(T,I,$)},Xe.useRef=function(T){return D.H.useRef(T)},Xe.useState=function(T){return D.H.useState(T)},Xe.useSyncExternalStore=function(T,I,$){return D.H.useSyncExternalStore(T,I,$)},Xe.useTransition=function(){return D.H.useTransition()},Xe.version="19.2.3",Xe}var w2;function fc(){return w2||(w2=1,M0.exports=aB()),M0.exports}var y=fc();const iB=Ca(y),sB=tB({__proto__:null,default:iB},[y]);var R0={exports:{}},Nu={},I0={exports:{}},L0={};var j2;function oB(){return j2||(j2=1,(function(e){function t(Y,ee){var ce=Y.length;Y.push(ee);e:for(;0<ce;){var we=ce-1>>>1,G=Y[we];if(0<a(G,ee))Y[we]=ee,Y[ce]=G,ce=we;else break e}}function r(Y){return Y.length===0?null:Y[0]}function n(Y){if(Y.length===0)return null;var ee=Y[0],ce=Y.pop();if(ce!==ee){Y[0]=ce;e:for(var we=0,G=Y.length,T=G>>>1;we<T;){var I=2*(we+1)-1,$=Y[I],B=I+1,Z=Y[B];if(0>a($,ce))B<G&&0>a(Z,$)?(Y[we]=Z,Y[B]=ce,we=B):(Y[we]=$,Y[I]=ce,we=I);else if(B<G&&0>a(Z,ce))Y[we]=Z,Y[B]=ce,we=B;else break e}}return ee}function a(Y,ee){var ce=Y.sortIndex-ee.sortIndex;return ce!==0?ce:Y.id-ee.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var f=[],h=[],m=1,g=null,v=3,x=!1,w=!1,S=!1,N=!1,_=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function O(Y){for(var ee=r(h);ee!==null;){if(ee.callback===null)n(h);else if(ee.startTime<=Y)n(h),ee.sortIndex=ee.expirationTime,t(f,ee);else break;ee=r(h)}}function M(Y){if(S=!1,O(Y),!w)if(r(f)!==null)w=!0,C||(C=!0,K());else{var ee=r(h);ee!==null&&Ae(M,ee.startTime-Y)}}var C=!1,D=-1,L=5,V=-1;function te(){return N?!0:!(e.unstable_now()-V<L)}function W(){if(N=!1,C){var Y=e.unstable_now();V=Y;var ee=!0;try{e:{w=!1,S&&(S=!1,A(D),D=-1),x=!0;var ce=v;try{t:{for(O(Y),g=r(f);g!==null&&!(g.expirationTime>Y&&te());){var we=g.callback;if(typeof we=="function"){g.callback=null,v=g.priorityLevel;var G=we(g.expirationTime<=Y);if(Y=e.unstable_now(),typeof G=="function"){g.callback=G,O(Y),ee=!0;break t}g===r(f)&&n(f),O(Y)}else n(f);g=r(f)}if(g!==null)ee=!0;else{var T=r(h);T!==null&&Ae(M,T.startTime-Y),ee=!1}}break e}finally{g=null,v=ce,x=!1}ee=void 0}}finally{ee?K():C=!1}}}var K;if(typeof k=="function")K=function(){k(W)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,be=Se.port2;Se.port1.onmessage=W,K=function(){be.postMessage(null)}}else K=function(){_(W,0)};function Ae(Y,ee){D=_(function(){Y(e.unstable_now())},ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(Y){switch(v){case 1:case 2:case 3:var ee=3;break;default:ee=v}var ce=v;v=ee;try{return Y()}finally{v=ce}},e.unstable_requestPaint=function(){N=!0},e.unstable_runWithPriority=function(Y,ee){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ce=v;v=Y;try{return ee()}finally{v=ce}},e.unstable_scheduleCallback=function(Y,ee,ce){var we=e.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?we+ce:we):ce=we,Y){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=ce+G,Y={id:m++,callback:ee,priorityLevel:Y,startTime:ce,expirationTime:G,sortIndex:-1},ce>we?(Y.sortIndex=ce,t(h,Y),r(f)===null&&Y===r(h)&&(S?(A(D),D=-1):S=!0,Ae(M,ce-we))):(Y.sortIndex=G,t(f,Y),w||x||(w=!0,C||(C=!0,K()))),Y},e.unstable_shouldYield=te,e.unstable_wrapCallback=function(Y){var ee=v;return function(){var ce=v;v=ee;try{return Y.apply(this,arguments)}finally{v=ce}}}})(L0)),L0}var S2;function lB(){return S2||(S2=1,I0.exports=oB()),I0.exports}var $0={exports:{}},Zr={};var N2;function cB(){if(N2)return Zr;N2=1;var e=fc();function t(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(f,h,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:f,containerInfo:h,implementation:m}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Zr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Zr.createPortal=function(f,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return s(f,h,null,m)},Zr.flushSync=function(f){var h=l.T,m=n.p;try{if(l.T=null,n.p=2,f)return f()}finally{l.T=h,n.p=m,n.d.f()}},Zr.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(f,h))},Zr.prefetchDNS=function(f){typeof f=="string"&&n.d.D(f)},Zr.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var m=h.as,g=u(m,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,x=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?n.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:x}):m==="script"&&n.d.X(f,{crossOrigin:g,integrity:v,fetchPriority:x,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Zr.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=u(h.as,h.crossOrigin);n.d.M(f,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(f)},Zr.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,g=u(m,h.crossOrigin);n.d.L(f,m,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Zr.preloadModule=function(f,h){if(typeof f=="string")if(h){var m=u(h.as,h.crossOrigin);n.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(f)},Zr.requestFormReset=function(f){n.d.r(f)},Zr.unstable_batchedUpdates=function(f,h){return f(h)},Zr.useFormState=function(f,h,m){return l.H.useFormState(f,h,m)},Zr.useFormStatus=function(){return l.H.useHostTransitionStatus()},Zr.version="19.2.3",Zr}var _2;function qD(){if(_2)return $0.exports;_2=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),$0.exports=cB(),$0.exports}var k2;function uB(){if(k2)return Nu;k2=1;var e=lB(),t=fc(),r=qD();function n(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)o+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function s(i){var o=i,d=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(d=o.return),i=o.return;while(i)}return o.tag===3?d:null}function l(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function u(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function f(i){if(s(i)!==i)throw Error(n(188))}function h(i){var o=i.alternate;if(!o){if(o=s(i),o===null)throw Error(n(188));return o!==i?null:i}for(var d=i,p=o;;){var b=d.return;if(b===null)break;var j=b.alternate;if(j===null){if(p=b.return,p!==null){d=p;continue}break}if(b.child===j.child){for(j=b.child;j;){if(j===d)return f(b),i;if(j===p)return f(b),o;j=j.sibling}throw Error(n(188))}if(d.return!==p.return)d=b,p=j;else{for(var E=!1,R=b.child;R;){if(R===d){E=!0,d=b,p=j;break}if(R===p){E=!0,p=b,d=j;break}R=R.sibling}if(!E){for(R=j.child;R;){if(R===d){E=!0,d=j,p=b;break}if(R===p){E=!0,p=j,d=b;break}R=R.sibling}if(!E)throw Error(n(189))}}if(d.alternate!==p)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?i:o}function m(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=m(i),o!==null)return o;i=i.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),k=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),te=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function K(i){return i===null||typeof i!="object"?null:(i=W&&i[W]||i["@@iterator"],typeof i=="function"?i:null)}var Se=Symbol.for("react.client.reference");function be(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===Se?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case S:return"Fragment";case _:return"Profiler";case N:return"StrictMode";case M:return"Suspense";case C:return"SuspenseList";case V:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case w:return"Portal";case k:return i.displayName||"Context";case A:return(i._context.displayName||"Context")+".Consumer";case O:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case D:return o=i.displayName||null,o!==null?o:be(i.type)||"Memo";case L:o=i._payload,i=i._init;try{return be(i(o))}catch{}}return null}var Ae=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},we=[],G=-1;function T(i){return{current:i}}function I(i){0>G||(i.current=we[G],we[G]=null,G--)}function $(i,o){G++,we[G]=i.current,i.current=o}var B=T(null),Z=T(null),ue=T(null),je=T(null);function Oe(i,o){switch($(ue,o),$(Z,i),$(B,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?zk(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=zk(o),i=qk(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}I(B),$(B,i)}function Q(){I(B),I(Z),I(ue)}function de(i){i.memoizedState!==null&&$(je,i);var o=B.current,d=qk(o,i.type);o!==d&&($(Z,i),$(B,d))}function Ee(i){Z.current===i&&(I(B),I(Z)),je.current===i&&(I(je),xu._currentValue=ce)}var oe,qe;function Be(i){if(oe===void 0)try{throw Error()}catch(d){var o=d.stack.trim().match(/\n( *(at )?)/);oe=o&&o[1]||"",qe=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+oe+i+qe}var pe=!1;function ke(i,o){if(!i||pe)return"";pe=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(o){var ve=function(){throw Error()};if(Object.defineProperty(ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ve,[])}catch(le){var ae=le}Reflect.construct(i,[],ve)}else{try{ve.call()}catch(le){ae=le}i.call(ve.prototype)}}else{try{throw Error()}catch(le){ae=le}(ve=i())&&typeof ve.catch=="function"&&ve.catch(function(){})}}catch(le){if(le&&ae&&typeof le.stack=="string")return[le.stack,ae.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var j=p.DetermineComponentFrameRoot(),E=j[0],R=j[1];if(E&&R){var q=E.split(`
`),ne=R.split(`
`);for(b=p=0;p<q.length&&!q[p].includes("DetermineComponentFrameRoot");)p++;for(;b<ne.length&&!ne[b].includes("DetermineComponentFrameRoot");)b++;if(p===q.length||b===ne.length)for(p=q.length-1,b=ne.length-1;1<=p&&0<=b&&q[p]!==ne[b];)b--;for(;1<=p&&0<=b;p--,b--)if(q[p]!==ne[b]){if(p!==1||b!==1)do if(p--,b--,0>b||q[p]!==ne[b]){var fe=`
`+q[p].replace(" at new "," at ");return i.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",i.displayName)),fe}while(1<=p&&0<=b);break}}}finally{pe=!1,Error.prepareStackTrace=d}return(d=i?i.displayName||i.name:"")?Be(d):""}function he(i,o){switch(i.tag){case 26:case 27:case 5:return Be(i.type);case 16:return Be("Lazy");case 13:return i.child!==o&&o!==null?Be("Suspense Fallback"):Be("Suspense");case 19:return Be("SuspenseList");case 0:case 15:return ke(i.type,!1);case 11:return ke(i.type.render,!1);case 1:return ke(i.type,!0);case 31:return Be("Activity");default:return""}}function Re(i){try{var o="",d=null;do o+=he(i,d),d=i,i=i.return;while(i);return o}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var Ge=Object.prototype.hasOwnProperty,vt=e.unstable_scheduleCallback,$r=e.unstable_cancelCallback,jn=e.unstable_shouldYield,Ho=e.unstable_requestPaint,Ar=e.unstable_now,Fo=e.unstable_getCurrentPriorityLevel,qs=e.unstable_ImmediatePriority,Vs=e.unstable_UserBlockingPriority,ri=e.unstable_NormalPriority,Ko=e.unstable_LowPriority,Hs=e.unstable_IdlePriority,er=e.log,Xr=e.unstable_setDisableYieldValue,Ra=null,Er=null;function Sn(i){if(typeof er=="function"&&Xr(i),Er&&typeof Er.setStrictMode=="function")try{Er.setStrictMode(Ra,i)}catch{}}var pr=Math.clz32?Math.clz32:z,se=Math.log,P=Math.LN2;function z(i){return i>>>=0,i===0?32:31-(se(i)/P|0)|0}var U=256,H=262144,ie=4194304;function me(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function xe(i,o,d){var p=i.pendingLanes;if(p===0)return 0;var b=0,j=i.suspendedLanes,E=i.pingedLanes;i=i.warmLanes;var R=p&134217727;return R!==0?(p=R&~j,p!==0?b=me(p):(E&=R,E!==0?b=me(E):d||(d=R&~i,d!==0&&(b=me(d))))):(R=p&~j,R!==0?b=me(R):E!==0?b=me(E):d||(d=p&~i,d!==0&&(b=me(d)))),b===0?0:o!==0&&o!==b&&(o&j)===0&&(j=b&-b,d=o&-o,j>=d||j===32&&(d&4194048)!==0)?o:b}function Ne(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function _e(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ze(){var i=ie;return ie<<=1,(ie&62914560)===0&&(ie=4194304),i}function We(i){for(var o=[],d=0;31>d;d++)o.push(i);return o}function Ye(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ct(i,o,d,p,b,j){var E=i.pendingLanes;i.pendingLanes=d,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=d,i.entangledLanes&=d,i.errorRecoveryDisabledLanes&=d,i.shellSuspendCounter=0;var R=i.entanglements,q=i.expirationTimes,ne=i.hiddenUpdates;for(d=E&~d;0<d;){var fe=31-pr(d),ve=1<<fe;R[fe]=0,q[fe]=-1;var ae=ne[fe];if(ae!==null)for(ne[fe]=null,fe=0;fe<ae.length;fe++){var le=ae[fe];le!==null&&(le.lane&=-536870913)}d&=~ve}p!==0&&lt(i,p,0),j!==0&&b===0&&i.tag!==0&&(i.suspendedLanes|=j&~(E&~o))}function lt(i,o,d){i.pendingLanes|=o,i.suspendedLanes&=~o;var p=31-pr(o);i.entangledLanes|=o,i.entanglements[p]=i.entanglements[p]|1073741824|d&261930}function gr(i,o){var d=i.entangledLanes|=o;for(i=i.entanglements;d;){var p=31-pr(d),b=1<<p;b&o|i[p]&o&&(i[p]|=o),d&=~b}}function Vt(i,o){var d=o&-o;return d=(d&42)!==0?1:kt(d),(d&(i.suspendedLanes|o))!==0?0:d}function kt(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function $t(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Ia(){var i=ee.p;return i!==0?i:(i=window.event,i===void 0?32:d2(i.type))}function cf(i,o){var d=ee.p;try{return ee.p=i,o()}finally{ee.p=d}}var Zi=Math.random().toString(36).slice(2),Ur="__reactFiber$"+Zi,dn="__reactProps$"+Zi,Go="__reactContainer$"+Zi,Ng="__reactEvents$"+Zi,H6="__reactListeners$"+Zi,F6="__reactHandles$"+Zi,ES="__reactResources$"+Zi,Mc="__reactMarker$"+Zi;function _g(i){delete i[Ur],delete i[dn],delete i[Ng],delete i[H6],delete i[F6]}function Wo(i){var o=i[Ur];if(o)return o;for(var d=i.parentNode;d;){if(o=d[Go]||d[Ur]){if(d=o.alternate,o.child!==null||d!==null&&d.child!==null)for(i=Yk(i);i!==null;){if(d=i[Ur])return d;i=Yk(i)}return o}i=d,d=i.parentNode}return null}function Yo(i){if(i=i[Ur]||i[Go]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function Rc(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(n(33))}function Xo(i){var o=i[ES];return o||(o=i[ES]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Tr(i){i[Mc]=!0}var TS=new Set,OS={};function Fs(i,o){Zo(i,o),Zo(i+"Capture",o)}function Zo(i,o){for(OS[i]=o,i=0;i<o.length;i++)TS.add(o[i])}var K6=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),CS={},PS={};function G6(i){return Ge.call(PS,i)?!0:Ge.call(CS,i)?!1:K6.test(i)?PS[i]=!0:(CS[i]=!0,!1)}function uf(i,o,d){if(G6(o))if(d===null)i.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var p=o.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+d)}}function df(i,o,d){if(d===null)i.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+d)}}function ni(i,o,d,p){if(p===null)i.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(d);return}i.setAttributeNS(o,d,""+p)}}function Bn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function DS(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function W6(i,o,d){var p=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var b=p.get,j=p.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return b.call(this)},set:function(E){d=""+E,j.call(this,E)}}),Object.defineProperty(i,o,{enumerable:p.enumerable}),{getValue:function(){return d},setValue:function(E){d=""+E},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function kg(i){if(!i._valueTracker){var o=DS(i)?"checked":"value";i._valueTracker=W6(i,o,""+i[o])}}function MS(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var d=o.getValue(),p="";return i&&(p=DS(i)?i.checked?"true":"false":i.value),i=p,i!==d?(o.setValue(i),!0):!1}function ff(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Y6=/[\n"\\]/g;function zn(i){return i.replace(Y6,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Ag(i,o,d,p,b,j,E,R){i.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.type=E:i.removeAttribute("type"),o!=null?E==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+Bn(o)):i.value!==""+Bn(o)&&(i.value=""+Bn(o)):E!=="submit"&&E!=="reset"||i.removeAttribute("value"),o!=null?Eg(i,E,Bn(o)):d!=null?Eg(i,E,Bn(d)):p!=null&&i.removeAttribute("value"),b==null&&j!=null&&(i.defaultChecked=!!j),b!=null&&(i.checked=b&&typeof b!="function"&&typeof b!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?i.name=""+Bn(R):i.removeAttribute("name")}function RS(i,o,d,p,b,j,E,R){if(j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(i.type=j),o!=null||d!=null){if(!(j!=="submit"&&j!=="reset"||o!=null)){kg(i);return}d=d!=null?""+Bn(d):"",o=o!=null?""+Bn(o):d,R||o===i.value||(i.value=o),i.defaultValue=o}p=p??b,p=typeof p!="function"&&typeof p!="symbol"&&!!p,i.checked=R?i.checked:!!p,i.defaultChecked=!!p,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.name=E),kg(i)}function Eg(i,o,d){o==="number"&&ff(i.ownerDocument)===i||i.defaultValue===""+d||(i.defaultValue=""+d)}function Qo(i,o,d,p){if(i=i.options,o){o={};for(var b=0;b<d.length;b++)o["$"+d[b]]=!0;for(d=0;d<i.length;d++)b=o.hasOwnProperty("$"+i[d].value),i[d].selected!==b&&(i[d].selected=b),b&&p&&(i[d].defaultSelected=!0)}else{for(d=""+Bn(d),o=null,b=0;b<i.length;b++){if(i[b].value===d){i[b].selected=!0,p&&(i[b].defaultSelected=!0);return}o!==null||i[b].disabled||(o=i[b])}o!==null&&(o.selected=!0)}}function IS(i,o,d){if(o!=null&&(o=""+Bn(o),o!==i.value&&(i.value=o),d==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=d!=null?""+Bn(d):""}function LS(i,o,d,p){if(o==null){if(p!=null){if(d!=null)throw Error(n(92));if(Ae(p)){if(1<p.length)throw Error(n(93));p=p[0]}d=p}d==null&&(d=""),o=d}d=Bn(o),i.defaultValue=d,p=i.textContent,p===d&&p!==""&&p!==null&&(i.value=p),kg(i)}function Jo(i,o){if(o){var d=i.firstChild;if(d&&d===i.lastChild&&d.nodeType===3){d.nodeValue=o;return}}i.textContent=o}var X6=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $S(i,o,d){var p=o.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?p?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":p?i.setProperty(o,d):typeof d!="number"||d===0||X6.has(o)?o==="float"?i.cssFloat=d:i[o]=(""+d).trim():i[o]=d+"px"}function US(i,o,d){if(o!=null&&typeof o!="object")throw Error(n(62));if(i=i.style,d!=null){for(var p in d)!d.hasOwnProperty(p)||o!=null&&o.hasOwnProperty(p)||(p.indexOf("--")===0?i.setProperty(p,""):p==="float"?i.cssFloat="":i[p]="");for(var b in o)p=o[b],o.hasOwnProperty(b)&&d[b]!==p&&$S(i,b,p)}else for(var j in o)o.hasOwnProperty(j)&&$S(i,j,o[j])}function Tg(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Z6=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Q6=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hf(i){return Q6.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ai(){}var Og=null;function Cg(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var el=null,tl=null;function BS(i){var o=Yo(i);if(o&&(i=o.stateNode)){var d=i[dn]||null;e:switch(i=o.stateNode,o.type){case"input":if(Ag(i,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),o=d.name,d.type==="radio"&&o!=null){for(d=i;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+zn(""+o)+'"][type="radio"]'),o=0;o<d.length;o++){var p=d[o];if(p!==i&&p.form===i.form){var b=p[dn]||null;if(!b)throw Error(n(90));Ag(p,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(o=0;o<d.length;o++)p=d[o],p.form===i.form&&MS(p)}break e;case"textarea":IS(i,d.value,d.defaultValue);break e;case"select":o=d.value,o!=null&&Qo(i,!!d.multiple,o,!1)}}}var Pg=!1;function zS(i,o,d){if(Pg)return i(o,d);Pg=!0;try{var p=i(o);return p}finally{if(Pg=!1,(el!==null||tl!==null)&&(eh(),el&&(o=el,i=tl,tl=el=null,BS(o),i)))for(o=0;o<i.length;o++)BS(i[o])}}function Ic(i,o){var d=i.stateNode;if(d===null)return null;var p=d[dn]||null;if(p===null)return null;d=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(d&&typeof d!="function")throw Error(n(231,o,typeof d));return d}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dg=!1;if(ii)try{var Lc={};Object.defineProperty(Lc,"passive",{get:function(){Dg=!0}}),window.addEventListener("test",Lc,Lc),window.removeEventListener("test",Lc,Lc)}catch{Dg=!1}var Qi=null,Mg=null,mf=null;function qS(){if(mf)return mf;var i,o=Mg,d=o.length,p,b="value"in Qi?Qi.value:Qi.textContent,j=b.length;for(i=0;i<d&&o[i]===b[i];i++);var E=d-i;for(p=1;p<=E&&o[d-p]===b[j-p];p++);return mf=b.slice(i,1<p?1-p:void 0)}function pf(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function gf(){return!0}function VS(){return!1}function fn(i){function o(d,p,b,j,E){this._reactName=d,this._targetInst=b,this.type=p,this.nativeEvent=j,this.target=E,this.currentTarget=null;for(var R in i)i.hasOwnProperty(R)&&(d=i[R],this[R]=d?d(j):j[R]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?gf:VS,this.isPropagationStopped=VS,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=gf)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=gf)},persist:function(){},isPersistent:gf}),o}var Ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vf=fn(Ks),$c=g({},Ks,{view:0,detail:0}),J6=fn($c),Rg,Ig,Uc,yf=g({},$c,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$g,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Uc&&(Uc&&i.type==="mousemove"?(Rg=i.screenX-Uc.screenX,Ig=i.screenY-Uc.screenY):Ig=Rg=0,Uc=i),Rg)},movementY:function(i){return"movementY"in i?i.movementY:Ig}}),HS=fn(yf),e$=g({},yf,{dataTransfer:0}),t$=fn(e$),r$=g({},$c,{relatedTarget:0}),Lg=fn(r$),n$=g({},Ks,{animationName:0,elapsedTime:0,pseudoElement:0}),a$=fn(n$),i$=g({},Ks,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),s$=fn(i$),o$=g({},Ks,{data:0}),FS=fn(o$),l$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},c$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},u$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function d$(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=u$[i])?!!o[i]:!1}function $g(){return d$}var f$=g({},$c,{key:function(i){if(i.key){var o=l$[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=pf(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?c$[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$g,charCode:function(i){return i.type==="keypress"?pf(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?pf(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),h$=fn(f$),m$=g({},yf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),KS=fn(m$),p$=g({},$c,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$g}),g$=fn(p$),v$=g({},Ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),y$=fn(v$),x$=g({},yf,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),b$=fn(x$),w$=g({},Ks,{newState:0,oldState:0}),j$=fn(w$),S$=[9,13,27,32],Ug=ii&&"CompositionEvent"in window,Bc=null;ii&&"documentMode"in document&&(Bc=document.documentMode);var N$=ii&&"TextEvent"in window&&!Bc,GS=ii&&(!Ug||Bc&&8<Bc&&11>=Bc),WS=" ",YS=!1;function XS(i,o){switch(i){case"keyup":return S$.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ZS(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var rl=!1;function _$(i,o){switch(i){case"compositionend":return ZS(o);case"keypress":return o.which!==32?null:(YS=!0,WS);case"textInput":return i=o.data,i===WS&&YS?null:i;default:return null}}function k$(i,o){if(rl)return i==="compositionend"||!Ug&&XS(i,o)?(i=qS(),mf=Mg=Qi=null,rl=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return GS&&o.locale!=="ko"?null:o.data;default:return null}}var A$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function QS(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!A$[i.type]:o==="textarea"}function JS(i,o,d,p){el?tl?tl.push(p):tl=[p]:el=p,o=oh(o,"onChange"),0<o.length&&(d=new vf("onChange","change",null,d,p),i.push({event:d,listeners:o}))}var zc=null,qc=null;function E$(i){Rk(i,0)}function xf(i){var o=Rc(i);if(MS(o))return i}function eN(i,o){if(i==="change")return o}var tN=!1;if(ii){var Bg;if(ii){var zg="oninput"in document;if(!zg){var rN=document.createElement("div");rN.setAttribute("oninput","return;"),zg=typeof rN.oninput=="function"}Bg=zg}else Bg=!1;tN=Bg&&(!document.documentMode||9<document.documentMode)}function nN(){zc&&(zc.detachEvent("onpropertychange",aN),qc=zc=null)}function aN(i){if(i.propertyName==="value"&&xf(qc)){var o=[];JS(o,qc,i,Cg(i)),zS(E$,o)}}function T$(i,o,d){i==="focusin"?(nN(),zc=o,qc=d,zc.attachEvent("onpropertychange",aN)):i==="focusout"&&nN()}function O$(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return xf(qc)}function C$(i,o){if(i==="click")return xf(o)}function P$(i,o){if(i==="input"||i==="change")return xf(o)}function D$(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Nn=typeof Object.is=="function"?Object.is:D$;function Vc(i,o){if(Nn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var d=Object.keys(i),p=Object.keys(o);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var b=d[p];if(!Ge.call(o,b)||!Nn(i[b],o[b]))return!1}return!0}function iN(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function sN(i,o){var d=iN(i);i=0;for(var p;d;){if(d.nodeType===3){if(p=i+d.textContent.length,i<=o&&p>=o)return{node:d,offset:o-i};i=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=iN(d)}}function oN(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?oN(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function lN(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=ff(i.document);o instanceof i.HTMLIFrameElement;){try{var d=typeof o.contentWindow.location.href=="string"}catch{d=!1}if(d)i=o.contentWindow;else break;o=ff(i.document)}return o}function qg(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var M$=ii&&"documentMode"in document&&11>=document.documentMode,nl=null,Vg=null,Hc=null,Hg=!1;function cN(i,o,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Hg||nl==null||nl!==ff(p)||(p=nl,"selectionStart"in p&&qg(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Hc&&Vc(Hc,p)||(Hc=p,p=oh(Vg,"onSelect"),0<p.length&&(o=new vf("onSelect","select",null,o,d),i.push({event:o,listeners:p}),o.target=nl)))}function Gs(i,o){var d={};return d[i.toLowerCase()]=o.toLowerCase(),d["Webkit"+i]="webkit"+o,d["Moz"+i]="moz"+o,d}var al={animationend:Gs("Animation","AnimationEnd"),animationiteration:Gs("Animation","AnimationIteration"),animationstart:Gs("Animation","AnimationStart"),transitionrun:Gs("Transition","TransitionRun"),transitionstart:Gs("Transition","TransitionStart"),transitioncancel:Gs("Transition","TransitionCancel"),transitionend:Gs("Transition","TransitionEnd")},Fg={},uN={};ii&&(uN=document.createElement("div").style,"AnimationEvent"in window||(delete al.animationend.animation,delete al.animationiteration.animation,delete al.animationstart.animation),"TransitionEvent"in window||delete al.transitionend.transition);function Ws(i){if(Fg[i])return Fg[i];if(!al[i])return i;var o=al[i],d;for(d in o)if(o.hasOwnProperty(d)&&d in uN)return Fg[i]=o[d];return i}var dN=Ws("animationend"),fN=Ws("animationiteration"),hN=Ws("animationstart"),R$=Ws("transitionrun"),I$=Ws("transitionstart"),L$=Ws("transitioncancel"),mN=Ws("transitionend"),pN=new Map,Kg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kg.push("scrollEnd");function ca(i,o){pN.set(i,o),Fs(o,[i])}var bf=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},qn=[],il=0,Gg=0;function wf(){for(var i=il,o=Gg=il=0;o<i;){var d=qn[o];qn[o++]=null;var p=qn[o];qn[o++]=null;var b=qn[o];qn[o++]=null;var j=qn[o];if(qn[o++]=null,p!==null&&b!==null){var E=p.pending;E===null?b.next=b:(b.next=E.next,E.next=b),p.pending=b}j!==0&&gN(d,b,j)}}function jf(i,o,d,p){qn[il++]=i,qn[il++]=o,qn[il++]=d,qn[il++]=p,Gg|=p,i.lanes|=p,i=i.alternate,i!==null&&(i.lanes|=p)}function Wg(i,o,d,p){return jf(i,o,d,p),Sf(i)}function Ys(i,o){return jf(i,null,null,o),Sf(i)}function gN(i,o,d){i.lanes|=d;var p=i.alternate;p!==null&&(p.lanes|=d);for(var b=!1,j=i.return;j!==null;)j.childLanes|=d,p=j.alternate,p!==null&&(p.childLanes|=d),j.tag===22&&(i=j.stateNode,i===null||i._visibility&1||(b=!0)),i=j,j=j.return;return i.tag===3?(j=i.stateNode,b&&o!==null&&(b=31-pr(d),i=j.hiddenUpdates,p=i[b],p===null?i[b]=[o]:p.push(o),o.lane=d|536870912),j):null}function Sf(i){if(50<fu)throw fu=0,n0=null,Error(n(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var sl={};function $$(i,o,d,p){this.tag=i,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(i,o,d,p){return new $$(i,o,d,p)}function Yg(i){return i=i.prototype,!(!i||!i.isReactComponent)}function si(i,o){var d=i.alternate;return d===null?(d=_n(i.tag,o,i.key,i.mode),d.elementType=i.elementType,d.type=i.type,d.stateNode=i.stateNode,d.alternate=i,i.alternate=d):(d.pendingProps=o,d.type=i.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=i.flags&65011712,d.childLanes=i.childLanes,d.lanes=i.lanes,d.child=i.child,d.memoizedProps=i.memoizedProps,d.memoizedState=i.memoizedState,d.updateQueue=i.updateQueue,o=i.dependencies,d.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},d.sibling=i.sibling,d.index=i.index,d.ref=i.ref,d.refCleanup=i.refCleanup,d}function vN(i,o){i.flags&=65011714;var d=i.alternate;return d===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=d.childLanes,i.lanes=d.lanes,i.child=d.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=d.memoizedProps,i.memoizedState=d.memoizedState,i.updateQueue=d.updateQueue,i.type=d.type,o=d.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function Nf(i,o,d,p,b,j){var E=0;if(p=i,typeof i=="function")Yg(i)&&(E=1);else if(typeof i=="string")E=VU(i,d,B.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case V:return i=_n(31,d,o,b),i.elementType=V,i.lanes=j,i;case S:return Xs(d.children,b,j,o);case N:E=8,b|=24;break;case _:return i=_n(12,d,o,b|2),i.elementType=_,i.lanes=j,i;case M:return i=_n(13,d,o,b),i.elementType=M,i.lanes=j,i;case C:return i=_n(19,d,o,b),i.elementType=C,i.lanes=j,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case k:E=10;break e;case A:E=9;break e;case O:E=11;break e;case D:E=14;break e;case L:E=16,p=null;break e}E=29,d=Error(n(130,i===null?"null":typeof i,"")),p=null}return o=_n(E,d,o,b),o.elementType=i,o.type=p,o.lanes=j,o}function Xs(i,o,d,p){return i=_n(7,i,p,o),i.lanes=d,i}function Xg(i,o,d){return i=_n(6,i,null,o),i.lanes=d,i}function yN(i){var o=_n(18,null,null,0);return o.stateNode=i,o}function Zg(i,o,d){return o=_n(4,i.children!==null?i.children:[],i.key,o),o.lanes=d,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var xN=new WeakMap;function Vn(i,o){if(typeof i=="object"&&i!==null){var d=xN.get(i);return d!==void 0?d:(o={value:i,source:o,stack:Re(o)},xN.set(i,o),o)}return{value:i,source:o,stack:Re(o)}}var ol=[],ll=0,_f=null,Fc=0,Hn=[],Fn=0,Ji=null,La=1,$a="";function oi(i,o){ol[ll++]=Fc,ol[ll++]=_f,_f=i,Fc=o}function bN(i,o,d){Hn[Fn++]=La,Hn[Fn++]=$a,Hn[Fn++]=Ji,Ji=i;var p=La;i=$a;var b=32-pr(p)-1;p&=~(1<<b),d+=1;var j=32-pr(o)+b;if(30<j){var E=b-b%5;j=(p&(1<<E)-1).toString(32),p>>=E,b-=E,La=1<<32-pr(o)+b|d<<b|p,$a=j+i}else La=1<<j|d<<b|p,$a=i}function Qg(i){i.return!==null&&(oi(i,1),bN(i,1,0))}function Jg(i){for(;i===_f;)_f=ol[--ll],ol[ll]=null,Fc=ol[--ll],ol[ll]=null;for(;i===Ji;)Ji=Hn[--Fn],Hn[Fn]=null,$a=Hn[--Fn],Hn[Fn]=null,La=Hn[--Fn],Hn[Fn]=null}function wN(i,o){Hn[Fn++]=La,Hn[Fn++]=$a,Hn[Fn++]=Ji,La=o.id,$a=o.overflow,Ji=i}var Br=null,Mt=null,st=!1,es=null,Kn=!1,ev=Error(n(519));function ts(i){var o=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Kc(Vn(o,i)),ev}function jN(i){var o=i.stateNode,d=i.type,p=i.memoizedProps;switch(o[Ur]=i,o[dn]=p,d){case"dialog":et("cancel",o),et("close",o);break;case"iframe":case"object":case"embed":et("load",o);break;case"video":case"audio":for(d=0;d<mu.length;d++)et(mu[d],o);break;case"source":et("error",o);break;case"img":case"image":case"link":et("error",o),et("load",o);break;case"details":et("toggle",o);break;case"input":et("invalid",o),RS(o,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":et("invalid",o);break;case"textarea":et("invalid",o),LS(o,p.value,p.defaultValue,p.children)}d=p.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||o.textContent===""+d||p.suppressHydrationWarning===!0||Uk(o.textContent,d)?(p.popover!=null&&(et("beforetoggle",o),et("toggle",o)),p.onScroll!=null&&et("scroll",o),p.onScrollEnd!=null&&et("scrollend",o),p.onClick!=null&&(o.onclick=ai),o=!0):o=!1,o||ts(i,!0)}function SN(i){for(Br=i.return;Br;)switch(Br.tag){case 5:case 31:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:Br=Br.return}}function cl(i){if(i!==Br)return!1;if(!st)return SN(i),st=!0,!1;var o=i.tag,d;if((d=o!==3&&o!==27)&&((d=o===5)&&(d=i.type,d=!(d!=="form"&&d!=="button")||y0(i.type,i.memoizedProps)),d=!d),d&&Mt&&ts(i),SN(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));Mt=Wk(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));Mt=Wk(i)}else o===27?(o=Mt,ps(i.type)?(i=S0,S0=null,Mt=i):Mt=o):Mt=Br?Wn(i.stateNode.nextSibling):null;return!0}function Zs(){Mt=Br=null,st=!1}function tv(){var i=es;return i!==null&&(gn===null?gn=i:gn.push.apply(gn,i),es=null),i}function Kc(i){es===null?es=[i]:es.push(i)}var rv=T(null),Qs=null,li=null;function rs(i,o,d){$(rv,o._currentValue),o._currentValue=d}function ci(i){i._currentValue=rv.current,I(rv)}function nv(i,o,d){for(;i!==null;){var p=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),i===d)break;i=i.return}}function av(i,o,d,p){var b=i.child;for(b!==null&&(b.return=i);b!==null;){var j=b.dependencies;if(j!==null){var E=b.child;j=j.firstContext;e:for(;j!==null;){var R=j;j=b;for(var q=0;q<o.length;q++)if(R.context===o[q]){j.lanes|=d,R=j.alternate,R!==null&&(R.lanes|=d),nv(j.return,d,i),p||(E=null);break e}j=R.next}}else if(b.tag===18){if(E=b.return,E===null)throw Error(n(341));E.lanes|=d,j=E.alternate,j!==null&&(j.lanes|=d),nv(E,d,i),E=null}else E=b.child;if(E!==null)E.return=b;else for(E=b;E!==null;){if(E===i){E=null;break}if(b=E.sibling,b!==null){b.return=E.return,E=b;break}E=E.return}b=E}}function ul(i,o,d,p){i=null;for(var b=o,j=!1;b!==null;){if(!j){if((b.flags&524288)!==0)j=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var E=b.alternate;if(E===null)throw Error(n(387));if(E=E.memoizedProps,E!==null){var R=b.type;Nn(b.pendingProps.value,E.value)||(i!==null?i.push(R):i=[R])}}else if(b===je.current){if(E=b.alternate,E===null)throw Error(n(387));E.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(i!==null?i.push(xu):i=[xu])}b=b.return}i!==null&&av(o,i,d,p),o.flags|=262144}function kf(i){for(i=i.firstContext;i!==null;){if(!Nn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Js(i){Qs=i,li=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function zr(i){return NN(Qs,i)}function Af(i,o){return Qs===null&&Js(i),NN(i,o)}function NN(i,o){var d=o._currentValue;if(o={context:o,memoizedValue:d,next:null},li===null){if(i===null)throw Error(n(308));li=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else li=li.next=o;return d}var U$=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(d,p){i.push(p)}};this.abort=function(){o.aborted=!0,i.forEach(function(d){return d()})}},B$=e.unstable_scheduleCallback,z$=e.unstable_NormalPriority,sr={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function iv(){return{controller:new U$,data:new Map,refCount:0}}function Gc(i){i.refCount--,i.refCount===0&&B$(z$,function(){i.controller.abort()})}var Wc=null,sv=0,dl=0,fl=null;function q$(i,o){if(Wc===null){var d=Wc=[];sv=0,dl=c0(),fl={status:"pending",value:void 0,then:function(p){d.push(p)}}}return sv++,o.then(_N,_N),o}function _N(){if(--sv===0&&Wc!==null){fl!==null&&(fl.status="fulfilled");var i=Wc;Wc=null,dl=0,fl=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function V$(i,o){var d=[],p={status:"pending",value:null,reason:null,then:function(b){d.push(b)}};return i.then(function(){p.status="fulfilled",p.value=o;for(var b=0;b<d.length;b++)(0,d[b])(o)},function(b){for(p.status="rejected",p.reason=b,b=0;b<d.length;b++)(0,d[b])(void 0)}),p}var kN=Y.S;Y.S=function(i,o){ck=Ar(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&q$(i,o),kN!==null&&kN(i,o)};var eo=T(null);function ov(){var i=eo.current;return i!==null?i:At.pooledCache}function Ef(i,o){o===null?$(eo,eo.current):$(eo,o.pool)}function AN(){var i=ov();return i===null?null:{parent:sr._currentValue,pool:i}}var hl=Error(n(460)),lv=Error(n(474)),Tf=Error(n(542)),Of={then:function(){}};function EN(i){return i=i.status,i==="fulfilled"||i==="rejected"}function TN(i,o,d){switch(d=i[d],d===void 0?i.push(o):d!==o&&(o.then(ai,ai),o=d),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,CN(i),i;default:if(typeof o.status=="string")o.then(ai,ai);else{if(i=At,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=o,i.status="pending",i.then(function(p){if(o.status==="pending"){var b=o;b.status="fulfilled",b.value=p}},function(p){if(o.status==="pending"){var b=o;b.status="rejected",b.reason=p}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,CN(i),i}throw ro=o,hl}}function to(i){try{var o=i._init;return o(i._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(ro=d,hl):d}}var ro=null;function ON(){if(ro===null)throw Error(n(459));var i=ro;return ro=null,i}function CN(i){if(i===hl||i===Tf)throw Error(n(483))}var ml=null,Yc=0;function Cf(i){var o=Yc;return Yc+=1,ml===null&&(ml=[]),TN(ml,i,o)}function Xc(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function Pf(i,o){throw o.$$typeof===v?Error(n(525)):(i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function PN(i){function o(X,F){if(i){var re=X.deletions;re===null?(X.deletions=[F],X.flags|=16):re.push(F)}}function d(X,F){if(!i)return null;for(;F!==null;)o(X,F),F=F.sibling;return null}function p(X){for(var F=new Map;X!==null;)X.key!==null?F.set(X.key,X):F.set(X.index,X),X=X.sibling;return F}function b(X,F){return X=si(X,F),X.index=0,X.sibling=null,X}function j(X,F,re){return X.index=re,i?(re=X.alternate,re!==null?(re=re.index,re<F?(X.flags|=67108866,F):re):(X.flags|=67108866,F)):(X.flags|=1048576,F)}function E(X){return i&&X.alternate===null&&(X.flags|=67108866),X}function R(X,F,re,ge){return F===null||F.tag!==6?(F=Xg(re,X.mode,ge),F.return=X,F):(F=b(F,re),F.return=X,F)}function q(X,F,re,ge){var Ue=re.type;return Ue===S?fe(X,F,re.props.children,ge,re.key):F!==null&&(F.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===L&&to(Ue)===F.type)?(F=b(F,re.props),Xc(F,re),F.return=X,F):(F=Nf(re.type,re.key,re.props,null,X.mode,ge),Xc(F,re),F.return=X,F)}function ne(X,F,re,ge){return F===null||F.tag!==4||F.stateNode.containerInfo!==re.containerInfo||F.stateNode.implementation!==re.implementation?(F=Zg(re,X.mode,ge),F.return=X,F):(F=b(F,re.children||[]),F.return=X,F)}function fe(X,F,re,ge,Ue){return F===null||F.tag!==7?(F=Xs(re,X.mode,ge,Ue),F.return=X,F):(F=b(F,re),F.return=X,F)}function ve(X,F,re){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=Xg(""+F,X.mode,re),F.return=X,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case x:return re=Nf(F.type,F.key,F.props,null,X.mode,re),Xc(re,F),re.return=X,re;case w:return F=Zg(F,X.mode,re),F.return=X,F;case L:return F=to(F),ve(X,F,re)}if(Ae(F)||K(F))return F=Xs(F,X.mode,re,null),F.return=X,F;if(typeof F.then=="function")return ve(X,Cf(F),re);if(F.$$typeof===k)return ve(X,Af(X,F),re);Pf(X,F)}return null}function ae(X,F,re,ge){var Ue=F!==null?F.key:null;if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return Ue!==null?null:R(X,F,""+re,ge);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case x:return re.key===Ue?q(X,F,re,ge):null;case w:return re.key===Ue?ne(X,F,re,ge):null;case L:return re=to(re),ae(X,F,re,ge)}if(Ae(re)||K(re))return Ue!==null?null:fe(X,F,re,ge,null);if(typeof re.then=="function")return ae(X,F,Cf(re),ge);if(re.$$typeof===k)return ae(X,F,Af(X,re),ge);Pf(X,re)}return null}function le(X,F,re,ge,Ue){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return X=X.get(re)||null,R(F,X,""+ge,Ue);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case x:return X=X.get(ge.key===null?re:ge.key)||null,q(F,X,ge,Ue);case w:return X=X.get(ge.key===null?re:ge.key)||null,ne(F,X,ge,Ue);case L:return ge=to(ge),le(X,F,re,ge,Ue)}if(Ae(ge)||K(ge))return X=X.get(re)||null,fe(F,X,ge,Ue,null);if(typeof ge.then=="function")return le(X,F,re,Cf(ge),Ue);if(ge.$$typeof===k)return le(X,F,re,Af(F,ge),Ue);Pf(F,ge)}return null}function Pe(X,F,re,ge){for(var Ue=null,ut=null,Ie=F,Qe=F=0,rt=null;Ie!==null&&Qe<re.length;Qe++){Ie.index>Qe?(rt=Ie,Ie=null):rt=Ie.sibling;var dt=ae(X,Ie,re[Qe],ge);if(dt===null){Ie===null&&(Ie=rt);break}i&&Ie&&dt.alternate===null&&o(X,Ie),F=j(dt,F,Qe),ut===null?Ue=dt:ut.sibling=dt,ut=dt,Ie=rt}if(Qe===re.length)return d(X,Ie),st&&oi(X,Qe),Ue;if(Ie===null){for(;Qe<re.length;Qe++)Ie=ve(X,re[Qe],ge),Ie!==null&&(F=j(Ie,F,Qe),ut===null?Ue=Ie:ut.sibling=Ie,ut=Ie);return st&&oi(X,Qe),Ue}for(Ie=p(Ie);Qe<re.length;Qe++)rt=le(Ie,X,Qe,re[Qe],ge),rt!==null&&(i&&rt.alternate!==null&&Ie.delete(rt.key===null?Qe:rt.key),F=j(rt,F,Qe),ut===null?Ue=rt:ut.sibling=rt,ut=rt);return i&&Ie.forEach(function(bs){return o(X,bs)}),st&&oi(X,Qe),Ue}function Ve(X,F,re,ge){if(re==null)throw Error(n(151));for(var Ue=null,ut=null,Ie=F,Qe=F=0,rt=null,dt=re.next();Ie!==null&&!dt.done;Qe++,dt=re.next()){Ie.index>Qe?(rt=Ie,Ie=null):rt=Ie.sibling;var bs=ae(X,Ie,dt.value,ge);if(bs===null){Ie===null&&(Ie=rt);break}i&&Ie&&bs.alternate===null&&o(X,Ie),F=j(bs,F,Qe),ut===null?Ue=bs:ut.sibling=bs,ut=bs,Ie=rt}if(dt.done)return d(X,Ie),st&&oi(X,Qe),Ue;if(Ie===null){for(;!dt.done;Qe++,dt=re.next())dt=ve(X,dt.value,ge),dt!==null&&(F=j(dt,F,Qe),ut===null?Ue=dt:ut.sibling=dt,ut=dt);return st&&oi(X,Qe),Ue}for(Ie=p(Ie);!dt.done;Qe++,dt=re.next())dt=le(Ie,X,Qe,dt.value,ge),dt!==null&&(i&&dt.alternate!==null&&Ie.delete(dt.key===null?Qe:dt.key),F=j(dt,F,Qe),ut===null?Ue=dt:ut.sibling=dt,ut=dt);return i&&Ie.forEach(function(eB){return o(X,eB)}),st&&oi(X,Qe),Ue}function St(X,F,re,ge){if(typeof re=="object"&&re!==null&&re.type===S&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case x:e:{for(var Ue=re.key;F!==null;){if(F.key===Ue){if(Ue=re.type,Ue===S){if(F.tag===7){d(X,F.sibling),ge=b(F,re.props.children),ge.return=X,X=ge;break e}}else if(F.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===L&&to(Ue)===F.type){d(X,F.sibling),ge=b(F,re.props),Xc(ge,re),ge.return=X,X=ge;break e}d(X,F);break}else o(X,F);F=F.sibling}re.type===S?(ge=Xs(re.props.children,X.mode,ge,re.key),ge.return=X,X=ge):(ge=Nf(re.type,re.key,re.props,null,X.mode,ge),Xc(ge,re),ge.return=X,X=ge)}return E(X);case w:e:{for(Ue=re.key;F!==null;){if(F.key===Ue)if(F.tag===4&&F.stateNode.containerInfo===re.containerInfo&&F.stateNode.implementation===re.implementation){d(X,F.sibling),ge=b(F,re.children||[]),ge.return=X,X=ge;break e}else{d(X,F);break}else o(X,F);F=F.sibling}ge=Zg(re,X.mode,ge),ge.return=X,X=ge}return E(X);case L:return re=to(re),St(X,F,re,ge)}if(Ae(re))return Pe(X,F,re,ge);if(K(re)){if(Ue=K(re),typeof Ue!="function")throw Error(n(150));return re=Ue.call(re),Ve(X,F,re,ge)}if(typeof re.then=="function")return St(X,F,Cf(re),ge);if(re.$$typeof===k)return St(X,F,Af(X,re),ge);Pf(X,re)}return typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint"?(re=""+re,F!==null&&F.tag===6?(d(X,F.sibling),ge=b(F,re),ge.return=X,X=ge):(d(X,F),ge=Xg(re,X.mode,ge),ge.return=X,X=ge),E(X)):d(X,F)}return function(X,F,re,ge){try{Yc=0;var Ue=St(X,F,re,ge);return ml=null,Ue}catch(Ie){if(Ie===hl||Ie===Tf)throw Ie;var ut=_n(29,Ie,null,X.mode);return ut.lanes=ge,ut.return=X,ut}}}var no=PN(!0),DN=PN(!1),ns=!1;function cv(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uv(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function as(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function is(i,o,d){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,(pt&2)!==0){var b=p.pending;return b===null?o.next=o:(o.next=b.next,b.next=o),p.pending=o,o=Sf(i),gN(i,null,d),o}return jf(i,p,o,d),Sf(i)}function Zc(i,o,d){if(o=o.updateQueue,o!==null&&(o=o.shared,(d&4194048)!==0)){var p=o.lanes;p&=i.pendingLanes,d|=p,o.lanes=d,gr(i,d)}}function dv(i,o){var d=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var b=null,j=null;if(d=d.firstBaseUpdate,d!==null){do{var E={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};j===null?b=j=E:j=j.next=E,d=d.next}while(d!==null);j===null?b=j=o:j=j.next=o}else b=j=o;d={baseState:p.baseState,firstBaseUpdate:b,lastBaseUpdate:j,shared:p.shared,callbacks:p.callbacks},i.updateQueue=d;return}i=d.lastBaseUpdate,i===null?d.firstBaseUpdate=o:i.next=o,d.lastBaseUpdate=o}var fv=!1;function Qc(){if(fv){var i=fl;if(i!==null)throw i}}function Jc(i,o,d,p){fv=!1;var b=i.updateQueue;ns=!1;var j=b.firstBaseUpdate,E=b.lastBaseUpdate,R=b.shared.pending;if(R!==null){b.shared.pending=null;var q=R,ne=q.next;q.next=null,E===null?j=ne:E.next=ne,E=q;var fe=i.alternate;fe!==null&&(fe=fe.updateQueue,R=fe.lastBaseUpdate,R!==E&&(R===null?fe.firstBaseUpdate=ne:R.next=ne,fe.lastBaseUpdate=q))}if(j!==null){var ve=b.baseState;E=0,fe=ne=q=null,R=j;do{var ae=R.lane&-536870913,le=ae!==R.lane;if(le?(tt&ae)===ae:(p&ae)===ae){ae!==0&&ae===dl&&(fv=!0),fe!==null&&(fe=fe.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var Pe=i,Ve=R;ae=o;var St=d;switch(Ve.tag){case 1:if(Pe=Ve.payload,typeof Pe=="function"){ve=Pe.call(St,ve,ae);break e}ve=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=Ve.payload,ae=typeof Pe=="function"?Pe.call(St,ve,ae):Pe,ae==null)break e;ve=g({},ve,ae);break e;case 2:ns=!0}}ae=R.callback,ae!==null&&(i.flags|=64,le&&(i.flags|=8192),le=b.callbacks,le===null?b.callbacks=[ae]:le.push(ae))}else le={lane:ae,tag:R.tag,payload:R.payload,callback:R.callback,next:null},fe===null?(ne=fe=le,q=ve):fe=fe.next=le,E|=ae;if(R=R.next,R===null){if(R=b.shared.pending,R===null)break;le=R,R=le.next,le.next=null,b.lastBaseUpdate=le,b.shared.pending=null}}while(!0);fe===null&&(q=ve),b.baseState=q,b.firstBaseUpdate=ne,b.lastBaseUpdate=fe,j===null&&(b.shared.lanes=0),us|=E,i.lanes=E,i.memoizedState=ve}}function MN(i,o){if(typeof i!="function")throw Error(n(191,i));i.call(o)}function RN(i,o){var d=i.callbacks;if(d!==null)for(i.callbacks=null,i=0;i<d.length;i++)MN(d[i],o)}var pl=T(null),Df=T(0);function IN(i,o){i=yi,$(Df,i),$(pl,o),yi=i|o.baseLanes}function hv(){$(Df,yi),$(pl,pl.current)}function mv(){yi=Df.current,I(pl),I(Df)}var kn=T(null),Gn=null;function ss(i){var o=i.alternate;$(tr,tr.current&1),$(kn,i),Gn===null&&(o===null||pl.current!==null||o.memoizedState!==null)&&(Gn=i)}function pv(i){$(tr,tr.current),$(kn,i),Gn===null&&(Gn=i)}function LN(i){i.tag===22?($(tr,tr.current),$(kn,i),Gn===null&&(Gn=i)):os()}function os(){$(tr,tr.current),$(kn,kn.current)}function An(i){I(kn),Gn===i&&(Gn=null),I(tr)}var tr=T(0);function Mf(i){for(var o=i;o!==null;){if(o.tag===13){var d=o.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||w0(d)||j0(d)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var ui=0,Ze=null,wt=null,or=null,Rf=!1,gl=!1,ao=!1,If=0,eu=0,vl=null,H$=0;function Wt(){throw Error(n(321))}function gv(i,o){if(o===null)return!1;for(var d=0;d<o.length&&d<i.length;d++)if(!Nn(i[d],o[d]))return!1;return!0}function vv(i,o,d,p,b,j){return ui=j,Ze=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Y.H=i===null||i.memoizedState===null?b_:Pv,ao=!1,j=d(p,b),ao=!1,gl&&(j=UN(o,d,p,b)),$N(i),j}function $N(i){Y.H=nu;var o=wt!==null&&wt.next!==null;if(ui=0,or=wt=Ze=null,Rf=!1,eu=0,vl=null,o)throw Error(n(300));i===null||lr||(i=i.dependencies,i!==null&&kf(i)&&(lr=!0))}function UN(i,o,d,p){Ze=i;var b=0;do{if(gl&&(vl=null),eu=0,gl=!1,25<=b)throw Error(n(301));if(b+=1,or=wt=null,i.updateQueue!=null){var j=i.updateQueue;j.lastEffect=null,j.events=null,j.stores=null,j.memoCache!=null&&(j.memoCache.index=0)}Y.H=w_,j=o(d,p)}while(gl);return j}function F$(){var i=Y.H,o=i.useState()[0];return o=typeof o.then=="function"?tu(o):o,i=i.useState()[0],(wt!==null?wt.memoizedState:null)!==i&&(Ze.flags|=1024),o}function yv(){var i=If!==0;return If=0,i}function xv(i,o,d){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~d}function bv(i){if(Rf){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Rf=!1}ui=0,or=wt=Ze=null,gl=!1,eu=If=0,vl=null}function sn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return or===null?Ze.memoizedState=or=i:or=or.next=i,or}function rr(){if(wt===null){var i=Ze.alternate;i=i!==null?i.memoizedState:null}else i=wt.next;var o=or===null?Ze.memoizedState:or.next;if(o!==null)or=o,wt=i;else{if(i===null)throw Ze.alternate===null?Error(n(467)):Error(n(310));wt=i,i={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},or===null?Ze.memoizedState=or=i:or=or.next=i}return or}function Lf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tu(i){var o=eu;return eu+=1,vl===null&&(vl=[]),i=TN(vl,i,o),o=Ze,(or===null?o.memoizedState:or.next)===null&&(o=o.alternate,Y.H=o===null||o.memoizedState===null?b_:Pv),i}function $f(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return tu(i);if(i.$$typeof===k)return zr(i)}throw Error(n(438,String(i)))}function wv(i){var o=null,d=Ze.updateQueue;if(d!==null&&(o=d.memoCache),o==null){var p=Ze.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(o={data:p.data.map(function(b){return b.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),d===null&&(d=Lf(),Ze.updateQueue=d),d.memoCache=o,d=o.data[o.index],d===void 0)for(d=o.data[o.index]=Array(i),p=0;p<i;p++)d[p]=te;return o.index++,d}function di(i,o){return typeof o=="function"?o(i):o}function Uf(i){var o=rr();return jv(o,wt,i)}function jv(i,o,d){var p=i.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=d;var b=i.baseQueue,j=p.pending;if(j!==null){if(b!==null){var E=b.next;b.next=j.next,j.next=E}o.baseQueue=b=j,p.pending=null}if(j=i.baseState,b===null)i.memoizedState=j;else{o=b.next;var R=E=null,q=null,ne=o,fe=!1;do{var ve=ne.lane&-536870913;if(ve!==ne.lane?(tt&ve)===ve:(ui&ve)===ve){var ae=ne.revertLane;if(ae===0)q!==null&&(q=q.next={lane:0,revertLane:0,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),ve===dl&&(fe=!0);else if((ui&ae)===ae){ne=ne.next,ae===dl&&(fe=!0);continue}else ve={lane:0,revertLane:ne.revertLane,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},q===null?(R=q=ve,E=j):q=q.next=ve,Ze.lanes|=ae,us|=ae;ve=ne.action,ao&&d(j,ve),j=ne.hasEagerState?ne.eagerState:d(j,ve)}else ae={lane:ve,revertLane:ne.revertLane,gesture:ne.gesture,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},q===null?(R=q=ae,E=j):q=q.next=ae,Ze.lanes|=ve,us|=ve;ne=ne.next}while(ne!==null&&ne!==o);if(q===null?E=j:q.next=R,!Nn(j,i.memoizedState)&&(lr=!0,fe&&(d=fl,d!==null)))throw d;i.memoizedState=j,i.baseState=E,i.baseQueue=q,p.lastRenderedState=j}return b===null&&(p.lanes=0),[i.memoizedState,p.dispatch]}function Sv(i){var o=rr(),d=o.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=i;var p=d.dispatch,b=d.pending,j=o.memoizedState;if(b!==null){d.pending=null;var E=b=b.next;do j=i(j,E.action),E=E.next;while(E!==b);Nn(j,o.memoizedState)||(lr=!0),o.memoizedState=j,o.baseQueue===null&&(o.baseState=j),d.lastRenderedState=j}return[j,p]}function BN(i,o,d){var p=Ze,b=rr(),j=st;if(j){if(d===void 0)throw Error(n(407));d=d()}else d=o();var E=!Nn((wt||b).memoizedState,d);if(E&&(b.memoizedState=d,lr=!0),b=b.queue,kv(VN.bind(null,p,b,i),[i]),b.getSnapshot!==o||E||or!==null&&or.memoizedState.tag&1){if(p.flags|=2048,yl(9,{destroy:void 0},qN.bind(null,p,b,d,o),null),At===null)throw Error(n(349));j||(ui&127)!==0||zN(p,o,d)}return d}function zN(i,o,d){i.flags|=16384,i={getSnapshot:o,value:d},o=Ze.updateQueue,o===null?(o=Lf(),Ze.updateQueue=o,o.stores=[i]):(d=o.stores,d===null?o.stores=[i]:d.push(i))}function qN(i,o,d,p){o.value=d,o.getSnapshot=p,HN(o)&&FN(i)}function VN(i,o,d){return d(function(){HN(o)&&FN(i)})}function HN(i){var o=i.getSnapshot;i=i.value;try{var d=o();return!Nn(i,d)}catch{return!0}}function FN(i){var o=Ys(i,2);o!==null&&vn(o,i,2)}function Nv(i){var o=sn();if(typeof i=="function"){var d=i;if(i=d(),ao){Sn(!0);try{d()}finally{Sn(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:di,lastRenderedState:i},o}function KN(i,o,d,p){return i.baseState=d,jv(i,wt,typeof p=="function"?p:di)}function K$(i,o,d,p,b){if(qf(i))throw Error(n(485));if(i=o.action,i!==null){var j={payload:b,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){j.listeners.push(E)}};Y.T!==null?d(!0):j.isTransition=!1,p(j),d=o.pending,d===null?(j.next=o.pending=j,GN(o,j)):(j.next=d.next,o.pending=d.next=j)}}function GN(i,o){var d=o.action,p=o.payload,b=i.state;if(o.isTransition){var j=Y.T,E={};Y.T=E;try{var R=d(b,p),q=Y.S;q!==null&&q(E,R),WN(i,o,R)}catch(ne){_v(i,o,ne)}finally{j!==null&&E.types!==null&&(j.types=E.types),Y.T=j}}else try{j=d(b,p),WN(i,o,j)}catch(ne){_v(i,o,ne)}}function WN(i,o,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(p){YN(i,o,p)},function(p){return _v(i,o,p)}):YN(i,o,d)}function YN(i,o,d){o.status="fulfilled",o.value=d,XN(o),i.state=d,o=i.pending,o!==null&&(d=o.next,d===o?i.pending=null:(d=d.next,o.next=d,GN(i,d)))}function _v(i,o,d){var p=i.pending;if(i.pending=null,p!==null){p=p.next;do o.status="rejected",o.reason=d,XN(o),o=o.next;while(o!==p)}i.action=null}function XN(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function ZN(i,o){return o}function QN(i,o){if(st){var d=At.formState;if(d!==null){e:{var p=Ze;if(st){if(Mt){t:{for(var b=Mt,j=Kn;b.nodeType!==8;){if(!j){b=null;break t}if(b=Wn(b.nextSibling),b===null){b=null;break t}}j=b.data,b=j==="F!"||j==="F"?b:null}if(b){Mt=Wn(b.nextSibling),p=b.data==="F!";break e}}ts(p)}p=!1}p&&(o=d[0])}}return d=sn(),d.memoizedState=d.baseState=o,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ZN,lastRenderedState:o},d.queue=p,d=v_.bind(null,Ze,p),p.dispatch=d,p=Nv(!1),j=Cv.bind(null,Ze,!1,p.queue),p=sn(),b={state:o,dispatch:null,action:i,pending:null},p.queue=b,d=K$.bind(null,Ze,b,j,d),b.dispatch=d,p.memoizedState=i,[o,d,!1]}function JN(i){var o=rr();return e_(o,wt,i)}function e_(i,o,d){if(o=jv(i,o,ZN)[0],i=Uf(di)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var p=tu(o)}catch(E){throw E===hl?Tf:E}else p=o;o=rr();var b=o.queue,j=b.dispatch;return d!==o.memoizedState&&(Ze.flags|=2048,yl(9,{destroy:void 0},G$.bind(null,b,d),null)),[p,j,i]}function G$(i,o){i.action=o}function t_(i){var o=rr(),d=wt;if(d!==null)return e_(o,d,i);rr(),o=o.memoizedState,d=rr();var p=d.queue.dispatch;return d.memoizedState=i,[o,p,!1]}function yl(i,o,d,p){return i={tag:i,create:d,deps:p,inst:o,next:null},o=Ze.updateQueue,o===null&&(o=Lf(),Ze.updateQueue=o),d=o.lastEffect,d===null?o.lastEffect=i.next=i:(p=d.next,d.next=i,i.next=p,o.lastEffect=i),i}function r_(){return rr().memoizedState}function Bf(i,o,d,p){var b=sn();Ze.flags|=i,b.memoizedState=yl(1|o,{destroy:void 0},d,p===void 0?null:p)}function zf(i,o,d,p){var b=rr();p=p===void 0?null:p;var j=b.memoizedState.inst;wt!==null&&p!==null&&gv(p,wt.memoizedState.deps)?b.memoizedState=yl(o,j,d,p):(Ze.flags|=i,b.memoizedState=yl(1|o,j,d,p))}function n_(i,o){Bf(8390656,8,i,o)}function kv(i,o){zf(2048,8,i,o)}function W$(i){Ze.flags|=4;var o=Ze.updateQueue;if(o===null)o=Lf(),Ze.updateQueue=o,o.events=[i];else{var d=o.events;d===null?o.events=[i]:d.push(i)}}function a_(i){var o=rr().memoizedState;return W$({ref:o,nextImpl:i}),function(){if((pt&2)!==0)throw Error(n(440));return o.impl.apply(void 0,arguments)}}function i_(i,o){return zf(4,2,i,o)}function s_(i,o){return zf(4,4,i,o)}function o_(i,o){if(typeof o=="function"){i=i();var d=o(i);return function(){typeof d=="function"?d():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function l_(i,o,d){d=d!=null?d.concat([i]):null,zf(4,4,o_.bind(null,o,i),d)}function Av(){}function c_(i,o){var d=rr();o=o===void 0?null:o;var p=d.memoizedState;return o!==null&&gv(o,p[1])?p[0]:(d.memoizedState=[i,o],i)}function u_(i,o){var d=rr();o=o===void 0?null:o;var p=d.memoizedState;if(o!==null&&gv(o,p[1]))return p[0];if(p=i(),ao){Sn(!0);try{i()}finally{Sn(!1)}}return d.memoizedState=[p,o],p}function Ev(i,o,d){return d===void 0||(ui&1073741824)!==0&&(tt&261930)===0?i.memoizedState=o:(i.memoizedState=d,i=dk(),Ze.lanes|=i,us|=i,d)}function d_(i,o,d,p){return Nn(d,o)?d:pl.current!==null?(i=Ev(i,d,p),Nn(i,o)||(lr=!0),i):(ui&42)===0||(ui&1073741824)!==0&&(tt&261930)===0?(lr=!0,i.memoizedState=d):(i=dk(),Ze.lanes|=i,us|=i,o)}function f_(i,o,d,p,b){var j=ee.p;ee.p=j!==0&&8>j?j:8;var E=Y.T,R={};Y.T=R,Cv(i,!1,o,d);try{var q=b(),ne=Y.S;if(ne!==null&&ne(R,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var fe=V$(q,p);ru(i,o,fe,On(i))}else ru(i,o,p,On(i))}catch(ve){ru(i,o,{then:function(){},status:"rejected",reason:ve},On())}finally{ee.p=j,E!==null&&R.types!==null&&(E.types=R.types),Y.T=E}}function Y$(){}function Tv(i,o,d,p){if(i.tag!==5)throw Error(n(476));var b=h_(i).queue;f_(i,b,o,ce,d===null?Y$:function(){return m_(i),d(p)})}function h_(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:di,lastRenderedState:ce},next:null};var d={};return o.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:di,lastRenderedState:d},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function m_(i){var o=h_(i);o.next===null&&(o=i.alternate.memoizedState),ru(i,o.next.queue,{},On())}function Ov(){return zr(xu)}function p_(){return rr().memoizedState}function g_(){return rr().memoizedState}function X$(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var d=On();i=as(d);var p=is(o,i,d);p!==null&&(vn(p,o,d),Zc(p,o,d)),o={cache:iv()},i.payload=o;return}o=o.return}}function Z$(i,o,d){var p=On();d={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},qf(i)?y_(o,d):(d=Wg(i,o,d,p),d!==null&&(vn(d,i,p),x_(d,o,p)))}function v_(i,o,d){var p=On();ru(i,o,d,p)}function ru(i,o,d,p){var b={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(qf(i))y_(o,b);else{var j=i.alternate;if(i.lanes===0&&(j===null||j.lanes===0)&&(j=o.lastRenderedReducer,j!==null))try{var E=o.lastRenderedState,R=j(E,d);if(b.hasEagerState=!0,b.eagerState=R,Nn(R,E))return jf(i,o,b,0),At===null&&wf(),!1}catch{}if(d=Wg(i,o,b,p),d!==null)return vn(d,i,p),x_(d,o,p),!0}return!1}function Cv(i,o,d,p){if(p={lane:2,revertLane:c0(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},qf(i)){if(o)throw Error(n(479))}else o=Wg(i,d,p,2),o!==null&&vn(o,i,2)}function qf(i){var o=i.alternate;return i===Ze||o!==null&&o===Ze}function y_(i,o){gl=Rf=!0;var d=i.pending;d===null?o.next=o:(o.next=d.next,d.next=o),i.pending=o}function x_(i,o,d){if((d&4194048)!==0){var p=o.lanes;p&=i.pendingLanes,d|=p,o.lanes=d,gr(i,d)}}var nu={readContext:zr,use:$f,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useLayoutEffect:Wt,useInsertionEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useSyncExternalStore:Wt,useId:Wt,useHostTransitionStatus:Wt,useFormState:Wt,useActionState:Wt,useOptimistic:Wt,useMemoCache:Wt,useCacheRefresh:Wt};nu.useEffectEvent=Wt;var b_={readContext:zr,use:$f,useCallback:function(i,o){return sn().memoizedState=[i,o===void 0?null:o],i},useContext:zr,useEffect:n_,useImperativeHandle:function(i,o,d){d=d!=null?d.concat([i]):null,Bf(4194308,4,o_.bind(null,o,i),d)},useLayoutEffect:function(i,o){return Bf(4194308,4,i,o)},useInsertionEffect:function(i,o){Bf(4,2,i,o)},useMemo:function(i,o){var d=sn();o=o===void 0?null:o;var p=i();if(ao){Sn(!0);try{i()}finally{Sn(!1)}}return d.memoizedState=[p,o],p},useReducer:function(i,o,d){var p=sn();if(d!==void 0){var b=d(o);if(ao){Sn(!0);try{d(o)}finally{Sn(!1)}}}else b=o;return p.memoizedState=p.baseState=b,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:b},p.queue=i,i=i.dispatch=Z$.bind(null,Ze,i),[p.memoizedState,i]},useRef:function(i){var o=sn();return i={current:i},o.memoizedState=i},useState:function(i){i=Nv(i);var o=i.queue,d=v_.bind(null,Ze,o);return o.dispatch=d,[i.memoizedState,d]},useDebugValue:Av,useDeferredValue:function(i,o){var d=sn();return Ev(d,i,o)},useTransition:function(){var i=Nv(!1);return i=f_.bind(null,Ze,i.queue,!0,!1),sn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,d){var p=Ze,b=sn();if(st){if(d===void 0)throw Error(n(407));d=d()}else{if(d=o(),At===null)throw Error(n(349));(tt&127)!==0||zN(p,o,d)}b.memoizedState=d;var j={value:d,getSnapshot:o};return b.queue=j,n_(VN.bind(null,p,j,i),[i]),p.flags|=2048,yl(9,{destroy:void 0},qN.bind(null,p,j,d,o),null),d},useId:function(){var i=sn(),o=At.identifierPrefix;if(st){var d=$a,p=La;d=(p&~(1<<32-pr(p)-1)).toString(32)+d,o="_"+o+"R_"+d,d=If++,0<d&&(o+="H"+d.toString(32)),o+="_"}else d=H$++,o="_"+o+"r_"+d.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:Ov,useFormState:QN,useActionState:QN,useOptimistic:function(i){var o=sn();o.memoizedState=o.baseState=i;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=d,o=Cv.bind(null,Ze,!0,d),d.dispatch=o,[i,o]},useMemoCache:wv,useCacheRefresh:function(){return sn().memoizedState=X$.bind(null,Ze)},useEffectEvent:function(i){var o=sn(),d={impl:i};return o.memoizedState=d,function(){if((pt&2)!==0)throw Error(n(440));return d.impl.apply(void 0,arguments)}}},Pv={readContext:zr,use:$f,useCallback:c_,useContext:zr,useEffect:kv,useImperativeHandle:l_,useInsertionEffect:i_,useLayoutEffect:s_,useMemo:u_,useReducer:Uf,useRef:r_,useState:function(){return Uf(di)},useDebugValue:Av,useDeferredValue:function(i,o){var d=rr();return d_(d,wt.memoizedState,i,o)},useTransition:function(){var i=Uf(di)[0],o=rr().memoizedState;return[typeof i=="boolean"?i:tu(i),o]},useSyncExternalStore:BN,useId:p_,useHostTransitionStatus:Ov,useFormState:JN,useActionState:JN,useOptimistic:function(i,o){var d=rr();return KN(d,wt,i,o)},useMemoCache:wv,useCacheRefresh:g_};Pv.useEffectEvent=a_;var w_={readContext:zr,use:$f,useCallback:c_,useContext:zr,useEffect:kv,useImperativeHandle:l_,useInsertionEffect:i_,useLayoutEffect:s_,useMemo:u_,useReducer:Sv,useRef:r_,useState:function(){return Sv(di)},useDebugValue:Av,useDeferredValue:function(i,o){var d=rr();return wt===null?Ev(d,i,o):d_(d,wt.memoizedState,i,o)},useTransition:function(){var i=Sv(di)[0],o=rr().memoizedState;return[typeof i=="boolean"?i:tu(i),o]},useSyncExternalStore:BN,useId:p_,useHostTransitionStatus:Ov,useFormState:t_,useActionState:t_,useOptimistic:function(i,o){var d=rr();return wt!==null?KN(d,wt,i,o):(d.baseState=i,[i,d.queue.dispatch])},useMemoCache:wv,useCacheRefresh:g_};w_.useEffectEvent=a_;function Dv(i,o,d,p){o=i.memoizedState,d=d(p,o),d=d==null?o:g({},o,d),i.memoizedState=d,i.lanes===0&&(i.updateQueue.baseState=d)}var Mv={enqueueSetState:function(i,o,d){i=i._reactInternals;var p=On(),b=as(p);b.payload=o,d!=null&&(b.callback=d),o=is(i,b,p),o!==null&&(vn(o,i,p),Zc(o,i,p))},enqueueReplaceState:function(i,o,d){i=i._reactInternals;var p=On(),b=as(p);b.tag=1,b.payload=o,d!=null&&(b.callback=d),o=is(i,b,p),o!==null&&(vn(o,i,p),Zc(o,i,p))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var d=On(),p=as(d);p.tag=2,o!=null&&(p.callback=o),o=is(i,p,d),o!==null&&(vn(o,i,d),Zc(o,i,d))}};function j_(i,o,d,p,b,j,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,j,E):o.prototype&&o.prototype.isPureReactComponent?!Vc(d,p)||!Vc(b,j):!0}function S_(i,o,d,p){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(d,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(d,p),o.state!==i&&Mv.enqueueReplaceState(o,o.state,null)}function io(i,o){var d=o;if("ref"in o){d={};for(var p in o)p!=="ref"&&(d[p]=o[p])}if(i=i.defaultProps){d===o&&(d=g({},d));for(var b in i)d[b]===void 0&&(d[b]=i[b])}return d}function N_(i){bf(i)}function __(i){console.error(i)}function k_(i){bf(i)}function Vf(i,o){try{var d=i.onUncaughtError;d(o.value,{componentStack:o.stack})}catch(p){setTimeout(function(){throw p})}}function A_(i,o,d){try{var p=i.onCaughtError;p(d.value,{componentStack:d.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function Rv(i,o,d){return d=as(d),d.tag=3,d.payload={element:null},d.callback=function(){Vf(i,o)},d}function E_(i){return i=as(i),i.tag=3,i}function T_(i,o,d,p){var b=d.type.getDerivedStateFromError;if(typeof b=="function"){var j=p.value;i.payload=function(){return b(j)},i.callback=function(){A_(o,d,p)}}var E=d.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(i.callback=function(){A_(o,d,p),typeof b!="function"&&(ds===null?ds=new Set([this]):ds.add(this));var R=p.stack;this.componentDidCatch(p.value,{componentStack:R!==null?R:""})})}function Q$(i,o,d,p,b){if(d.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(o=d.alternate,o!==null&&ul(o,d,b,!0),d=kn.current,d!==null){switch(d.tag){case 31:case 13:return Gn===null?th():d.alternate===null&&Yt===0&&(Yt=3),d.flags&=-257,d.flags|=65536,d.lanes=b,p===Of?d.flags|=16384:(o=d.updateQueue,o===null?d.updateQueue=new Set([p]):o.add(p),s0(i,p,b)),!1;case 22:return d.flags|=65536,p===Of?d.flags|=16384:(o=d.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([p])},d.updateQueue=o):(d=o.retryQueue,d===null?o.retryQueue=new Set([p]):d.add(p)),s0(i,p,b)),!1}throw Error(n(435,d.tag))}return s0(i,p,b),th(),!1}if(st)return o=kn.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=b,p!==ev&&(i=Error(n(422),{cause:p}),Kc(Vn(i,d)))):(p!==ev&&(o=Error(n(423),{cause:p}),Kc(Vn(o,d))),i=i.current.alternate,i.flags|=65536,b&=-b,i.lanes|=b,p=Vn(p,d),b=Rv(i.stateNode,p,b),dv(i,b),Yt!==4&&(Yt=2)),!1;var j=Error(n(520),{cause:p});if(j=Vn(j,d),du===null?du=[j]:du.push(j),Yt!==4&&(Yt=2),o===null)return!0;p=Vn(p,d),d=o;do{switch(d.tag){case 3:return d.flags|=65536,i=b&-b,d.lanes|=i,i=Rv(d.stateNode,p,i),dv(d,i),!1;case 1:if(o=d.type,j=d.stateNode,(d.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(ds===null||!ds.has(j))))return d.flags|=65536,b&=-b,d.lanes|=b,b=E_(b),T_(b,i,d,p),dv(d,b),!1}d=d.return}while(d!==null);return!1}var Iv=Error(n(461)),lr=!1;function qr(i,o,d,p){o.child=i===null?DN(o,null,d,p):no(o,i.child,d,p)}function O_(i,o,d,p,b){d=d.render;var j=o.ref;if("ref"in p){var E={};for(var R in p)R!=="ref"&&(E[R]=p[R])}else E=p;return Js(o),p=vv(i,o,d,E,j,b),R=yv(),i!==null&&!lr?(xv(i,o,b),fi(i,o,b)):(st&&R&&Qg(o),o.flags|=1,qr(i,o,p,b),o.child)}function C_(i,o,d,p,b){if(i===null){var j=d.type;return typeof j=="function"&&!Yg(j)&&j.defaultProps===void 0&&d.compare===null?(o.tag=15,o.type=j,P_(i,o,j,p,b)):(i=Nf(d.type,null,p,o,o.mode,b),i.ref=o.ref,i.return=o,o.child=i)}if(j=i.child,!Hv(i,b)){var E=j.memoizedProps;if(d=d.compare,d=d!==null?d:Vc,d(E,p)&&i.ref===o.ref)return fi(i,o,b)}return o.flags|=1,i=si(j,p),i.ref=o.ref,i.return=o,o.child=i}function P_(i,o,d,p,b){if(i!==null){var j=i.memoizedProps;if(Vc(j,p)&&i.ref===o.ref)if(lr=!1,o.pendingProps=p=j,Hv(i,b))(i.flags&131072)!==0&&(lr=!0);else return o.lanes=i.lanes,fi(i,o,b)}return Lv(i,o,d,p,b)}function D_(i,o,d,p){var b=p.children,j=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((o.flags&128)!==0){if(j=j!==null?j.baseLanes|d:d,i!==null){for(p=o.child=i.child,b=0;p!==null;)b=b|p.lanes|p.childLanes,p=p.sibling;p=b&~j}else p=0,o.child=null;return M_(i,o,j,d,p)}if((d&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&Ef(o,j!==null?j.cachePool:null),j!==null?IN(o,j):hv(),LN(o);else return p=o.lanes=536870912,M_(i,o,j!==null?j.baseLanes|d:d,d,p)}else j!==null?(Ef(o,j.cachePool),IN(o,j),os(),o.memoizedState=null):(i!==null&&Ef(o,null),hv(),os());return qr(i,o,b,d),o.child}function au(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function M_(i,o,d,p,b){var j=ov();return j=j===null?null:{parent:sr._currentValue,pool:j},o.memoizedState={baseLanes:d,cachePool:j},i!==null&&Ef(o,null),hv(),LN(o),i!==null&&ul(i,o,p,!0),o.childLanes=b,null}function Hf(i,o){return o=Kf({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function R_(i,o,d){return no(o,i.child,null,d),i=Hf(o,o.pendingProps),i.flags|=2,An(o),o.memoizedState=null,i}function J$(i,o,d){var p=o.pendingProps,b=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(st){if(p.mode==="hidden")return i=Hf(o,p),o.lanes=536870912,au(null,i);if(pv(o),(i=Mt)?(i=Gk(i,Kn),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:Ji!==null?{id:La,overflow:$a}:null,retryLane:536870912,hydrationErrors:null},d=yN(i),d.return=o,o.child=d,Br=o,Mt=null)):i=null,i===null)throw ts(o);return o.lanes=536870912,null}return Hf(o,p)}var j=i.memoizedState;if(j!==null){var E=j.dehydrated;if(pv(o),b)if(o.flags&256)o.flags&=-257,o=R_(i,o,d);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(n(558));else if(lr||ul(i,o,d,!1),b=(d&i.childLanes)!==0,lr||b){if(p=At,p!==null&&(E=Vt(p,d),E!==0&&E!==j.retryLane))throw j.retryLane=E,Ys(i,E),vn(p,i,E),Iv;th(),o=R_(i,o,d)}else i=j.treeContext,Mt=Wn(E.nextSibling),Br=o,st=!0,es=null,Kn=!1,i!==null&&wN(o,i),o=Hf(o,p),o.flags|=4096;return o}return i=si(i.child,{mode:p.mode,children:p.children}),i.ref=o.ref,o.child=i,i.return=o,i}function Ff(i,o){var d=o.ref;if(d===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(n(284));(i===null||i.ref!==d)&&(o.flags|=4194816)}}function Lv(i,o,d,p,b){return Js(o),d=vv(i,o,d,p,void 0,b),p=yv(),i!==null&&!lr?(xv(i,o,b),fi(i,o,b)):(st&&p&&Qg(o),o.flags|=1,qr(i,o,d,b),o.child)}function I_(i,o,d,p,b,j){return Js(o),o.updateQueue=null,d=UN(o,p,d,b),$N(i),p=yv(),i!==null&&!lr?(xv(i,o,j),fi(i,o,j)):(st&&p&&Qg(o),o.flags|=1,qr(i,o,d,j),o.child)}function L_(i,o,d,p,b){if(Js(o),o.stateNode===null){var j=sl,E=d.contextType;typeof E=="object"&&E!==null&&(j=zr(E)),j=new d(p,j),o.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,j.updater=Mv,o.stateNode=j,j._reactInternals=o,j=o.stateNode,j.props=p,j.state=o.memoizedState,j.refs={},cv(o),E=d.contextType,j.context=typeof E=="object"&&E!==null?zr(E):sl,j.state=o.memoizedState,E=d.getDerivedStateFromProps,typeof E=="function"&&(Dv(o,d,E,p),j.state=o.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(E=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),E!==j.state&&Mv.enqueueReplaceState(j,j.state,null),Jc(o,p,j,b),Qc(),j.state=o.memoizedState),typeof j.componentDidMount=="function"&&(o.flags|=4194308),p=!0}else if(i===null){j=o.stateNode;var R=o.memoizedProps,q=io(d,R);j.props=q;var ne=j.context,fe=d.contextType;E=sl,typeof fe=="object"&&fe!==null&&(E=zr(fe));var ve=d.getDerivedStateFromProps;fe=typeof ve=="function"||typeof j.getSnapshotBeforeUpdate=="function",R=o.pendingProps!==R,fe||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(R||ne!==E)&&S_(o,j,p,E),ns=!1;var ae=o.memoizedState;j.state=ae,Jc(o,p,j,b),Qc(),ne=o.memoizedState,R||ae!==ne||ns?(typeof ve=="function"&&(Dv(o,d,ve,p),ne=o.memoizedState),(q=ns||j_(o,d,q,p,ae,ne,E))?(fe||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(o.flags|=4194308)):(typeof j.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=ne),j.props=p,j.state=ne,j.context=E,p=q):(typeof j.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{j=o.stateNode,uv(i,o),E=o.memoizedProps,fe=io(d,E),j.props=fe,ve=o.pendingProps,ae=j.context,ne=d.contextType,q=sl,typeof ne=="object"&&ne!==null&&(q=zr(ne)),R=d.getDerivedStateFromProps,(ne=typeof R=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(E!==ve||ae!==q)&&S_(o,j,p,q),ns=!1,ae=o.memoizedState,j.state=ae,Jc(o,p,j,b),Qc();var le=o.memoizedState;E!==ve||ae!==le||ns||i!==null&&i.dependencies!==null&&kf(i.dependencies)?(typeof R=="function"&&(Dv(o,d,R,p),le=o.memoizedState),(fe=ns||j_(o,d,fe,p,ae,le,q)||i!==null&&i.dependencies!==null&&kf(i.dependencies))?(ne||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(p,le,q),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(p,le,q)),typeof j.componentDidUpdate=="function"&&(o.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof j.componentDidUpdate!="function"||E===i.memoizedProps&&ae===i.memoizedState||(o.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&ae===i.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=le),j.props=p,j.state=le,j.context=q,p=fe):(typeof j.componentDidUpdate!="function"||E===i.memoizedProps&&ae===i.memoizedState||(o.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&ae===i.memoizedState||(o.flags|=1024),p=!1)}return j=p,Ff(i,o),p=(o.flags&128)!==0,j||p?(j=o.stateNode,d=p&&typeof d.getDerivedStateFromError!="function"?null:j.render(),o.flags|=1,i!==null&&p?(o.child=no(o,i.child,null,b),o.child=no(o,null,d,b)):qr(i,o,d,b),o.memoizedState=j.state,i=o.child):i=fi(i,o,b),i}function $_(i,o,d,p){return Zs(),o.flags|=256,qr(i,o,d,p),o.child}var $v={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uv(i){return{baseLanes:i,cachePool:AN()}}function Bv(i,o,d){return i=i!==null?i.childLanes&~d:0,o&&(i|=Tn),i}function U_(i,o,d){var p=o.pendingProps,b=!1,j=(o.flags&128)!==0,E;if((E=j)||(E=i!==null&&i.memoizedState===null?!1:(tr.current&2)!==0),E&&(b=!0,o.flags&=-129),E=(o.flags&32)!==0,o.flags&=-33,i===null){if(st){if(b?ss(o):os(),(i=Mt)?(i=Gk(i,Kn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:Ji!==null?{id:La,overflow:$a}:null,retryLane:536870912,hydrationErrors:null},d=yN(i),d.return=o,o.child=d,Br=o,Mt=null)):i=null,i===null)throw ts(o);return j0(i)?o.lanes=32:o.lanes=536870912,null}var R=p.children;return p=p.fallback,b?(os(),b=o.mode,R=Kf({mode:"hidden",children:R},b),p=Xs(p,b,d,null),R.return=o,p.return=o,R.sibling=p,o.child=R,p=o.child,p.memoizedState=Uv(d),p.childLanes=Bv(i,E,d),o.memoizedState=$v,au(null,p)):(ss(o),zv(o,R))}var q=i.memoizedState;if(q!==null&&(R=q.dehydrated,R!==null)){if(j)o.flags&256?(ss(o),o.flags&=-257,o=qv(i,o,d)):o.memoizedState!==null?(os(),o.child=i.child,o.flags|=128,o=null):(os(),R=p.fallback,b=o.mode,p=Kf({mode:"visible",children:p.children},b),R=Xs(R,b,d,null),R.flags|=2,p.return=o,R.return=o,p.sibling=R,o.child=p,no(o,i.child,null,d),p=o.child,p.memoizedState=Uv(d),p.childLanes=Bv(i,E,d),o.memoizedState=$v,o=au(null,p));else if(ss(o),j0(R)){if(E=R.nextSibling&&R.nextSibling.dataset,E)var ne=E.dgst;E=ne,p=Error(n(419)),p.stack="",p.digest=E,Kc({value:p,source:null,stack:null}),o=qv(i,o,d)}else if(lr||ul(i,o,d,!1),E=(d&i.childLanes)!==0,lr||E){if(E=At,E!==null&&(p=Vt(E,d),p!==0&&p!==q.retryLane))throw q.retryLane=p,Ys(i,p),vn(E,i,p),Iv;w0(R)||th(),o=qv(i,o,d)}else w0(R)?(o.flags|=192,o.child=i.child,o=null):(i=q.treeContext,Mt=Wn(R.nextSibling),Br=o,st=!0,es=null,Kn=!1,i!==null&&wN(o,i),o=zv(o,p.children),o.flags|=4096);return o}return b?(os(),R=p.fallback,b=o.mode,q=i.child,ne=q.sibling,p=si(q,{mode:"hidden",children:p.children}),p.subtreeFlags=q.subtreeFlags&65011712,ne!==null?R=si(ne,R):(R=Xs(R,b,d,null),R.flags|=2),R.return=o,p.return=o,p.sibling=R,o.child=p,au(null,p),p=o.child,R=i.child.memoizedState,R===null?R=Uv(d):(b=R.cachePool,b!==null?(q=sr._currentValue,b=b.parent!==q?{parent:q,pool:q}:b):b=AN(),R={baseLanes:R.baseLanes|d,cachePool:b}),p.memoizedState=R,p.childLanes=Bv(i,E,d),o.memoizedState=$v,au(i.child,p)):(ss(o),d=i.child,i=d.sibling,d=si(d,{mode:"visible",children:p.children}),d.return=o,d.sibling=null,i!==null&&(E=o.deletions,E===null?(o.deletions=[i],o.flags|=16):E.push(i)),o.child=d,o.memoizedState=null,d)}function zv(i,o){return o=Kf({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function Kf(i,o){return i=_n(22,i,null,o),i.lanes=0,i}function qv(i,o,d){return no(o,i.child,null,d),i=zv(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function B_(i,o,d){i.lanes|=o;var p=i.alternate;p!==null&&(p.lanes|=o),nv(i.return,o,d)}function Vv(i,o,d,p,b,j){var E=i.memoizedState;E===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:b,treeForkCount:j}:(E.isBackwards=o,E.rendering=null,E.renderingStartTime=0,E.last=p,E.tail=d,E.tailMode=b,E.treeForkCount=j)}function z_(i,o,d){var p=o.pendingProps,b=p.revealOrder,j=p.tail;p=p.children;var E=tr.current,R=(E&2)!==0;if(R?(E=E&1|2,o.flags|=128):E&=1,$(tr,E),qr(i,o,p,d),p=st?Fc:0,!R&&i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&B_(i,d,o);else if(i.tag===19)B_(i,d,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(b){case"forwards":for(d=o.child,b=null;d!==null;)i=d.alternate,i!==null&&Mf(i)===null&&(b=d),d=d.sibling;d=b,d===null?(b=o.child,o.child=null):(b=d.sibling,d.sibling=null),Vv(o,!1,b,d,j,p);break;case"backwards":case"unstable_legacy-backwards":for(d=null,b=o.child,o.child=null;b!==null;){if(i=b.alternate,i!==null&&Mf(i)===null){o.child=b;break}i=b.sibling,b.sibling=d,d=b,b=i}Vv(o,!0,d,null,j,p);break;case"together":Vv(o,!1,null,null,void 0,p);break;default:o.memoizedState=null}return o.child}function fi(i,o,d){if(i!==null&&(o.dependencies=i.dependencies),us|=o.lanes,(d&o.childLanes)===0)if(i!==null){if(ul(i,o,d,!1),(d&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,d=si(i,i.pendingProps),o.child=d,d.return=o;i.sibling!==null;)i=i.sibling,d=d.sibling=si(i,i.pendingProps),d.return=o;d.sibling=null}return o.child}function Hv(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&kf(i)))}function eU(i,o,d){switch(o.tag){case 3:Oe(o,o.stateNode.containerInfo),rs(o,sr,i.memoizedState.cache),Zs();break;case 27:case 5:de(o);break;case 4:Oe(o,o.stateNode.containerInfo);break;case 10:rs(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,pv(o),null;break;case 13:var p=o.memoizedState;if(p!==null)return p.dehydrated!==null?(ss(o),o.flags|=128,null):(d&o.child.childLanes)!==0?U_(i,o,d):(ss(o),i=fi(i,o,d),i!==null?i.sibling:null);ss(o);break;case 19:var b=(i.flags&128)!==0;if(p=(d&o.childLanes)!==0,p||(ul(i,o,d,!1),p=(d&o.childLanes)!==0),b){if(p)return z_(i,o,d);o.flags|=128}if(b=o.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),$(tr,tr.current),p)break;return null;case 22:return o.lanes=0,D_(i,o,d,o.pendingProps);case 24:rs(o,sr,i.memoizedState.cache)}return fi(i,o,d)}function q_(i,o,d){if(i!==null)if(i.memoizedProps!==o.pendingProps)lr=!0;else{if(!Hv(i,d)&&(o.flags&128)===0)return lr=!1,eU(i,o,d);lr=(i.flags&131072)!==0}else lr=!1,st&&(o.flags&1048576)!==0&&bN(o,Fc,o.index);switch(o.lanes=0,o.tag){case 16:e:{var p=o.pendingProps;if(i=to(o.elementType),o.type=i,typeof i=="function")Yg(i)?(p=io(i,p),o.tag=1,o=L_(null,o,i,p,d)):(o.tag=0,o=Lv(null,o,i,p,d));else{if(i!=null){var b=i.$$typeof;if(b===O){o.tag=11,o=O_(null,o,i,p,d);break e}else if(b===D){o.tag=14,o=C_(null,o,i,p,d);break e}}throw o=be(i)||i,Error(n(306,o,""))}}return o;case 0:return Lv(i,o,o.type,o.pendingProps,d);case 1:return p=o.type,b=io(p,o.pendingProps),L_(i,o,p,b,d);case 3:e:{if(Oe(o,o.stateNode.containerInfo),i===null)throw Error(n(387));p=o.pendingProps;var j=o.memoizedState;b=j.element,uv(i,o),Jc(o,p,null,d);var E=o.memoizedState;if(p=E.cache,rs(o,sr,p),p!==j.cache&&av(o,[sr],d,!0),Qc(),p=E.element,j.isDehydrated)if(j={element:p,isDehydrated:!1,cache:E.cache},o.updateQueue.baseState=j,o.memoizedState=j,o.flags&256){o=$_(i,o,p,d);break e}else if(p!==b){b=Vn(Error(n(424)),o),Kc(b),o=$_(i,o,p,d);break e}else for(i=o.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,Mt=Wn(i.firstChild),Br=o,st=!0,es=null,Kn=!0,d=DN(o,null,p,d),o.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Zs(),p===b){o=fi(i,o,d);break e}qr(i,o,p,d)}o=o.child}return o;case 26:return Ff(i,o),i===null?(d=Jk(o.type,null,o.pendingProps,null))?o.memoizedState=d:st||(d=o.type,i=o.pendingProps,p=lh(ue.current).createElement(d),p[Ur]=o,p[dn]=i,Vr(p,d,i),Tr(p),o.stateNode=p):o.memoizedState=Jk(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return de(o),i===null&&st&&(p=o.stateNode=Xk(o.type,o.pendingProps,ue.current),Br=o,Kn=!0,b=Mt,ps(o.type)?(S0=b,Mt=Wn(p.firstChild)):Mt=b),qr(i,o,o.pendingProps.children,d),Ff(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&st&&((b=p=Mt)&&(p=OU(p,o.type,o.pendingProps,Kn),p!==null?(o.stateNode=p,Br=o,Mt=Wn(p.firstChild),Kn=!1,b=!0):b=!1),b||ts(o)),de(o),b=o.type,j=o.pendingProps,E=i!==null?i.memoizedProps:null,p=j.children,y0(b,j)?p=null:E!==null&&y0(b,E)&&(o.flags|=32),o.memoizedState!==null&&(b=vv(i,o,F$,null,null,d),xu._currentValue=b),Ff(i,o),qr(i,o,p,d),o.child;case 6:return i===null&&st&&((i=d=Mt)&&(d=CU(d,o.pendingProps,Kn),d!==null?(o.stateNode=d,Br=o,Mt=null,i=!0):i=!1),i||ts(o)),null;case 13:return U_(i,o,d);case 4:return Oe(o,o.stateNode.containerInfo),p=o.pendingProps,i===null?o.child=no(o,null,p,d):qr(i,o,p,d),o.child;case 11:return O_(i,o,o.type,o.pendingProps,d);case 7:return qr(i,o,o.pendingProps,d),o.child;case 8:return qr(i,o,o.pendingProps.children,d),o.child;case 12:return qr(i,o,o.pendingProps.children,d),o.child;case 10:return p=o.pendingProps,rs(o,o.type,p.value),qr(i,o,p.children,d),o.child;case 9:return b=o.type._context,p=o.pendingProps.children,Js(o),b=zr(b),p=p(b),o.flags|=1,qr(i,o,p,d),o.child;case 14:return C_(i,o,o.type,o.pendingProps,d);case 15:return P_(i,o,o.type,o.pendingProps,d);case 19:return z_(i,o,d);case 31:return J$(i,o,d);case 22:return D_(i,o,d,o.pendingProps);case 24:return Js(o),p=zr(sr),i===null?(b=ov(),b===null&&(b=At,j=iv(),b.pooledCache=j,j.refCount++,j!==null&&(b.pooledCacheLanes|=d),b=j),o.memoizedState={parent:p,cache:b},cv(o),rs(o,sr,b)):((i.lanes&d)!==0&&(uv(i,o),Jc(o,null,null,d),Qc()),b=i.memoizedState,j=o.memoizedState,b.parent!==p?(b={parent:p,cache:p},o.memoizedState=b,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=b),rs(o,sr,p)):(p=j.cache,rs(o,sr,p),p!==b.cache&&av(o,[sr],d,!0))),qr(i,o,o.pendingProps.children,d),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function hi(i){i.flags|=4}function Fv(i,o,d,p,b){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(b&335544128)===b)if(i.stateNode.complete)i.flags|=8192;else if(pk())i.flags|=8192;else throw ro=Of,lv}else i.flags&=-16777217}function V_(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!a2(o))if(pk())i.flags|=8192;else throw ro=Of,lv}function Gf(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?ze():536870912,i.lanes|=o,jl|=o)}function iu(i,o){if(!st)switch(i.tailMode){case"hidden":o=i.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?i.tail=null:d.sibling=null;break;case"collapsed":d=i.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function Rt(i){var o=i.alternate!==null&&i.alternate.child===i.child,d=0,p=0;if(o)for(var b=i.child;b!==null;)d|=b.lanes|b.childLanes,p|=b.subtreeFlags&65011712,p|=b.flags&65011712,b.return=i,b=b.sibling;else for(b=i.child;b!==null;)d|=b.lanes|b.childLanes,p|=b.subtreeFlags,p|=b.flags,b.return=i,b=b.sibling;return i.subtreeFlags|=p,i.childLanes=d,o}function tU(i,o,d){var p=o.pendingProps;switch(Jg(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(o),null;case 1:return Rt(o),null;case 3:return d=o.stateNode,p=null,i!==null&&(p=i.memoizedState.cache),o.memoizedState.cache!==p&&(o.flags|=2048),ci(sr),Q(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(cl(o)?hi(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,tv())),Rt(o),null;case 26:var b=o.type,j=o.memoizedState;return i===null?(hi(o),j!==null?(Rt(o),V_(o,j)):(Rt(o),Fv(o,b,null,p,d))):j?j!==i.memoizedState?(hi(o),Rt(o),V_(o,j)):(Rt(o),o.flags&=-16777217):(i=i.memoizedProps,i!==p&&hi(o),Rt(o),Fv(o,b,i,p,d)),null;case 27:if(Ee(o),d=ue.current,b=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==p&&hi(o);else{if(!p){if(o.stateNode===null)throw Error(n(166));return Rt(o),null}i=B.current,cl(o)?jN(o):(i=Xk(b,p,d),o.stateNode=i,hi(o))}return Rt(o),null;case 5:if(Ee(o),b=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==p&&hi(o);else{if(!p){if(o.stateNode===null)throw Error(n(166));return Rt(o),null}if(j=B.current,cl(o))jN(o);else{var E=lh(ue.current);switch(j){case 1:j=E.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:j=E.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":j=E.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":j=E.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":j=E.createElement("div"),j.innerHTML="<script><\/script>",j=j.removeChild(j.firstChild);break;case"select":j=typeof p.is=="string"?E.createElement("select",{is:p.is}):E.createElement("select"),p.multiple?j.multiple=!0:p.size&&(j.size=p.size);break;default:j=typeof p.is=="string"?E.createElement(b,{is:p.is}):E.createElement(b)}}j[Ur]=o,j[dn]=p;e:for(E=o.child;E!==null;){if(E.tag===5||E.tag===6)j.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===o)break e;for(;E.sibling===null;){if(E.return===null||E.return===o)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}o.stateNode=j;e:switch(Vr(j,b,p),b){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&hi(o)}}return Rt(o),Fv(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,d),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==p&&hi(o);else{if(typeof p!="string"&&o.stateNode===null)throw Error(n(166));if(i=ue.current,cl(o)){if(i=o.stateNode,d=o.memoizedProps,p=null,b=Br,b!==null)switch(b.tag){case 27:case 5:p=b.memoizedProps}i[Ur]=o,i=!!(i.nodeValue===d||p!==null&&p.suppressHydrationWarning===!0||Uk(i.nodeValue,d)),i||ts(o,!0)}else i=lh(i).createTextNode(p),i[Ur]=o,o.stateNode=i}return Rt(o),null;case 31:if(d=o.memoizedState,i===null||i.memoizedState!==null){if(p=cl(o),d!==null){if(i===null){if(!p)throw Error(n(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(557));i[Ur]=o}else Zs(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Rt(o),i=!1}else d=tv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),i=!0;if(!i)return o.flags&256?(An(o),o):(An(o),null);if((o.flags&128)!==0)throw Error(n(558))}return Rt(o),null;case 13:if(p=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(b=cl(o),p!==null&&p.dehydrated!==null){if(i===null){if(!b)throw Error(n(318));if(b=o.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));b[Ur]=o}else Zs(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Rt(o),b=!1}else b=tv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=b),b=!0;if(!b)return o.flags&256?(An(o),o):(An(o),null)}return An(o),(o.flags&128)!==0?(o.lanes=d,o):(d=p!==null,i=i!==null&&i.memoizedState!==null,d&&(p=o.child,b=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(b=p.alternate.memoizedState.cachePool.pool),j=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(j=p.memoizedState.cachePool.pool),j!==b&&(p.flags|=2048)),d!==i&&d&&(o.child.flags|=8192),Gf(o,o.updateQueue),Rt(o),null);case 4:return Q(),i===null&&h0(o.stateNode.containerInfo),Rt(o),null;case 10:return ci(o.type),Rt(o),null;case 19:if(I(tr),p=o.memoizedState,p===null)return Rt(o),null;if(b=(o.flags&128)!==0,j=p.rendering,j===null)if(b)iu(p,!1);else{if(Yt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(j=Mf(i),j!==null){for(o.flags|=128,iu(p,!1),i=j.updateQueue,o.updateQueue=i,Gf(o,i),o.subtreeFlags=0,i=d,d=o.child;d!==null;)vN(d,i),d=d.sibling;return $(tr,tr.current&1|2),st&&oi(o,p.treeForkCount),o.child}i=i.sibling}p.tail!==null&&Ar()>Qf&&(o.flags|=128,b=!0,iu(p,!1),o.lanes=4194304)}else{if(!b)if(i=Mf(j),i!==null){if(o.flags|=128,b=!0,i=i.updateQueue,o.updateQueue=i,Gf(o,i),iu(p,!0),p.tail===null&&p.tailMode==="hidden"&&!j.alternate&&!st)return Rt(o),null}else 2*Ar()-p.renderingStartTime>Qf&&d!==536870912&&(o.flags|=128,b=!0,iu(p,!1),o.lanes=4194304);p.isBackwards?(j.sibling=o.child,o.child=j):(i=p.last,i!==null?i.sibling=j:o.child=j,p.last=j)}return p.tail!==null?(i=p.tail,p.rendering=i,p.tail=i.sibling,p.renderingStartTime=Ar(),i.sibling=null,d=tr.current,$(tr,b?d&1|2:d&1),st&&oi(o,p.treeForkCount),i):(Rt(o),null);case 22:case 23:return An(o),mv(),p=o.memoizedState!==null,i!==null?i.memoizedState!==null!==p&&(o.flags|=8192):p&&(o.flags|=8192),p?(d&536870912)!==0&&(o.flags&128)===0&&(Rt(o),o.subtreeFlags&6&&(o.flags|=8192)):Rt(o),d=o.updateQueue,d!==null&&Gf(o,d.retryQueue),d=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),p=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==d&&(o.flags|=2048),i!==null&&I(eo),null;case 24:return d=null,i!==null&&(d=i.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),ci(sr),Rt(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function rU(i,o){switch(Jg(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return ci(sr),Q(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return Ee(o),null;case 31:if(o.memoizedState!==null){if(An(o),o.alternate===null)throw Error(n(340));Zs()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if(An(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Zs()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return I(tr),null;case 4:return Q(),null;case 10:return ci(o.type),null;case 22:case 23:return An(o),mv(),i!==null&&I(eo),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return ci(sr),null;case 25:return null;default:return null}}function H_(i,o){switch(Jg(o),o.tag){case 3:ci(sr),Q();break;case 26:case 27:case 5:Ee(o);break;case 4:Q();break;case 31:o.memoizedState!==null&&An(o);break;case 13:An(o);break;case 19:I(tr);break;case 10:ci(o.type);break;case 22:case 23:An(o),mv(),i!==null&&I(eo);break;case 24:ci(sr)}}function su(i,o){try{var d=o.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var b=p.next;d=b;do{if((d.tag&i)===i){p=void 0;var j=d.create,E=d.inst;p=j(),E.destroy=p}d=d.next}while(d!==b)}}catch(R){xt(o,o.return,R)}}function ls(i,o,d){try{var p=o.updateQueue,b=p!==null?p.lastEffect:null;if(b!==null){var j=b.next;p=j;do{if((p.tag&i)===i){var E=p.inst,R=E.destroy;if(R!==void 0){E.destroy=void 0,b=o;var q=d,ne=R;try{ne()}catch(fe){xt(b,q,fe)}}}p=p.next}while(p!==j)}}catch(fe){xt(o,o.return,fe)}}function F_(i){var o=i.updateQueue;if(o!==null){var d=i.stateNode;try{RN(o,d)}catch(p){xt(i,i.return,p)}}}function K_(i,o,d){d.props=io(i.type,i.memoizedProps),d.state=i.memoizedState;try{d.componentWillUnmount()}catch(p){xt(i,o,p)}}function ou(i,o){try{var d=i.ref;if(d!==null){switch(i.tag){case 26:case 27:case 5:var p=i.stateNode;break;case 30:p=i.stateNode;break;default:p=i.stateNode}typeof d=="function"?i.refCleanup=d(p):d.current=p}}catch(b){xt(i,o,b)}}function Ua(i,o){var d=i.ref,p=i.refCleanup;if(d!==null)if(typeof p=="function")try{p()}catch(b){xt(i,o,b)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(b){xt(i,o,b)}else d.current=null}function G_(i){var o=i.type,d=i.memoizedProps,p=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":d.autoFocus&&p.focus();break e;case"img":d.src?p.src=d.src:d.srcSet&&(p.srcset=d.srcSet)}}catch(b){xt(i,i.return,b)}}function Kv(i,o,d){try{var p=i.stateNode;NU(p,i.type,d,o),p[dn]=o}catch(b){xt(i,i.return,b)}}function W_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ps(i.type)||i.tag===4}function Gv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||W_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ps(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Wv(i,o,d){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(i,o):(o=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,o.appendChild(i),d=d._reactRootContainer,d!=null||o.onclick!==null||(o.onclick=ai));else if(p!==4&&(p===27&&ps(i.type)&&(d=i.stateNode,o=null),i=i.child,i!==null))for(Wv(i,o,d),i=i.sibling;i!==null;)Wv(i,o,d),i=i.sibling}function Wf(i,o,d){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?d.insertBefore(i,o):d.appendChild(i);else if(p!==4&&(p===27&&ps(i.type)&&(d=i.stateNode),i=i.child,i!==null))for(Wf(i,o,d),i=i.sibling;i!==null;)Wf(i,o,d),i=i.sibling}function Y_(i){var o=i.stateNode,d=i.memoizedProps;try{for(var p=i.type,b=o.attributes;b.length;)o.removeAttributeNode(b[0]);Vr(o,p,d),o[Ur]=i,o[dn]=d}catch(j){xt(i,i.return,j)}}var mi=!1,cr=!1,Yv=!1,X_=typeof WeakSet=="function"?WeakSet:Set,Or=null;function nU(i,o){if(i=i.containerInfo,g0=ph,i=lN(i),qg(i)){if("selectionStart"in i)var d={start:i.selectionStart,end:i.selectionEnd};else e:{d=(d=i.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var b=p.anchorOffset,j=p.focusNode;p=p.focusOffset;try{d.nodeType,j.nodeType}catch{d=null;break e}var E=0,R=-1,q=-1,ne=0,fe=0,ve=i,ae=null;t:for(;;){for(var le;ve!==d||b!==0&&ve.nodeType!==3||(R=E+b),ve!==j||p!==0&&ve.nodeType!==3||(q=E+p),ve.nodeType===3&&(E+=ve.nodeValue.length),(le=ve.firstChild)!==null;)ae=ve,ve=le;for(;;){if(ve===i)break t;if(ae===d&&++ne===b&&(R=E),ae===j&&++fe===p&&(q=E),(le=ve.nextSibling)!==null)break;ve=ae,ae=ve.parentNode}ve=le}d=R===-1||q===-1?null:{start:R,end:q}}else d=null}d=d||{start:0,end:0}}else d=null;for(v0={focusedElem:i,selectionRange:d},ph=!1,Or=o;Or!==null;)if(o=Or,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Or=i;else for(;Or!==null;){switch(o=Or,j=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(d=0;d<i.length;d++)b=i[d],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&j!==null){i=void 0,d=o,b=j.memoizedProps,j=j.memoizedState,p=d.stateNode;try{var Pe=io(d.type,b);i=p.getSnapshotBeforeUpdate(Pe,j),p.__reactInternalSnapshotBeforeUpdate=i}catch(Ve){xt(d,d.return,Ve)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,d=i.nodeType,d===9)b0(i);else if(d===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":b0(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=o.sibling,i!==null){i.return=o.return,Or=i;break}Or=o.return}}function Z_(i,o,d){var p=d.flags;switch(d.tag){case 0:case 11:case 15:gi(i,d),p&4&&su(5,d);break;case 1:if(gi(i,d),p&4)if(i=d.stateNode,o===null)try{i.componentDidMount()}catch(E){xt(d,d.return,E)}else{var b=io(d.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(b,o,i.__reactInternalSnapshotBeforeUpdate)}catch(E){xt(d,d.return,E)}}p&64&&F_(d),p&512&&ou(d,d.return);break;case 3:if(gi(i,d),p&64&&(i=d.updateQueue,i!==null)){if(o=null,d.child!==null)switch(d.child.tag){case 27:case 5:o=d.child.stateNode;break;case 1:o=d.child.stateNode}try{RN(i,o)}catch(E){xt(d,d.return,E)}}break;case 27:o===null&&p&4&&Y_(d);case 26:case 5:gi(i,d),o===null&&p&4&&G_(d),p&512&&ou(d,d.return);break;case 12:gi(i,d);break;case 31:gi(i,d),p&4&&ek(i,d);break;case 13:gi(i,d),p&4&&tk(i,d),p&64&&(i=d.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(d=fU.bind(null,d),PU(i,d))));break;case 22:if(p=d.memoizedState!==null||mi,!p){o=o!==null&&o.memoizedState!==null||cr,b=mi;var j=cr;mi=p,(cr=o)&&!j?vi(i,d,(d.subtreeFlags&8772)!==0):gi(i,d),mi=b,cr=j}break;case 30:break;default:gi(i,d)}}function Q_(i){var o=i.alternate;o!==null&&(i.alternate=null,Q_(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&_g(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Ut=null,hn=!1;function pi(i,o,d){for(d=d.child;d!==null;)J_(i,o,d),d=d.sibling}function J_(i,o,d){if(Er&&typeof Er.onCommitFiberUnmount=="function")try{Er.onCommitFiberUnmount(Ra,d)}catch{}switch(d.tag){case 26:cr||Ua(d,o),pi(i,o,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:cr||Ua(d,o);var p=Ut,b=hn;ps(d.type)&&(Ut=d.stateNode,hn=!1),pi(i,o,d),gu(d.stateNode),Ut=p,hn=b;break;case 5:cr||Ua(d,o);case 6:if(p=Ut,b=hn,Ut=null,pi(i,o,d),Ut=p,hn=b,Ut!==null)if(hn)try{(Ut.nodeType===9?Ut.body:Ut.nodeName==="HTML"?Ut.ownerDocument.body:Ut).removeChild(d.stateNode)}catch(j){xt(d,o,j)}else try{Ut.removeChild(d.stateNode)}catch(j){xt(d,o,j)}break;case 18:Ut!==null&&(hn?(i=Ut,Fk(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,d.stateNode),Ol(i)):Fk(Ut,d.stateNode));break;case 4:p=Ut,b=hn,Ut=d.stateNode.containerInfo,hn=!0,pi(i,o,d),Ut=p,hn=b;break;case 0:case 11:case 14:case 15:ls(2,d,o),cr||ls(4,d,o),pi(i,o,d);break;case 1:cr||(Ua(d,o),p=d.stateNode,typeof p.componentWillUnmount=="function"&&K_(d,o,p)),pi(i,o,d);break;case 21:pi(i,o,d);break;case 22:cr=(p=cr)||d.memoizedState!==null,pi(i,o,d),cr=p;break;default:pi(i,o,d)}}function ek(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Ol(i)}catch(d){xt(o,o.return,d)}}}function tk(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Ol(i)}catch(d){xt(o,o.return,d)}}function aU(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new X_),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new X_),o;default:throw Error(n(435,i.tag))}}function Yf(i,o){var d=aU(i);o.forEach(function(p){if(!d.has(p)){d.add(p);var b=hU.bind(null,i,p);p.then(b,b)}})}function mn(i,o){var d=o.deletions;if(d!==null)for(var p=0;p<d.length;p++){var b=d[p],j=i,E=o,R=E;e:for(;R!==null;){switch(R.tag){case 27:if(ps(R.type)){Ut=R.stateNode,hn=!1;break e}break;case 5:Ut=R.stateNode,hn=!1;break e;case 3:case 4:Ut=R.stateNode.containerInfo,hn=!0;break e}R=R.return}if(Ut===null)throw Error(n(160));J_(j,E,b),Ut=null,hn=!1,j=b.alternate,j!==null&&(j.return=null),b.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)rk(o,i),o=o.sibling}var ua=null;function rk(i,o){var d=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:mn(o,i),pn(i),p&4&&(ls(3,i,i.return),su(3,i),ls(5,i,i.return));break;case 1:mn(o,i),pn(i),p&512&&(cr||d===null||Ua(d,d.return)),p&64&&mi&&(i=i.updateQueue,i!==null&&(p=i.callbacks,p!==null&&(d=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=d===null?p:d.concat(p))));break;case 26:var b=ua;if(mn(o,i),pn(i),p&512&&(cr||d===null||Ua(d,d.return)),p&4){var j=d!==null?d.memoizedState:null;if(p=i.memoizedState,d===null)if(p===null)if(i.stateNode===null){e:{p=i.type,d=i.memoizedProps,b=b.ownerDocument||b;t:switch(p){case"title":j=b.getElementsByTagName("title")[0],(!j||j[Mc]||j[Ur]||j.namespaceURI==="http://www.w3.org/2000/svg"||j.hasAttribute("itemprop"))&&(j=b.createElement(p),b.head.insertBefore(j,b.querySelector("head > title"))),Vr(j,p,d),j[Ur]=i,Tr(j),p=j;break e;case"link":var E=r2("link","href",b).get(p+(d.href||""));if(E){for(var R=0;R<E.length;R++)if(j=E[R],j.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&j.getAttribute("rel")===(d.rel==null?null:d.rel)&&j.getAttribute("title")===(d.title==null?null:d.title)&&j.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){E.splice(R,1);break t}}j=b.createElement(p),Vr(j,p,d),b.head.appendChild(j);break;case"meta":if(E=r2("meta","content",b).get(p+(d.content||""))){for(R=0;R<E.length;R++)if(j=E[R],j.getAttribute("content")===(d.content==null?null:""+d.content)&&j.getAttribute("name")===(d.name==null?null:d.name)&&j.getAttribute("property")===(d.property==null?null:d.property)&&j.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&j.getAttribute("charset")===(d.charSet==null?null:d.charSet)){E.splice(R,1);break t}}j=b.createElement(p),Vr(j,p,d),b.head.appendChild(j);break;default:throw Error(n(468,p))}j[Ur]=i,Tr(j),p=j}i.stateNode=p}else n2(b,i.type,i.stateNode);else i.stateNode=t2(b,p,i.memoizedProps);else j!==p?(j===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):j.count--,p===null?n2(b,i.type,i.stateNode):t2(b,p,i.memoizedProps)):p===null&&i.stateNode!==null&&Kv(i,i.memoizedProps,d.memoizedProps)}break;case 27:mn(o,i),pn(i),p&512&&(cr||d===null||Ua(d,d.return)),d!==null&&p&4&&Kv(i,i.memoizedProps,d.memoizedProps);break;case 5:if(mn(o,i),pn(i),p&512&&(cr||d===null||Ua(d,d.return)),i.flags&32){b=i.stateNode;try{Jo(b,"")}catch(Pe){xt(i,i.return,Pe)}}p&4&&i.stateNode!=null&&(b=i.memoizedProps,Kv(i,b,d!==null?d.memoizedProps:b)),p&1024&&(Yv=!0);break;case 6:if(mn(o,i),pn(i),p&4){if(i.stateNode===null)throw Error(n(162));p=i.memoizedProps,d=i.stateNode;try{d.nodeValue=p}catch(Pe){xt(i,i.return,Pe)}}break;case 3:if(dh=null,b=ua,ua=ch(o.containerInfo),mn(o,i),ua=b,pn(i),p&4&&d!==null&&d.memoizedState.isDehydrated)try{Ol(o.containerInfo)}catch(Pe){xt(i,i.return,Pe)}Yv&&(Yv=!1,nk(i));break;case 4:p=ua,ua=ch(i.stateNode.containerInfo),mn(o,i),pn(i),ua=p;break;case 12:mn(o,i),pn(i);break;case 31:mn(o,i),pn(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,Yf(i,p)));break;case 13:mn(o,i),pn(i),i.child.flags&8192&&i.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Zf=Ar()),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,Yf(i,p)));break;case 22:b=i.memoizedState!==null;var q=d!==null&&d.memoizedState!==null,ne=mi,fe=cr;if(mi=ne||b,cr=fe||q,mn(o,i),cr=fe,mi=ne,pn(i),p&8192)e:for(o=i.stateNode,o._visibility=b?o._visibility&-2:o._visibility|1,b&&(d===null||q||mi||cr||so(i)),d=null,o=i;;){if(o.tag===5||o.tag===26){if(d===null){q=d=o;try{if(j=q.stateNode,b)E=j.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{R=q.stateNode;var ve=q.memoizedProps.style,ae=ve!=null&&ve.hasOwnProperty("display")?ve.display:null;R.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(Pe){xt(q,q.return,Pe)}}}else if(o.tag===6){if(d===null){q=o;try{q.stateNode.nodeValue=b?"":q.memoizedProps}catch(Pe){xt(q,q.return,Pe)}}}else if(o.tag===18){if(d===null){q=o;try{var le=q.stateNode;b?Kk(le,!0):Kk(q.stateNode,!1)}catch(Pe){xt(q,q.return,Pe)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;d===o&&(d=null),o=o.return}d===o&&(d=null),o.sibling.return=o.return,o=o.sibling}p&4&&(p=i.updateQueue,p!==null&&(d=p.retryQueue,d!==null&&(p.retryQueue=null,Yf(i,d))));break;case 19:mn(o,i),pn(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,Yf(i,p)));break;case 30:break;case 21:break;default:mn(o,i),pn(i)}}function pn(i){var o=i.flags;if(o&2){try{for(var d,p=i.return;p!==null;){if(W_(p)){d=p;break}p=p.return}if(d==null)throw Error(n(160));switch(d.tag){case 27:var b=d.stateNode,j=Gv(i);Wf(i,j,b);break;case 5:var E=d.stateNode;d.flags&32&&(Jo(E,""),d.flags&=-33);var R=Gv(i);Wf(i,R,E);break;case 3:case 4:var q=d.stateNode.containerInfo,ne=Gv(i);Wv(i,ne,q);break;default:throw Error(n(161))}}catch(fe){xt(i,i.return,fe)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function nk(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;nk(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function gi(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Z_(i,o.alternate,o),o=o.sibling}function so(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:ls(4,o,o.return),so(o);break;case 1:Ua(o,o.return);var d=o.stateNode;typeof d.componentWillUnmount=="function"&&K_(o,o.return,d),so(o);break;case 27:gu(o.stateNode);case 26:case 5:Ua(o,o.return),so(o);break;case 22:o.memoizedState===null&&so(o);break;case 30:so(o);break;default:so(o)}i=i.sibling}}function vi(i,o,d){for(d=d&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var p=o.alternate,b=i,j=o,E=j.flags;switch(j.tag){case 0:case 11:case 15:vi(b,j,d),su(4,j);break;case 1:if(vi(b,j,d),p=j,b=p.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(ne){xt(p,p.return,ne)}if(p=j,b=p.updateQueue,b!==null){var R=p.stateNode;try{var q=b.shared.hiddenCallbacks;if(q!==null)for(b.shared.hiddenCallbacks=null,b=0;b<q.length;b++)MN(q[b],R)}catch(ne){xt(p,p.return,ne)}}d&&E&64&&F_(j),ou(j,j.return);break;case 27:Y_(j);case 26:case 5:vi(b,j,d),d&&p===null&&E&4&&G_(j),ou(j,j.return);break;case 12:vi(b,j,d);break;case 31:vi(b,j,d),d&&E&4&&ek(b,j);break;case 13:vi(b,j,d),d&&E&4&&tk(b,j);break;case 22:j.memoizedState===null&&vi(b,j,d),ou(j,j.return);break;case 30:break;default:vi(b,j,d)}o=o.sibling}}function Xv(i,o){var d=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==d&&(i!=null&&i.refCount++,d!=null&&Gc(d))}function Zv(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Gc(i))}function da(i,o,d,p){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)ak(i,o,d,p),o=o.sibling}function ak(i,o,d,p){var b=o.flags;switch(o.tag){case 0:case 11:case 15:da(i,o,d,p),b&2048&&su(9,o);break;case 1:da(i,o,d,p);break;case 3:da(i,o,d,p),b&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Gc(i)));break;case 12:if(b&2048){da(i,o,d,p),i=o.stateNode;try{var j=o.memoizedProps,E=j.id,R=j.onPostCommit;typeof R=="function"&&R(E,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(q){xt(o,o.return,q)}}else da(i,o,d,p);break;case 31:da(i,o,d,p);break;case 13:da(i,o,d,p);break;case 23:break;case 22:j=o.stateNode,E=o.alternate,o.memoizedState!==null?j._visibility&2?da(i,o,d,p):lu(i,o):j._visibility&2?da(i,o,d,p):(j._visibility|=2,xl(i,o,d,p,(o.subtreeFlags&10256)!==0||!1)),b&2048&&Xv(E,o);break;case 24:da(i,o,d,p),b&2048&&Zv(o.alternate,o);break;default:da(i,o,d,p)}}function xl(i,o,d,p,b){for(b=b&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var j=i,E=o,R=d,q=p,ne=E.flags;switch(E.tag){case 0:case 11:case 15:xl(j,E,R,q,b),su(8,E);break;case 23:break;case 22:var fe=E.stateNode;E.memoizedState!==null?fe._visibility&2?xl(j,E,R,q,b):lu(j,E):(fe._visibility|=2,xl(j,E,R,q,b)),b&&ne&2048&&Xv(E.alternate,E);break;case 24:xl(j,E,R,q,b),b&&ne&2048&&Zv(E.alternate,E);break;default:xl(j,E,R,q,b)}o=o.sibling}}function lu(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var d=i,p=o,b=p.flags;switch(p.tag){case 22:lu(d,p),b&2048&&Xv(p.alternate,p);break;case 24:lu(d,p),b&2048&&Zv(p.alternate,p);break;default:lu(d,p)}o=o.sibling}}var cu=8192;function bl(i,o,d){if(i.subtreeFlags&cu)for(i=i.child;i!==null;)ik(i,o,d),i=i.sibling}function ik(i,o,d){switch(i.tag){case 26:bl(i,o,d),i.flags&cu&&i.memoizedState!==null&&HU(d,ua,i.memoizedState,i.memoizedProps);break;case 5:bl(i,o,d);break;case 3:case 4:var p=ua;ua=ch(i.stateNode.containerInfo),bl(i,o,d),ua=p;break;case 22:i.memoizedState===null&&(p=i.alternate,p!==null&&p.memoizedState!==null?(p=cu,cu=16777216,bl(i,o,d),cu=p):bl(i,o,d));break;default:bl(i,o,d)}}function sk(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function uu(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var p=o[d];Or=p,lk(p,i)}sk(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)ok(i),i=i.sibling}function ok(i){switch(i.tag){case 0:case 11:case 15:uu(i),i.flags&2048&&ls(9,i,i.return);break;case 3:uu(i);break;case 12:uu(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,Xf(i)):uu(i);break;default:uu(i)}}function Xf(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var p=o[d];Or=p,lk(p,i)}sk(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:ls(8,o,o.return),Xf(o);break;case 22:d=o.stateNode,d._visibility&2&&(d._visibility&=-3,Xf(o));break;default:Xf(o)}i=i.sibling}}function lk(i,o){for(;Or!==null;){var d=Or;switch(d.tag){case 0:case 11:case 15:ls(8,d,o);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var p=d.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Gc(d.memoizedState.cache)}if(p=d.child,p!==null)p.return=d,Or=p;else e:for(d=i;Or!==null;){p=Or;var b=p.sibling,j=p.return;if(Q_(p),p===d){Or=null;break e}if(b!==null){b.return=j,Or=b;break e}Or=j}}}var iU={getCacheForType:function(i){var o=zr(sr),d=o.data.get(i);return d===void 0&&(d=i(),o.data.set(i,d)),d},cacheSignal:function(){return zr(sr).controller.signal}},sU=typeof WeakMap=="function"?WeakMap:Map,pt=0,At=null,Je=null,tt=0,yt=0,En=null,cs=!1,wl=!1,Qv=!1,yi=0,Yt=0,us=0,oo=0,Jv=0,Tn=0,jl=0,du=null,gn=null,e0=!1,Zf=0,ck=0,Qf=1/0,Jf=null,ds=null,vr=0,fs=null,Sl=null,xi=0,t0=0,r0=null,uk=null,fu=0,n0=null;function On(){return(pt&2)!==0&&tt!==0?tt&-tt:Y.T!==null?c0():Ia()}function dk(){if(Tn===0)if((tt&536870912)===0||st){var i=H;H<<=1,(H&3932160)===0&&(H=262144),Tn=i}else Tn=536870912;return i=kn.current,i!==null&&(i.flags|=32),Tn}function vn(i,o,d){(i===At&&(yt===2||yt===9)||i.cancelPendingCommit!==null)&&(Nl(i,0),hs(i,tt,Tn,!1)),Ye(i,d),((pt&2)===0||i!==At)&&(i===At&&((pt&2)===0&&(oo|=d),Yt===4&&hs(i,tt,Tn,!1)),Ba(i))}function fk(i,o,d){if((pt&6)!==0)throw Error(n(327));var p=!d&&(o&127)===0&&(o&i.expiredLanes)===0||Ne(i,o),b=p?cU(i,o):i0(i,o,!0),j=p;do{if(b===0){wl&&!p&&hs(i,o,0,!1);break}else{if(d=i.current.alternate,j&&!oU(d)){b=i0(i,o,!1),j=!1;continue}if(b===2){if(j=o,i.errorRecoveryDisabledLanes&j)var E=0;else E=i.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){o=E;e:{var R=i;b=du;var q=R.current.memoizedState.isDehydrated;if(q&&(Nl(R,E).flags|=256),E=i0(R,E,!1),E!==2){if(Qv&&!q){R.errorRecoveryDisabledLanes|=j,oo|=j,b=4;break e}j=gn,gn=b,j!==null&&(gn===null?gn=j:gn.push.apply(gn,j))}b=E}if(j=!1,b!==2)continue}}if(b===1){Nl(i,0),hs(i,o,0,!0);break}e:{switch(p=i,j=b,j){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:hs(p,o,Tn,!cs);break e;case 2:gn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(b=Zf+300-Ar(),10<b)){if(hs(p,o,Tn,!cs),xe(p,0,!0)!==0)break e;xi=o,p.timeoutHandle=Vk(hk.bind(null,p,d,gn,Jf,e0,o,Tn,oo,jl,cs,j,"Throttled",-0,0),b);break e}hk(p,d,gn,Jf,e0,o,Tn,oo,jl,cs,j,null,-0,0)}}break}while(!0);Ba(i)}function hk(i,o,d,p,b,j,E,R,q,ne,fe,ve,ae,le){if(i.timeoutHandle=-1,ve=o.subtreeFlags,ve&8192||(ve&16785408)===16785408){ve={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ai},ik(o,j,ve);var Pe=(j&62914560)===j?Zf-Ar():(j&4194048)===j?ck-Ar():0;if(Pe=FU(ve,Pe),Pe!==null){xi=j,i.cancelPendingCommit=Pe(wk.bind(null,i,o,j,d,p,b,E,R,q,fe,ve,null,ae,le)),hs(i,j,E,!ne);return}}wk(i,o,j,d,p,b,E,R,q)}function oU(i){for(var o=i;;){var d=o.tag;if((d===0||d===11||d===15)&&o.flags&16384&&(d=o.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var p=0;p<d.length;p++){var b=d[p],j=b.getSnapshot;b=b.value;try{if(!Nn(j(),b))return!1}catch{return!1}}if(d=o.child,o.subtreeFlags&16384&&d!==null)d.return=o,o=d;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function hs(i,o,d,p){o&=~Jv,o&=~oo,i.suspendedLanes|=o,i.pingedLanes&=~o,p&&(i.warmLanes|=o),p=i.expirationTimes;for(var b=o;0<b;){var j=31-pr(b),E=1<<j;p[j]=-1,b&=~E}d!==0&&lt(i,d,o)}function eh(){return(pt&6)===0?(hu(0),!1):!0}function a0(){if(Je!==null){if(yt===0)var i=Je.return;else i=Je,li=Qs=null,bv(i),ml=null,Yc=0,i=Je;for(;i!==null;)H_(i.alternate,i),i=i.return;Je=null}}function Nl(i,o){var d=i.timeoutHandle;d!==-1&&(i.timeoutHandle=-1,AU(d)),d=i.cancelPendingCommit,d!==null&&(i.cancelPendingCommit=null,d()),xi=0,a0(),At=i,Je=d=si(i.current,null),tt=o,yt=0,En=null,cs=!1,wl=Ne(i,o),Qv=!1,jl=Tn=Jv=oo=us=Yt=0,gn=du=null,e0=!1,(o&8)!==0&&(o|=o&32);var p=i.entangledLanes;if(p!==0)for(i=i.entanglements,p&=o;0<p;){var b=31-pr(p),j=1<<b;o|=i[b],p&=~j}return yi=o,wf(),d}function mk(i,o){Ze=null,Y.H=nu,o===hl||o===Tf?(o=ON(),yt=3):o===lv?(o=ON(),yt=4):yt=o===Iv?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,En=o,Je===null&&(Yt=1,Vf(i,Vn(o,i.current)))}function pk(){var i=kn.current;return i===null?!0:(tt&4194048)===tt?Gn===null:(tt&62914560)===tt||(tt&536870912)!==0?i===Gn:!1}function gk(){var i=Y.H;return Y.H=nu,i===null?nu:i}function vk(){var i=Y.A;return Y.A=iU,i}function th(){Yt=4,cs||(tt&4194048)!==tt&&kn.current!==null||(wl=!0),(us&134217727)===0&&(oo&134217727)===0||At===null||hs(At,tt,Tn,!1)}function i0(i,o,d){var p=pt;pt|=2;var b=gk(),j=vk();(At!==i||tt!==o)&&(Jf=null,Nl(i,o)),o=!1;var E=Yt;e:do try{if(yt!==0&&Je!==null){var R=Je,q=En;switch(yt){case 8:a0(),E=6;break e;case 3:case 2:case 9:case 6:kn.current===null&&(o=!0);var ne=yt;if(yt=0,En=null,_l(i,R,q,ne),d&&wl){E=0;break e}break;default:ne=yt,yt=0,En=null,_l(i,R,q,ne)}}lU(),E=Yt;break}catch(fe){mk(i,fe)}while(!0);return o&&i.shellSuspendCounter++,li=Qs=null,pt=p,Y.H=b,Y.A=j,Je===null&&(At=null,tt=0,wf()),E}function lU(){for(;Je!==null;)yk(Je)}function cU(i,o){var d=pt;pt|=2;var p=gk(),b=vk();At!==i||tt!==o?(Jf=null,Qf=Ar()+500,Nl(i,o)):wl=Ne(i,o);e:do try{if(yt!==0&&Je!==null){o=Je;var j=En;t:switch(yt){case 1:yt=0,En=null,_l(i,o,j,1);break;case 2:case 9:if(EN(j)){yt=0,En=null,xk(o);break}o=function(){yt!==2&&yt!==9||At!==i||(yt=7),Ba(i)},j.then(o,o);break e;case 3:yt=7;break e;case 4:yt=5;break e;case 7:EN(j)?(yt=0,En=null,xk(o)):(yt=0,En=null,_l(i,o,j,7));break;case 5:var E=null;switch(Je.tag){case 26:E=Je.memoizedState;case 5:case 27:var R=Je;if(E?a2(E):R.stateNode.complete){yt=0,En=null;var q=R.sibling;if(q!==null)Je=q;else{var ne=R.return;ne!==null?(Je=ne,rh(ne)):Je=null}break t}}yt=0,En=null,_l(i,o,j,5);break;case 6:yt=0,En=null,_l(i,o,j,6);break;case 8:a0(),Yt=6;break e;default:throw Error(n(462))}}uU();break}catch(fe){mk(i,fe)}while(!0);return li=Qs=null,Y.H=p,Y.A=b,pt=d,Je!==null?0:(At=null,tt=0,wf(),Yt)}function uU(){for(;Je!==null&&!jn();)yk(Je)}function yk(i){var o=q_(i.alternate,i,yi);i.memoizedProps=i.pendingProps,o===null?rh(i):Je=o}function xk(i){var o=i,d=o.alternate;switch(o.tag){case 15:case 0:o=I_(d,o,o.pendingProps,o.type,void 0,tt);break;case 11:o=I_(d,o,o.pendingProps,o.type.render,o.ref,tt);break;case 5:bv(o);default:H_(d,o),o=Je=vN(o,yi),o=q_(d,o,yi)}i.memoizedProps=i.pendingProps,o===null?rh(i):Je=o}function _l(i,o,d,p){li=Qs=null,bv(o),ml=null,Yc=0;var b=o.return;try{if(Q$(i,b,o,d,tt)){Yt=1,Vf(i,Vn(d,i.current)),Je=null;return}}catch(j){if(b!==null)throw Je=b,j;Yt=1,Vf(i,Vn(d,i.current)),Je=null;return}o.flags&32768?(st||p===1?i=!0:wl||(tt&536870912)!==0?i=!1:(cs=i=!0,(p===2||p===9||p===3||p===6)&&(p=kn.current,p!==null&&p.tag===13&&(p.flags|=16384))),bk(o,i)):rh(o)}function rh(i){var o=i;do{if((o.flags&32768)!==0){bk(o,cs);return}i=o.return;var d=tU(o.alternate,o,yi);if(d!==null){Je=d;return}if(o=o.sibling,o!==null){Je=o;return}Je=o=i}while(o!==null);Yt===0&&(Yt=5)}function bk(i,o){do{var d=rU(i.alternate,i);if(d!==null){d.flags&=32767,Je=d;return}if(d=i.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!o&&(i=i.sibling,i!==null)){Je=i;return}Je=i=d}while(i!==null);Yt=6,Je=null}function wk(i,o,d,p,b,j,E,R,q){i.cancelPendingCommit=null;do nh();while(vr!==0);if((pt&6)!==0)throw Error(n(327));if(o!==null){if(o===i.current)throw Error(n(177));if(j=o.lanes|o.childLanes,j|=Gg,ct(i,d,j,E,R,q),i===At&&(Je=At=null,tt=0),Sl=o,fs=i,xi=d,t0=j,r0=b,uk=p,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,mU(ri,function(){return kk(),null})):(i.callbackNode=null,i.callbackPriority=0),p=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||p){p=Y.T,Y.T=null,b=ee.p,ee.p=2,E=pt,pt|=4;try{nU(i,o,d)}finally{pt=E,ee.p=b,Y.T=p}}vr=1,jk(),Sk(),Nk()}}function jk(){if(vr===1){vr=0;var i=fs,o=Sl,d=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||d){d=Y.T,Y.T=null;var p=ee.p;ee.p=2;var b=pt;pt|=4;try{rk(o,i);var j=v0,E=lN(i.containerInfo),R=j.focusedElem,q=j.selectionRange;if(E!==R&&R&&R.ownerDocument&&oN(R.ownerDocument.documentElement,R)){if(q!==null&&qg(R)){var ne=q.start,fe=q.end;if(fe===void 0&&(fe=ne),"selectionStart"in R)R.selectionStart=ne,R.selectionEnd=Math.min(fe,R.value.length);else{var ve=R.ownerDocument||document,ae=ve&&ve.defaultView||window;if(ae.getSelection){var le=ae.getSelection(),Pe=R.textContent.length,Ve=Math.min(q.start,Pe),St=q.end===void 0?Ve:Math.min(q.end,Pe);!le.extend&&Ve>St&&(E=St,St=Ve,Ve=E);var X=sN(R,Ve),F=sN(R,St);if(X&&F&&(le.rangeCount!==1||le.anchorNode!==X.node||le.anchorOffset!==X.offset||le.focusNode!==F.node||le.focusOffset!==F.offset)){var re=ve.createRange();re.setStart(X.node,X.offset),le.removeAllRanges(),Ve>St?(le.addRange(re),le.extend(F.node,F.offset)):(re.setEnd(F.node,F.offset),le.addRange(re))}}}}for(ve=[],le=R;le=le.parentNode;)le.nodeType===1&&ve.push({element:le,left:le.scrollLeft,top:le.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<ve.length;R++){var ge=ve[R];ge.element.scrollLeft=ge.left,ge.element.scrollTop=ge.top}}ph=!!g0,v0=g0=null}finally{pt=b,ee.p=p,Y.T=d}}i.current=o,vr=2}}function Sk(){if(vr===2){vr=0;var i=fs,o=Sl,d=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||d){d=Y.T,Y.T=null;var p=ee.p;ee.p=2;var b=pt;pt|=4;try{Z_(i,o.alternate,o)}finally{pt=b,ee.p=p,Y.T=d}}vr=3}}function Nk(){if(vr===4||vr===3){vr=0,Ho();var i=fs,o=Sl,d=xi,p=uk;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?vr=5:(vr=0,Sl=fs=null,_k(i,i.pendingLanes));var b=i.pendingLanes;if(b===0&&(ds=null),$t(d),o=o.stateNode,Er&&typeof Er.onCommitFiberRoot=="function")try{Er.onCommitFiberRoot(Ra,o,void 0,(o.current.flags&128)===128)}catch{}if(p!==null){o=Y.T,b=ee.p,ee.p=2,Y.T=null;try{for(var j=i.onRecoverableError,E=0;E<p.length;E++){var R=p[E];j(R.value,{componentStack:R.stack})}}finally{Y.T=o,ee.p=b}}(xi&3)!==0&&nh(),Ba(i),b=i.pendingLanes,(d&261930)!==0&&(b&42)!==0?i===n0?fu++:(fu=0,n0=i):fu=0,hu(0)}}function _k(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,Gc(o)))}function nh(){return jk(),Sk(),Nk(),kk()}function kk(){if(vr!==5)return!1;var i=fs,o=t0;t0=0;var d=$t(xi),p=Y.T,b=ee.p;try{ee.p=32>d?32:d,Y.T=null,d=r0,r0=null;var j=fs,E=xi;if(vr=0,Sl=fs=null,xi=0,(pt&6)!==0)throw Error(n(331));var R=pt;if(pt|=4,ok(j.current),ak(j,j.current,E,d),pt=R,hu(0,!1),Er&&typeof Er.onPostCommitFiberRoot=="function")try{Er.onPostCommitFiberRoot(Ra,j)}catch{}return!0}finally{ee.p=b,Y.T=p,_k(i,o)}}function Ak(i,o,d){o=Vn(d,o),o=Rv(i.stateNode,o,2),i=is(i,o,2),i!==null&&(Ye(i,2),Ba(i))}function xt(i,o,d){if(i.tag===3)Ak(i,i,d);else for(;o!==null;){if(o.tag===3){Ak(o,i,d);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(ds===null||!ds.has(p))){i=Vn(d,i),d=E_(2),p=is(o,d,2),p!==null&&(T_(d,p,o,i),Ye(p,2),Ba(p));break}}o=o.return}}function s0(i,o,d){var p=i.pingCache;if(p===null){p=i.pingCache=new sU;var b=new Set;p.set(o,b)}else b=p.get(o),b===void 0&&(b=new Set,p.set(o,b));b.has(d)||(Qv=!0,b.add(d),i=dU.bind(null,i,o,d),o.then(i,i))}function dU(i,o,d){var p=i.pingCache;p!==null&&p.delete(o),i.pingedLanes|=i.suspendedLanes&d,i.warmLanes&=~d,At===i&&(tt&d)===d&&(Yt===4||Yt===3&&(tt&62914560)===tt&&300>Ar()-Zf?(pt&2)===0&&Nl(i,0):Jv|=d,jl===tt&&(jl=0)),Ba(i)}function Ek(i,o){o===0&&(o=ze()),i=Ys(i,o),i!==null&&(Ye(i,o),Ba(i))}function fU(i){var o=i.memoizedState,d=0;o!==null&&(d=o.retryLane),Ek(i,d)}function hU(i,o){var d=0;switch(i.tag){case 31:case 13:var p=i.stateNode,b=i.memoizedState;b!==null&&(d=b.retryLane);break;case 19:p=i.stateNode;break;case 22:p=i.stateNode._retryCache;break;default:throw Error(n(314))}p!==null&&p.delete(o),Ek(i,d)}function mU(i,o){return vt(i,o)}var ah=null,kl=null,o0=!1,ih=!1,l0=!1,ms=0;function Ba(i){i!==kl&&i.next===null&&(kl===null?ah=kl=i:kl=kl.next=i),ih=!0,o0||(o0=!0,gU())}function hu(i,o){if(!l0&&ih){l0=!0;do for(var d=!1,p=ah;p!==null;){if(i!==0){var b=p.pendingLanes;if(b===0)var j=0;else{var E=p.suspendedLanes,R=p.pingedLanes;j=(1<<31-pr(42|i)+1)-1,j&=b&~(E&~R),j=j&201326741?j&201326741|1:j?j|2:0}j!==0&&(d=!0,Pk(p,j))}else j=tt,j=xe(p,p===At?j:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(j&3)===0||Ne(p,j)||(d=!0,Pk(p,j));p=p.next}while(d);l0=!1}}function pU(){Tk()}function Tk(){ih=o0=!1;var i=0;ms!==0&&kU()&&(i=ms);for(var o=Ar(),d=null,p=ah;p!==null;){var b=p.next,j=Ok(p,o);j===0?(p.next=null,d===null?ah=b:d.next=b,b===null&&(kl=d)):(d=p,(i!==0||(j&3)!==0)&&(ih=!0)),p=b}vr!==0&&vr!==5||hu(i),ms!==0&&(ms=0)}function Ok(i,o){for(var d=i.suspendedLanes,p=i.pingedLanes,b=i.expirationTimes,j=i.pendingLanes&-62914561;0<j;){var E=31-pr(j),R=1<<E,q=b[E];q===-1?((R&d)===0||(R&p)!==0)&&(b[E]=_e(R,o)):q<=o&&(i.expiredLanes|=R),j&=~R}if(o=At,d=tt,d=xe(i,i===o?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p=i.callbackNode,d===0||i===o&&(yt===2||yt===9)||i.cancelPendingCommit!==null)return p!==null&&p!==null&&$r(p),i.callbackNode=null,i.callbackPriority=0;if((d&3)===0||Ne(i,d)){if(o=d&-d,o===i.callbackPriority)return o;switch(p!==null&&$r(p),$t(d)){case 2:case 8:d=Vs;break;case 32:d=ri;break;case 268435456:d=Hs;break;default:d=ri}return p=Ck.bind(null,i),d=vt(d,p),i.callbackPriority=o,i.callbackNode=d,o}return p!==null&&p!==null&&$r(p),i.callbackPriority=2,i.callbackNode=null,2}function Ck(i,o){if(vr!==0&&vr!==5)return i.callbackNode=null,i.callbackPriority=0,null;var d=i.callbackNode;if(nh()&&i.callbackNode!==d)return null;var p=tt;return p=xe(i,i===At?p:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p===0?null:(fk(i,p,o),Ok(i,Ar()),i.callbackNode!=null&&i.callbackNode===d?Ck.bind(null,i):null)}function Pk(i,o){if(nh())return null;fk(i,o,!0)}function gU(){EU(function(){(pt&6)!==0?vt(qs,pU):Tk()})}function c0(){if(ms===0){var i=dl;i===0&&(i=U,U<<=1,(U&261888)===0&&(U=256)),ms=i}return ms}function Dk(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:hf(""+i)}function Mk(i,o){var d=o.ownerDocument.createElement("input");return d.name=o.name,d.value=o.value,i.id&&d.setAttribute("form",i.id),o.parentNode.insertBefore(d,o),i=new FormData(i),d.parentNode.removeChild(d),i}function vU(i,o,d,p,b){if(o==="submit"&&d&&d.stateNode===b){var j=Dk((b[dn]||null).action),E=p.submitter;E&&(o=(o=E[dn]||null)?Dk(o.formAction):E.getAttribute("formAction"),o!==null&&(j=o,E=null));var R=new vf("action","action",null,p,b);i.push({event:R,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(ms!==0){var q=E?Mk(b,E):new FormData(b);Tv(d,{pending:!0,data:q,method:b.method,action:j},null,q)}}else typeof j=="function"&&(R.preventDefault(),q=E?Mk(b,E):new FormData(b),Tv(d,{pending:!0,data:q,method:b.method,action:j},j,q))},currentTarget:b}]})}}for(var u0=0;u0<Kg.length;u0++){var d0=Kg[u0],yU=d0.toLowerCase(),xU=d0[0].toUpperCase()+d0.slice(1);ca(yU,"on"+xU)}ca(dN,"onAnimationEnd"),ca(fN,"onAnimationIteration"),ca(hN,"onAnimationStart"),ca("dblclick","onDoubleClick"),ca("focusin","onFocus"),ca("focusout","onBlur"),ca(R$,"onTransitionRun"),ca(I$,"onTransitionStart"),ca(L$,"onTransitionCancel"),ca(mN,"onTransitionEnd"),Zo("onMouseEnter",["mouseout","mouseover"]),Zo("onMouseLeave",["mouseout","mouseover"]),Zo("onPointerEnter",["pointerout","pointerover"]),Zo("onPointerLeave",["pointerout","pointerover"]),Fs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bU=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mu));function Rk(i,o){o=(o&4)!==0;for(var d=0;d<i.length;d++){var p=i[d],b=p.event;p=p.listeners;e:{var j=void 0;if(o)for(var E=p.length-1;0<=E;E--){var R=p[E],q=R.instance,ne=R.currentTarget;if(R=R.listener,q!==j&&b.isPropagationStopped())break e;j=R,b.currentTarget=ne;try{j(b)}catch(fe){bf(fe)}b.currentTarget=null,j=q}else for(E=0;E<p.length;E++){if(R=p[E],q=R.instance,ne=R.currentTarget,R=R.listener,q!==j&&b.isPropagationStopped())break e;j=R,b.currentTarget=ne;try{j(b)}catch(fe){bf(fe)}b.currentTarget=null,j=q}}}}function et(i,o){var d=o[Ng];d===void 0&&(d=o[Ng]=new Set);var p=i+"__bubble";d.has(p)||(Ik(o,i,2,!1),d.add(p))}function f0(i,o,d){var p=0;o&&(p|=4),Ik(d,i,p,o)}var sh="_reactListening"+Math.random().toString(36).slice(2);function h0(i){if(!i[sh]){i[sh]=!0,TS.forEach(function(d){d!=="selectionchange"&&(bU.has(d)||f0(d,!1,i),f0(d,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[sh]||(o[sh]=!0,f0("selectionchange",!1,o))}}function Ik(i,o,d,p){switch(d2(o)){case 2:var b=WU;break;case 8:b=YU;break;default:b=E0}d=b.bind(null,o,d,i),b=void 0,!Dg||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(b=!0),p?b!==void 0?i.addEventListener(o,d,{capture:!0,passive:b}):i.addEventListener(o,d,!0):b!==void 0?i.addEventListener(o,d,{passive:b}):i.addEventListener(o,d,!1)}function m0(i,o,d,p,b){var j=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var E=p.tag;if(E===3||E===4){var R=p.stateNode.containerInfo;if(R===b)break;if(E===4)for(E=p.return;E!==null;){var q=E.tag;if((q===3||q===4)&&E.stateNode.containerInfo===b)return;E=E.return}for(;R!==null;){if(E=Wo(R),E===null)return;if(q=E.tag,q===5||q===6||q===26||q===27){p=j=E;continue e}R=R.parentNode}}p=p.return}zS(function(){var ne=j,fe=Cg(d),ve=[];e:{var ae=pN.get(i);if(ae!==void 0){var le=vf,Pe=i;switch(i){case"keypress":if(pf(d)===0)break e;case"keydown":case"keyup":le=h$;break;case"focusin":Pe="focus",le=Lg;break;case"focusout":Pe="blur",le=Lg;break;case"beforeblur":case"afterblur":le=Lg;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=HS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=t$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=g$;break;case dN:case fN:case hN:le=a$;break;case mN:le=y$;break;case"scroll":case"scrollend":le=J6;break;case"wheel":le=b$;break;case"copy":case"cut":case"paste":le=s$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=KS;break;case"toggle":case"beforetoggle":le=j$}var Ve=(o&4)!==0,St=!Ve&&(i==="scroll"||i==="scrollend"),X=Ve?ae!==null?ae+"Capture":null:ae;Ve=[];for(var F=ne,re;F!==null;){var ge=F;if(re=ge.stateNode,ge=ge.tag,ge!==5&&ge!==26&&ge!==27||re===null||X===null||(ge=Ic(F,X),ge!=null&&Ve.push(pu(F,ge,re))),St)break;F=F.return}0<Ve.length&&(ae=new le(ae,Pe,null,d,fe),ve.push({event:ae,listeners:Ve}))}}if((o&7)===0){e:{if(ae=i==="mouseover"||i==="pointerover",le=i==="mouseout"||i==="pointerout",ae&&d!==Og&&(Pe=d.relatedTarget||d.fromElement)&&(Wo(Pe)||Pe[Go]))break e;if((le||ae)&&(ae=fe.window===fe?fe:(ae=fe.ownerDocument)?ae.defaultView||ae.parentWindow:window,le?(Pe=d.relatedTarget||d.toElement,le=ne,Pe=Pe?Wo(Pe):null,Pe!==null&&(St=s(Pe),Ve=Pe.tag,Pe!==St||Ve!==5&&Ve!==27&&Ve!==6)&&(Pe=null)):(le=null,Pe=ne),le!==Pe)){if(Ve=HS,ge="onMouseLeave",X="onMouseEnter",F="mouse",(i==="pointerout"||i==="pointerover")&&(Ve=KS,ge="onPointerLeave",X="onPointerEnter",F="pointer"),St=le==null?ae:Rc(le),re=Pe==null?ae:Rc(Pe),ae=new Ve(ge,F+"leave",le,d,fe),ae.target=St,ae.relatedTarget=re,ge=null,Wo(fe)===ne&&(Ve=new Ve(X,F+"enter",Pe,d,fe),Ve.target=re,Ve.relatedTarget=St,ge=Ve),St=ge,le&&Pe)t:{for(Ve=wU,X=le,F=Pe,re=0,ge=X;ge;ge=Ve(ge))re++;ge=0;for(var Ue=F;Ue;Ue=Ve(Ue))ge++;for(;0<re-ge;)X=Ve(X),re--;for(;0<ge-re;)F=Ve(F),ge--;for(;re--;){if(X===F||F!==null&&X===F.alternate){Ve=X;break t}X=Ve(X),F=Ve(F)}Ve=null}else Ve=null;le!==null&&Lk(ve,ae,le,Ve,!1),Pe!==null&&St!==null&&Lk(ve,St,Pe,Ve,!0)}}e:{if(ae=ne?Rc(ne):window,le=ae.nodeName&&ae.nodeName.toLowerCase(),le==="select"||le==="input"&&ae.type==="file")var ut=eN;else if(QS(ae))if(tN)ut=P$;else{ut=O$;var Ie=T$}else le=ae.nodeName,!le||le.toLowerCase()!=="input"||ae.type!=="checkbox"&&ae.type!=="radio"?ne&&Tg(ne.elementType)&&(ut=eN):ut=C$;if(ut&&(ut=ut(i,ne))){JS(ve,ut,d,fe);break e}Ie&&Ie(i,ae,ne),i==="focusout"&&ne&&ae.type==="number"&&ne.memoizedProps.value!=null&&Eg(ae,"number",ae.value)}switch(Ie=ne?Rc(ne):window,i){case"focusin":(QS(Ie)||Ie.contentEditable==="true")&&(nl=Ie,Vg=ne,Hc=null);break;case"focusout":Hc=Vg=nl=null;break;case"mousedown":Hg=!0;break;case"contextmenu":case"mouseup":case"dragend":Hg=!1,cN(ve,d,fe);break;case"selectionchange":if(M$)break;case"keydown":case"keyup":cN(ve,d,fe)}var Qe;if(Ug)e:{switch(i){case"compositionstart":var rt="onCompositionStart";break e;case"compositionend":rt="onCompositionEnd";break e;case"compositionupdate":rt="onCompositionUpdate";break e}rt=void 0}else rl?XS(i,d)&&(rt="onCompositionEnd"):i==="keydown"&&d.keyCode===229&&(rt="onCompositionStart");rt&&(GS&&d.locale!=="ko"&&(rl||rt!=="onCompositionStart"?rt==="onCompositionEnd"&&rl&&(Qe=qS()):(Qi=fe,Mg="value"in Qi?Qi.value:Qi.textContent,rl=!0)),Ie=oh(ne,rt),0<Ie.length&&(rt=new FS(rt,i,null,d,fe),ve.push({event:rt,listeners:Ie}),Qe?rt.data=Qe:(Qe=ZS(d),Qe!==null&&(rt.data=Qe)))),(Qe=N$?_$(i,d):k$(i,d))&&(rt=oh(ne,"onBeforeInput"),0<rt.length&&(Ie=new FS("onBeforeInput","beforeinput",null,d,fe),ve.push({event:Ie,listeners:rt}),Ie.data=Qe)),vU(ve,i,ne,d,fe)}Rk(ve,o)})}function pu(i,o,d){return{instance:i,listener:o,currentTarget:d}}function oh(i,o){for(var d=o+"Capture",p=[];i!==null;){var b=i,j=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||j===null||(b=Ic(i,d),b!=null&&p.unshift(pu(i,b,j)),b=Ic(i,o),b!=null&&p.push(pu(i,b,j))),i.tag===3)return p;i=i.return}return[]}function wU(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Lk(i,o,d,p,b){for(var j=o._reactName,E=[];d!==null&&d!==p;){var R=d,q=R.alternate,ne=R.stateNode;if(R=R.tag,q!==null&&q===p)break;R!==5&&R!==26&&R!==27||ne===null||(q=ne,b?(ne=Ic(d,j),ne!=null&&E.unshift(pu(d,ne,q))):b||(ne=Ic(d,j),ne!=null&&E.push(pu(d,ne,q)))),d=d.return}E.length!==0&&i.push({event:o,listeners:E})}var jU=/\r\n?/g,SU=/\u0000|\uFFFD/g;function $k(i){return(typeof i=="string"?i:""+i).replace(jU,`
`).replace(SU,"")}function Uk(i,o){return o=$k(o),$k(i)===o}function jt(i,o,d,p,b,j){switch(d){case"children":typeof p=="string"?o==="body"||o==="textarea"&&p===""||Jo(i,p):(typeof p=="number"||typeof p=="bigint")&&o!=="body"&&Jo(i,""+p);break;case"className":df(i,"class",p);break;case"tabIndex":df(i,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":df(i,d,p);break;case"style":US(i,p,j);break;case"data":if(o!=="object"){df(i,"data",p);break}case"src":case"href":if(p===""&&(o!=="a"||d!=="href")){i.removeAttribute(d);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(d);break}p=hf(""+p),i.setAttribute(d,p);break;case"action":case"formAction":if(typeof p=="function"){i.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof j=="function"&&(d==="formAction"?(o!=="input"&&jt(i,o,"name",b.name,b,null),jt(i,o,"formEncType",b.formEncType,b,null),jt(i,o,"formMethod",b.formMethod,b,null),jt(i,o,"formTarget",b.formTarget,b,null)):(jt(i,o,"encType",b.encType,b,null),jt(i,o,"method",b.method,b,null),jt(i,o,"target",b.target,b,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(d);break}p=hf(""+p),i.setAttribute(d,p);break;case"onClick":p!=null&&(i.onclick=ai);break;case"onScroll":p!=null&&et("scroll",i);break;case"onScrollEnd":p!=null&&et("scrollend",i);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(d=p.__html,d!=null){if(b.children!=null)throw Error(n(60));i.innerHTML=d}}break;case"multiple":i.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":i.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){i.removeAttribute("xlink:href");break}d=hf(""+p),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(d,""+p):i.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(d,""):i.removeAttribute(d);break;case"capture":case"download":p===!0?i.setAttribute(d,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(d,p):i.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?i.setAttribute(d,p):i.removeAttribute(d);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?i.removeAttribute(d):i.setAttribute(d,p);break;case"popover":et("beforetoggle",i),et("toggle",i),uf(i,"popover",p);break;case"xlinkActuate":ni(i,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":ni(i,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":ni(i,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":ni(i,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":ni(i,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":ni(i,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":ni(i,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":ni(i,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":ni(i,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":uf(i,"is",p);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=Z6.get(d)||d,uf(i,d,p))}}function p0(i,o,d,p,b,j){switch(d){case"style":US(i,p,j);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(n(61));if(d=p.__html,d!=null){if(b.children!=null)throw Error(n(60));i.innerHTML=d}}break;case"children":typeof p=="string"?Jo(i,p):(typeof p=="number"||typeof p=="bigint")&&Jo(i,""+p);break;case"onScroll":p!=null&&et("scroll",i);break;case"onScrollEnd":p!=null&&et("scrollend",i);break;case"onClick":p!=null&&(i.onclick=ai);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!OS.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(b=d.endsWith("Capture"),o=d.slice(2,b?d.length-7:void 0),j=i[dn]||null,j=j!=null?j[d]:null,typeof j=="function"&&i.removeEventListener(o,j,b),typeof p=="function")){typeof j!="function"&&j!==null&&(d in i?i[d]=null:i.hasAttribute(d)&&i.removeAttribute(d)),i.addEventListener(o,p,b);break e}d in i?i[d]=p:p===!0?i.setAttribute(d,""):uf(i,d,p)}}}function Vr(i,o,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":et("error",i),et("load",i);var p=!1,b=!1,j;for(j in d)if(d.hasOwnProperty(j)){var E=d[j];if(E!=null)switch(j){case"src":p=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:jt(i,o,j,E,d,null)}}b&&jt(i,o,"srcSet",d.srcSet,d,null),p&&jt(i,o,"src",d.src,d,null);return;case"input":et("invalid",i);var R=j=E=b=null,q=null,ne=null;for(p in d)if(d.hasOwnProperty(p)){var fe=d[p];if(fe!=null)switch(p){case"name":b=fe;break;case"type":E=fe;break;case"checked":q=fe;break;case"defaultChecked":ne=fe;break;case"value":j=fe;break;case"defaultValue":R=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(n(137,o));break;default:jt(i,o,p,fe,d,null)}}RS(i,j,R,q,ne,E,b,!1);return;case"select":et("invalid",i),p=E=j=null;for(b in d)if(d.hasOwnProperty(b)&&(R=d[b],R!=null))switch(b){case"value":j=R;break;case"defaultValue":E=R;break;case"multiple":p=R;default:jt(i,o,b,R,d,null)}o=j,d=E,i.multiple=!!p,o!=null?Qo(i,!!p,o,!1):d!=null&&Qo(i,!!p,d,!0);return;case"textarea":et("invalid",i),j=b=p=null;for(E in d)if(d.hasOwnProperty(E)&&(R=d[E],R!=null))switch(E){case"value":p=R;break;case"defaultValue":b=R;break;case"children":j=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(n(91));break;default:jt(i,o,E,R,d,null)}LS(i,p,b,j);return;case"option":for(q in d)d.hasOwnProperty(q)&&(p=d[q],p!=null)&&(q==="selected"?i.selected=p&&typeof p!="function"&&typeof p!="symbol":jt(i,o,q,p,d,null));return;case"dialog":et("beforetoggle",i),et("toggle",i),et("cancel",i),et("close",i);break;case"iframe":case"object":et("load",i);break;case"video":case"audio":for(p=0;p<mu.length;p++)et(mu[p],i);break;case"image":et("error",i),et("load",i);break;case"details":et("toggle",i);break;case"embed":case"source":case"link":et("error",i),et("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ne in d)if(d.hasOwnProperty(ne)&&(p=d[ne],p!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:jt(i,o,ne,p,d,null)}return;default:if(Tg(o)){for(fe in d)d.hasOwnProperty(fe)&&(p=d[fe],p!==void 0&&p0(i,o,fe,p,d,void 0));return}}for(R in d)d.hasOwnProperty(R)&&(p=d[R],p!=null&&jt(i,o,R,p,d,null))}function NU(i,o,d,p){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,j=null,E=null,R=null,q=null,ne=null,fe=null;for(le in d){var ve=d[le];if(d.hasOwnProperty(le)&&ve!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":q=ve;default:p.hasOwnProperty(le)||jt(i,o,le,null,p,ve)}}for(var ae in p){var le=p[ae];if(ve=d[ae],p.hasOwnProperty(ae)&&(le!=null||ve!=null))switch(ae){case"type":j=le;break;case"name":b=le;break;case"checked":ne=le;break;case"defaultChecked":fe=le;break;case"value":E=le;break;case"defaultValue":R=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(n(137,o));break;default:le!==ve&&jt(i,o,ae,le,p,ve)}}Ag(i,E,R,q,ne,fe,j,b);return;case"select":le=E=R=ae=null;for(j in d)if(q=d[j],d.hasOwnProperty(j)&&q!=null)switch(j){case"value":break;case"multiple":le=q;default:p.hasOwnProperty(j)||jt(i,o,j,null,p,q)}for(b in p)if(j=p[b],q=d[b],p.hasOwnProperty(b)&&(j!=null||q!=null))switch(b){case"value":ae=j;break;case"defaultValue":R=j;break;case"multiple":E=j;default:j!==q&&jt(i,o,b,j,p,q)}o=R,d=E,p=le,ae!=null?Qo(i,!!d,ae,!1):!!p!=!!d&&(o!=null?Qo(i,!!d,o,!0):Qo(i,!!d,d?[]:"",!1));return;case"textarea":le=ae=null;for(R in d)if(b=d[R],d.hasOwnProperty(R)&&b!=null&&!p.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:jt(i,o,R,null,p,b)}for(E in p)if(b=p[E],j=d[E],p.hasOwnProperty(E)&&(b!=null||j!=null))switch(E){case"value":ae=b;break;case"defaultValue":le=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(n(91));break;default:b!==j&&jt(i,o,E,b,p,j)}IS(i,ae,le);return;case"option":for(var Pe in d)ae=d[Pe],d.hasOwnProperty(Pe)&&ae!=null&&!p.hasOwnProperty(Pe)&&(Pe==="selected"?i.selected=!1:jt(i,o,Pe,null,p,ae));for(q in p)ae=p[q],le=d[q],p.hasOwnProperty(q)&&ae!==le&&(ae!=null||le!=null)&&(q==="selected"?i.selected=ae&&typeof ae!="function"&&typeof ae!="symbol":jt(i,o,q,ae,p,le));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in d)ae=d[Ve],d.hasOwnProperty(Ve)&&ae!=null&&!p.hasOwnProperty(Ve)&&jt(i,o,Ve,null,p,ae);for(ne in p)if(ae=p[ne],le=d[ne],p.hasOwnProperty(ne)&&ae!==le&&(ae!=null||le!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(n(137,o));break;default:jt(i,o,ne,ae,p,le)}return;default:if(Tg(o)){for(var St in d)ae=d[St],d.hasOwnProperty(St)&&ae!==void 0&&!p.hasOwnProperty(St)&&p0(i,o,St,void 0,p,ae);for(fe in p)ae=p[fe],le=d[fe],!p.hasOwnProperty(fe)||ae===le||ae===void 0&&le===void 0||p0(i,o,fe,ae,p,le);return}}for(var X in d)ae=d[X],d.hasOwnProperty(X)&&ae!=null&&!p.hasOwnProperty(X)&&jt(i,o,X,null,p,ae);for(ve in p)ae=p[ve],le=d[ve],!p.hasOwnProperty(ve)||ae===le||ae==null&&le==null||jt(i,o,ve,ae,p,le)}function Bk(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _U(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,d=performance.getEntriesByType("resource"),p=0;p<d.length;p++){var b=d[p],j=b.transferSize,E=b.initiatorType,R=b.duration;if(j&&R&&Bk(E)){for(E=0,R=b.responseEnd,p+=1;p<d.length;p++){var q=d[p],ne=q.startTime;if(ne>R)break;var fe=q.transferSize,ve=q.initiatorType;fe&&Bk(ve)&&(q=q.responseEnd,E+=fe*(q<R?1:(R-ne)/(q-ne)))}if(--p,o+=8*(j+E)/(b.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var g0=null,v0=null;function lh(i){return i.nodeType===9?i:i.ownerDocument}function zk(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qk(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function y0(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var x0=null;function kU(){var i=window.event;return i&&i.type==="popstate"?i===x0?!1:(x0=i,!0):(x0=null,!1)}var Vk=typeof setTimeout=="function"?setTimeout:void 0,AU=typeof clearTimeout=="function"?clearTimeout:void 0,Hk=typeof Promise=="function"?Promise:void 0,EU=typeof queueMicrotask=="function"?queueMicrotask:typeof Hk<"u"?function(i){return Hk.resolve(null).then(i).catch(TU)}:Vk;function TU(i){setTimeout(function(){throw i})}function ps(i){return i==="head"}function Fk(i,o){var d=o,p=0;do{var b=d.nextSibling;if(i.removeChild(d),b&&b.nodeType===8)if(d=b.data,d==="/$"||d==="/&"){if(p===0){i.removeChild(b),Ol(o);return}p--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")p++;else if(d==="html")gu(i.ownerDocument.documentElement);else if(d==="head"){d=i.ownerDocument.head,gu(d);for(var j=d.firstChild;j;){var E=j.nextSibling,R=j.nodeName;j[Mc]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&j.rel.toLowerCase()==="stylesheet"||d.removeChild(j),j=E}}else d==="body"&&gu(i.ownerDocument.body);d=b}while(d);Ol(o)}function Kk(i,o){var d=i;i=0;do{var p=d.nextSibling;if(d.nodeType===1?o?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(o?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),p&&p.nodeType===8)if(d=p.data,d==="/$"){if(i===0)break;i--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||i++;d=p}while(d)}function b0(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var d=o;switch(o=o.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":b0(d),_g(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}i.removeChild(d)}}function OU(i,o,d,p){for(;i.nodeType===1;){var b=d;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!p&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(p){if(!i[Mc])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(j=i.getAttribute("rel"),j==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(j!==b.rel||i.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||i.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||i.getAttribute("title")!==(b.title==null?null:b.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(j=i.getAttribute("src"),(j!==(b.src==null?null:b.src)||i.getAttribute("type")!==(b.type==null?null:b.type)||i.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&j&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var j=b.name==null?null:""+b.name;if(b.type==="hidden"&&i.getAttribute("name")===j)return i}else return i;if(i=Wn(i.nextSibling),i===null)break}return null}function CU(i,o,d){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!d||(i=Wn(i.nextSibling),i===null))return null;return i}function Gk(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Wn(i.nextSibling),i===null))return null;return i}function w0(i){return i.data==="$?"||i.data==="$~"}function j0(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function PU(i,o){var d=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||d.readyState!=="loading")o();else{var p=function(){o(),d.removeEventListener("DOMContentLoaded",p)};d.addEventListener("DOMContentLoaded",p),i._reactRetry=p}}function Wn(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var S0=null;function Wk(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var d=i.data;if(d==="/$"||d==="/&"){if(o===0)return Wn(i.nextSibling);o--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||o++}i=i.nextSibling}return null}function Yk(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var d=i.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(o===0)return i;o--}else d!=="/$"&&d!=="/&"||o++}i=i.previousSibling}return null}function Xk(i,o,d){switch(o=lh(d),i){case"html":if(i=o.documentElement,!i)throw Error(n(452));return i;case"head":if(i=o.head,!i)throw Error(n(453));return i;case"body":if(i=o.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function gu(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);_g(i)}var Yn=new Map,Zk=new Set;function ch(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var bi=ee.d;ee.d={f:DU,r:MU,D:RU,C:IU,L:LU,m:$U,X:BU,S:UU,M:zU};function DU(){var i=bi.f(),o=eh();return i||o}function MU(i){var o=Yo(i);o!==null&&o.tag===5&&o.type==="form"?m_(o):bi.r(i)}var Al=typeof document>"u"?null:document;function Qk(i,o,d){var p=Al;if(p&&typeof o=="string"&&o){var b=zn(o);b='link[rel="'+i+'"][href="'+b+'"]',typeof d=="string"&&(b+='[crossorigin="'+d+'"]'),Zk.has(b)||(Zk.add(b),i={rel:i,crossOrigin:d,href:o},p.querySelector(b)===null&&(o=p.createElement("link"),Vr(o,"link",i),Tr(o),p.head.appendChild(o)))}}function RU(i){bi.D(i),Qk("dns-prefetch",i,null)}function IU(i,o){bi.C(i,o),Qk("preconnect",i,o)}function LU(i,o,d){bi.L(i,o,d);var p=Al;if(p&&i&&o){var b='link[rel="preload"][as="'+zn(o)+'"]';o==="image"&&d&&d.imageSrcSet?(b+='[imagesrcset="'+zn(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(b+='[imagesizes="'+zn(d.imageSizes)+'"]')):b+='[href="'+zn(i)+'"]';var j=b;switch(o){case"style":j=El(i);break;case"script":j=Tl(i)}Yn.has(j)||(i=g({rel:"preload",href:o==="image"&&d&&d.imageSrcSet?void 0:i,as:o},d),Yn.set(j,i),p.querySelector(b)!==null||o==="style"&&p.querySelector(vu(j))||o==="script"&&p.querySelector(yu(j))||(o=p.createElement("link"),Vr(o,"link",i),Tr(o),p.head.appendChild(o)))}}function $U(i,o){bi.m(i,o);var d=Al;if(d&&i){var p=o&&typeof o.as=="string"?o.as:"script",b='link[rel="modulepreload"][as="'+zn(p)+'"][href="'+zn(i)+'"]',j=b;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":j=Tl(i)}if(!Yn.has(j)&&(i=g({rel:"modulepreload",href:i},o),Yn.set(j,i),d.querySelector(b)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(yu(j)))return}p=d.createElement("link"),Vr(p,"link",i),Tr(p),d.head.appendChild(p)}}}function UU(i,o,d){bi.S(i,o,d);var p=Al;if(p&&i){var b=Xo(p).hoistableStyles,j=El(i);o=o||"default";var E=b.get(j);if(!E){var R={loading:0,preload:null};if(E=p.querySelector(vu(j)))R.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":o},d),(d=Yn.get(j))&&N0(i,d);var q=E=p.createElement("link");Tr(q),Vr(q,"link",i),q._p=new Promise(function(ne,fe){q.onload=ne,q.onerror=fe}),q.addEventListener("load",function(){R.loading|=1}),q.addEventListener("error",function(){R.loading|=2}),R.loading|=4,uh(E,o,p)}E={type:"stylesheet",instance:E,count:1,state:R},b.set(j,E)}}}function BU(i,o){bi.X(i,o);var d=Al;if(d&&i){var p=Xo(d).hoistableScripts,b=Tl(i),j=p.get(b);j||(j=d.querySelector(yu(b)),j||(i=g({src:i,async:!0},o),(o=Yn.get(b))&&_0(i,o),j=d.createElement("script"),Tr(j),Vr(j,"link",i),d.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},p.set(b,j))}}function zU(i,o){bi.M(i,o);var d=Al;if(d&&i){var p=Xo(d).hoistableScripts,b=Tl(i),j=p.get(b);j||(j=d.querySelector(yu(b)),j||(i=g({src:i,async:!0,type:"module"},o),(o=Yn.get(b))&&_0(i,o),j=d.createElement("script"),Tr(j),Vr(j,"link",i),d.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},p.set(b,j))}}function Jk(i,o,d,p){var b=(b=ue.current)?ch(b):null;if(!b)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(o=El(d.href),d=Xo(b).hoistableStyles,p=d.get(o),p||(p={type:"style",instance:null,count:0,state:null},d.set(o,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){i=El(d.href);var j=Xo(b).hoistableStyles,E=j.get(i);if(E||(b=b.ownerDocument||b,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},j.set(i,E),(j=b.querySelector(vu(i)))&&!j._p&&(E.instance=j,E.state.loading=5),Yn.has(i)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Yn.set(i,d),j||qU(b,i,d,E.state))),o&&p===null)throw Error(n(528,""));return E}if(o&&p!==null)throw Error(n(529,""));return null;case"script":return o=d.async,d=d.src,typeof d=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Tl(d),d=Xo(b).hoistableScripts,p=d.get(o),p||(p={type:"script",instance:null,count:0,state:null},d.set(o,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function El(i){return'href="'+zn(i)+'"'}function vu(i){return'link[rel="stylesheet"]['+i+"]"}function e2(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function qU(i,o,d,p){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?p.loading=1:(o=i.createElement("link"),p.preload=o,o.addEventListener("load",function(){return p.loading|=1}),o.addEventListener("error",function(){return p.loading|=2}),Vr(o,"link",d),Tr(o),i.head.appendChild(o))}function Tl(i){return'[src="'+zn(i)+'"]'}function yu(i){return"script[async]"+i}function t2(i,o,d){if(o.count++,o.instance===null)switch(o.type){case"style":var p=i.querySelector('style[data-href~="'+zn(d.href)+'"]');if(p)return o.instance=p,Tr(p),p;var b=g({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return p=(i.ownerDocument||i).createElement("style"),Tr(p),Vr(p,"style",b),uh(p,d.precedence,i),o.instance=p;case"stylesheet":b=El(d.href);var j=i.querySelector(vu(b));if(j)return o.state.loading|=4,o.instance=j,Tr(j),j;p=e2(d),(b=Yn.get(b))&&N0(p,b),j=(i.ownerDocument||i).createElement("link"),Tr(j);var E=j;return E._p=new Promise(function(R,q){E.onload=R,E.onerror=q}),Vr(j,"link",p),o.state.loading|=4,uh(j,d.precedence,i),o.instance=j;case"script":return j=Tl(d.src),(b=i.querySelector(yu(j)))?(o.instance=b,Tr(b),b):(p=d,(b=Yn.get(j))&&(p=g({},d),_0(p,b)),i=i.ownerDocument||i,b=i.createElement("script"),Tr(b),Vr(b,"link",p),i.head.appendChild(b),o.instance=b);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(p=o.instance,o.state.loading|=4,uh(p,d.precedence,i));return o.instance}function uh(i,o,d){for(var p=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=p.length?p[p.length-1]:null,j=b,E=0;E<p.length;E++){var R=p[E];if(R.dataset.precedence===o)j=R;else if(j!==b)break}j?j.parentNode.insertBefore(i,j.nextSibling):(o=d.nodeType===9?d.head:d,o.insertBefore(i,o.firstChild))}function N0(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function _0(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var dh=null;function r2(i,o,d){if(dh===null){var p=new Map,b=dh=new Map;b.set(d,p)}else b=dh,p=b.get(d),p||(p=new Map,b.set(d,p));if(p.has(i))return p;for(p.set(i,null),d=d.getElementsByTagName(i),b=0;b<d.length;b++){var j=d[b];if(!(j[Mc]||j[Ur]||i==="link"&&j.getAttribute("rel")==="stylesheet")&&j.namespaceURI!=="http://www.w3.org/2000/svg"){var E=j.getAttribute(o)||"";E=i+E;var R=p.get(E);R?R.push(j):p.set(E,[j])}}return p}function n2(i,o,d){i=i.ownerDocument||i,i.head.insertBefore(d,o==="title"?i.querySelector("head > title"):null)}function VU(i,o,d){if(d===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(i=o.disabled,typeof o.precedence=="string"&&i==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function a2(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function HU(i,o,d,p){if(d.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var b=El(p.href),j=o.querySelector(vu(b));if(j){o=j._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=fh.bind(i),o.then(i,i)),d.state.loading|=4,d.instance=j,Tr(j);return}j=o.ownerDocument||o,p=e2(p),(b=Yn.get(b))&&N0(p,b),j=j.createElement("link"),Tr(j);var E=j;E._p=new Promise(function(R,q){E.onload=R,E.onerror=q}),Vr(j,"link",p),d.instance=j}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(d,o),(o=d.state.preload)&&(d.state.loading&3)===0&&(i.count++,d=fh.bind(i),o.addEventListener("load",d),o.addEventListener("error",d))}}var k0=0;function FU(i,o){return i.stylesheets&&i.count===0&&mh(i,i.stylesheets),0<i.count||0<i.imgCount?function(d){var p=setTimeout(function(){if(i.stylesheets&&mh(i,i.stylesheets),i.unsuspend){var j=i.unsuspend;i.unsuspend=null,j()}},6e4+o);0<i.imgBytes&&k0===0&&(k0=62500*_U());var b=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&mh(i,i.stylesheets),i.unsuspend)){var j=i.unsuspend;i.unsuspend=null,j()}},(i.imgBytes>k0?50:800)+o);return i.unsuspend=d,function(){i.unsuspend=null,clearTimeout(p),clearTimeout(b)}}:null}function fh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)mh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var hh=null;function mh(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,hh=new Map,o.forEach(KU,i),hh=null,fh.call(i))}function KU(i,o){if(!(o.state.loading&4)){var d=hh.get(i);if(d)var p=d.get(null);else{d=new Map,hh.set(i,d);for(var b=i.querySelectorAll("link[data-precedence],style[data-precedence]"),j=0;j<b.length;j++){var E=b[j];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(d.set(E.dataset.precedence,E),p=E)}p&&d.set(null,p)}b=o.instance,E=b.getAttribute("data-precedence"),j=d.get(E)||p,j===p&&d.set(null,b),d.set(E,b),this.count++,p=fh.bind(this),b.addEventListener("load",p),b.addEventListener("error",p),j?j.parentNode.insertBefore(b,j.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(b,i.firstChild)),o.state.loading|=4}}var xu={$$typeof:k,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function GU(i,o,d,p,b,j,E,R,q){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=We(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=We(0),this.hiddenUpdates=We(null),this.identifierPrefix=p,this.onUncaughtError=b,this.onCaughtError=j,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function i2(i,o,d,p,b,j,E,R,q,ne,fe,ve){return i=new GU(i,o,d,E,q,ne,fe,ve,R),o=1,j===!0&&(o|=24),j=_n(3,null,null,o),i.current=j,j.stateNode=i,o=iv(),o.refCount++,i.pooledCache=o,o.refCount++,j.memoizedState={element:p,isDehydrated:d,cache:o},cv(j),i}function s2(i){return i?(i=sl,i):sl}function o2(i,o,d,p,b,j){b=s2(b),p.context===null?p.context=b:p.pendingContext=b,p=as(o),p.payload={element:d},j=j===void 0?null:j,j!==null&&(p.callback=j),d=is(i,p,o),d!==null&&(vn(d,i,o),Zc(d,i,o))}function l2(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var d=i.retryLane;i.retryLane=d!==0&&d<o?d:o}}function A0(i,o){l2(i,o),(i=i.alternate)&&l2(i,o)}function c2(i){if(i.tag===13||i.tag===31){var o=Ys(i,67108864);o!==null&&vn(o,i,67108864),A0(i,67108864)}}function u2(i){if(i.tag===13||i.tag===31){var o=On();o=kt(o);var d=Ys(i,o);d!==null&&vn(d,i,o),A0(i,o)}}var ph=!0;function WU(i,o,d,p){var b=Y.T;Y.T=null;var j=ee.p;try{ee.p=2,E0(i,o,d,p)}finally{ee.p=j,Y.T=b}}function YU(i,o,d,p){var b=Y.T;Y.T=null;var j=ee.p;try{ee.p=8,E0(i,o,d,p)}finally{ee.p=j,Y.T=b}}function E0(i,o,d,p){if(ph){var b=T0(p);if(b===null)m0(i,o,p,gh,d),f2(i,p);else if(ZU(b,i,o,d,p))p.stopPropagation();else if(f2(i,p),o&4&&-1<XU.indexOf(i)){for(;b!==null;){var j=Yo(b);if(j!==null)switch(j.tag){case 3:if(j=j.stateNode,j.current.memoizedState.isDehydrated){var E=me(j.pendingLanes);if(E!==0){var R=j;for(R.pendingLanes|=2,R.entangledLanes|=2;E;){var q=1<<31-pr(E);R.entanglements[1]|=q,E&=~q}Ba(j),(pt&6)===0&&(Qf=Ar()+500,hu(0))}}break;case 31:case 13:R=Ys(j,2),R!==null&&vn(R,j,2),eh(),A0(j,2)}if(j=T0(p),j===null&&m0(i,o,p,gh,d),j===b)break;b=j}b!==null&&p.stopPropagation()}else m0(i,o,p,null,d)}}function T0(i){return i=Cg(i),O0(i)}var gh=null;function O0(i){if(gh=null,i=Wo(i),i!==null){var o=s(i);if(o===null)i=null;else{var d=o.tag;if(d===13){if(i=l(o),i!==null)return i;i=null}else if(d===31){if(i=u(o),i!==null)return i;i=null}else if(d===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return gh=i,null}function d2(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fo()){case qs:return 2;case Vs:return 8;case ri:case Ko:return 32;case Hs:return 268435456;default:return 32}default:return 32}}var C0=!1,gs=null,vs=null,ys=null,bu=new Map,wu=new Map,xs=[],XU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function f2(i,o){switch(i){case"focusin":case"focusout":gs=null;break;case"dragenter":case"dragleave":vs=null;break;case"mouseover":case"mouseout":ys=null;break;case"pointerover":case"pointerout":bu.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":wu.delete(o.pointerId)}}function ju(i,o,d,p,b,j){return i===null||i.nativeEvent!==j?(i={blockedOn:o,domEventName:d,eventSystemFlags:p,nativeEvent:j,targetContainers:[b]},o!==null&&(o=Yo(o),o!==null&&c2(o)),i):(i.eventSystemFlags|=p,o=i.targetContainers,b!==null&&o.indexOf(b)===-1&&o.push(b),i)}function ZU(i,o,d,p,b){switch(o){case"focusin":return gs=ju(gs,i,o,d,p,b),!0;case"dragenter":return vs=ju(vs,i,o,d,p,b),!0;case"mouseover":return ys=ju(ys,i,o,d,p,b),!0;case"pointerover":var j=b.pointerId;return bu.set(j,ju(bu.get(j)||null,i,o,d,p,b)),!0;case"gotpointercapture":return j=b.pointerId,wu.set(j,ju(wu.get(j)||null,i,o,d,p,b)),!0}return!1}function h2(i){var o=Wo(i.target);if(o!==null){var d=s(o);if(d!==null){if(o=d.tag,o===13){if(o=l(d),o!==null){i.blockedOn=o,cf(i.priority,function(){u2(d)});return}}else if(o===31){if(o=u(d),o!==null){i.blockedOn=o,cf(i.priority,function(){u2(d)});return}}else if(o===3&&d.stateNode.current.memoizedState.isDehydrated){i.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}i.blockedOn=null}function vh(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var d=T0(i.nativeEvent);if(d===null){d=i.nativeEvent;var p=new d.constructor(d.type,d);Og=p,d.target.dispatchEvent(p),Og=null}else return o=Yo(d),o!==null&&c2(o),i.blockedOn=d,!1;o.shift()}return!0}function m2(i,o,d){vh(i)&&d.delete(o)}function QU(){C0=!1,gs!==null&&vh(gs)&&(gs=null),vs!==null&&vh(vs)&&(vs=null),ys!==null&&vh(ys)&&(ys=null),bu.forEach(m2),wu.forEach(m2)}function yh(i,o){i.blockedOn===o&&(i.blockedOn=null,C0||(C0=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,QU)))}var xh=null;function p2(i){xh!==i&&(xh=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){xh===i&&(xh=null);for(var o=0;o<i.length;o+=3){var d=i[o],p=i[o+1],b=i[o+2];if(typeof p!="function"){if(O0(p||d)===null)continue;break}var j=Yo(d);j!==null&&(i.splice(o,3),o-=3,Tv(j,{pending:!0,data:b,method:d.method,action:p},p,b))}}))}function Ol(i){function o(q){return yh(q,i)}gs!==null&&yh(gs,i),vs!==null&&yh(vs,i),ys!==null&&yh(ys,i),bu.forEach(o),wu.forEach(o);for(var d=0;d<xs.length;d++){var p=xs[d];p.blockedOn===i&&(p.blockedOn=null)}for(;0<xs.length&&(d=xs[0],d.blockedOn===null);)h2(d),d.blockedOn===null&&xs.shift();if(d=(i.ownerDocument||i).$$reactFormReplay,d!=null)for(p=0;p<d.length;p+=3){var b=d[p],j=d[p+1],E=b[dn]||null;if(typeof j=="function")E||p2(d);else if(E){var R=null;if(j&&j.hasAttribute("formAction")){if(b=j,E=j[dn]||null)R=E.formAction;else if(O0(b)!==null)continue}else R=E.action;typeof R=="function"?d[p+1]=R:(d.splice(p,3),p-=3),p2(d)}}}function g2(){function i(j){j.canIntercept&&j.info==="react-transition"&&j.intercept({handler:function(){return new Promise(function(E){return b=E})},focusReset:"manual",scroll:"manual"})}function o(){b!==null&&(b(),b=null),p||setTimeout(d,20)}function d(){if(!p&&!navigation.transition){var j=navigation.currentEntry;j&&j.url!=null&&navigation.navigate(j.url,{state:j.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,b=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(d,100),function(){p=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),b!==null&&(b(),b=null)}}}function P0(i){this._internalRoot=i}bh.prototype.render=P0.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));var d=o.current,p=On();o2(d,p,i,o,null,null)},bh.prototype.unmount=P0.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;o2(i.current,2,null,i,null,null),eh(),o[Go]=null}};function bh(i){this._internalRoot=i}bh.prototype.unstable_scheduleHydration=function(i){if(i){var o=Ia();i={blockedOn:null,target:i,priority:o};for(var d=0;d<xs.length&&o!==0&&o<xs[d].priority;d++);xs.splice(d,0,i),d===0&&h2(i)}};var v2=t.version;if(v2!=="19.2.3")throw Error(n(527,v2,"19.2.3"));ee.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=h(o),i=i!==null?m(i):null,i=i===null?null:i.stateNode,i};var JU={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wh.isDisabled&&wh.supportsFiber)try{Ra=wh.inject(JU),Er=wh}catch{}}return Nu.createRoot=function(i,o){if(!a(i))throw Error(n(299));var d=!1,p="",b=N_,j=__,E=k_;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(b=o.onUncaughtError),o.onCaughtError!==void 0&&(j=o.onCaughtError),o.onRecoverableError!==void 0&&(E=o.onRecoverableError)),o=i2(i,1,!1,null,null,d,p,null,b,j,E,g2),i[Go]=o.current,h0(i),new P0(o)},Nu.hydrateRoot=function(i,o,d){if(!a(i))throw Error(n(299));var p=!1,b="",j=N_,E=__,R=k_,q=null;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(b=d.identifierPrefix),d.onUncaughtError!==void 0&&(j=d.onUncaughtError),d.onCaughtError!==void 0&&(E=d.onCaughtError),d.onRecoverableError!==void 0&&(R=d.onRecoverableError),d.formState!==void 0&&(q=d.formState)),o=i2(i,1,!0,o,d??null,p,b,q,j,E,R,g2),o.context=s2(null),d=o.current,p=On(),p=kt(p),b=as(p),b.callback=null,is(d,b,p),d=p,o.current.lanes=d,Ye(o,d),Ba(o),i[Go]=o.current,h0(i),new bh(o)},Nu.version="19.2.3",Nu}var A2;function dB(){if(A2)return R0.exports;A2=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),R0.exports=uB(),R0.exports}var fB=dB();var E2="popstate";function hB(e={}){function t(n,a){let{pathname:s,search:l,hash:u}=n.location;return tb("",{pathname:s,search:l,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Xu(a)}return pB(t,r,null,e)}function qt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ta(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function mB(){return Math.random().toString(36).substring(2,10)}function T2(e,t){return{usr:e.state,key:e.key,idx:t}}function tb(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?hc(t):t,state:r,key:t&&t.key||n||mB()}}function Xu({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function hc(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function pB(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:s=!1}=n,l=a.history,u="POP",f=null,h=m();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function m(){return(l.state||{idx:null}).idx}function g(){u="POP";let N=m(),_=N==null?null:N-h;h=N,f&&f({action:u,location:S.location,delta:_})}function v(N,_){u="PUSH";let A=tb(S.location,N,_);h=m()+1;let k=T2(A,h),O=S.createHref(A);try{l.pushState(k,"",O)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;a.location.assign(O)}s&&f&&f({action:u,location:S.location,delta:1})}function x(N,_){u="REPLACE";let A=tb(S.location,N,_);h=m();let k=T2(A,h),O=S.createHref(A);l.replaceState(k,"",O),s&&f&&f({action:u,location:S.location,delta:0})}function w(N){return gB(N)}let S={get action(){return u},get location(){return e(a,l)},listen(N){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(E2,g),f=N,()=>{a.removeEventListener(E2,g),f=null}},createHref(N){return t(a,N)},createURL:w,encodeLocation(N){let _=w(N);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:v,replace:x,go(N){return l.go(N)}};return S}function gB(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),qt(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Xu(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function VD(e,t,r="/"){return vB(e,t,r,!1)}function vB(e,t,r,n){let a=typeof t=="string"?hc(t):t,s=Pi(a.pathname||"/",r);if(s==null)return null;let l=HD(e);yB(l);let u=null;for(let f=0;u==null&&f<l.length;++f){let h=TB(s);u=AB(l[f],h,n)}return u}function HD(e,t=[],r=[],n="",a=!1){let s=(l,u,f=a,h)=>{let m={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(n)&&f)return;qt(m.relativePath.startsWith(n),`Absolute route path "${m.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(n.length)}let g=ki([n,m.relativePath]),v=r.concat(m);l.children&&l.children.length>0&&(qt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),HD(l.children,t,v,g,f)),!(l.path==null&&!l.index)&&t.push({path:g,score:_B(g,l.index),routesMeta:v})};return e.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))s(l,u);else for(let f of FD(l.path))s(l,u,!0,f)}),t}function FD(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let l=FD(n.join("/")),u=[];return u.push(...l.map(f=>f===""?s:[s,f].join("/"))),a&&u.push(...l),u.map(f=>e.startsWith("/")&&f===""?"/":f)}function yB(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:kB(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var xB=/^:[\w-]+$/,bB=3,wB=2,jB=1,SB=10,NB=-2,O2=e=>e==="*";function _B(e,t){let r=e.split("/"),n=r.length;return r.some(O2)&&(n+=NB),t&&(n+=wB),r.filter(a=>!O2(a)).reduce((a,s)=>a+(xB.test(s)?bB:s===""?jB:SB),n)}function kB(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function AB(e,t,r=!1){let{routesMeta:n}=e,a={},s="/",l=[];for(let u=0;u<n.length;++u){let f=n[u],h=u===n.length-1,m=s==="/"?t:t.slice(s.length)||"/",g=um({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},m),v=f.route;if(!g&&h&&r&&!n[n.length-1].route.index&&(g=um({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!g)return null;Object.assign(a,g.params),l.push({params:a,pathname:ki([s,g.pathname]),pathnameBase:DB(ki([s,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(s=ki([s,g.pathnameBase]))}return l}function um(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=EB(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],l=s.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:n.reduce((h,{paramName:m,isOptional:g},v)=>{if(m==="*"){let w=u[v]||"";l=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const x=u[v];return g&&!x?h[m]=void 0:h[m]=(x||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:l,pattern:e}}function EB(e,t=!1,r=!0){Ta(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,f)=>(n.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function TB(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ta(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Pi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var OB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function CB(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?hc(e):e,s;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?s=C2(r.substring(1),"/"):s=C2(r,t)):s=t,{pathname:s,search:MB(n),hash:RB(a)}}function C2(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function U0(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function PB(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Uw(e){let t=PB(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function Bw(e,t,r,n=!1){let a;typeof e=="string"?a=hc(e):(a={...e},qt(!a.pathname||!a.pathname.includes("?"),U0("?","pathname","search",a)),qt(!a.pathname||!a.pathname.includes("#"),U0("#","pathname","hash",a)),qt(!a.search||!a.search.includes("#"),U0("#","search","hash",a)));let s=e===""||a.pathname==="",l=s?"/":a.pathname,u;if(l==null)u=r;else{let g=t.length-1;if(!n&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),g-=1;a.pathname=v.join("/")}u=g>=0?t[g]:"/"}let f=CB(a,u),h=l&&l!=="/"&&l.endsWith("/"),m=(s||l===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(h||m)&&(f.pathname+="/"),f}var ki=e=>e.join("/").replace(/\/\/+/g,"/"),DB=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),MB=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,RB=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,IB=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function LB(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function $B(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var KD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function GD(e,t){let r=e;if(typeof r!="string"||!OB.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,a=!1;if(KD)try{let s=new URL(window.location.href),l=r.startsWith("//")?new URL(s.protocol+r):new URL(r),u=Pi(l.pathname,t);l.origin===s.origin&&u!=null?r=u+l.search+l.hash:a=!0}catch{Ta(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:a,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var WD=["POST","PUT","PATCH","DELETE"];new Set(WD);var UB=["GET",...WD];new Set(UB);var mc=y.createContext(null);mc.displayName="DataRouter";var bp=y.createContext(null);bp.displayName="DataRouterState";var BB=y.createContext(!1),YD=y.createContext({isTransitioning:!1});YD.displayName="ViewTransition";var zB=y.createContext(new Map);zB.displayName="Fetchers";var qB=y.createContext(null);qB.displayName="Await";var $n=y.createContext(null);$n.displayName="Navigation";var Pd=y.createContext(null);Pd.displayName="Location";var Pa=y.createContext({outlet:null,matches:[],isDataRoute:!1});Pa.displayName="Route";var zw=y.createContext(null);zw.displayName="RouteError";var XD="REACT_ROUTER_ERROR",VB="REDIRECT",HB="ROUTE_ERROR_RESPONSE";function FB(e){if(e.startsWith(`${XD}:${VB}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function KB(e){if(e.startsWith(`${XD}:${HB}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new IB(t.status,t.statusText,t.data)}catch{}}function GB(e,{relative:t}={}){qt(pc(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=y.useContext($n),{hash:a,pathname:s,search:l}=Dd(e,{relative:t}),u=s;return r!=="/"&&(u=s==="/"?r:ki([r,s])),n.createHref({pathname:u,search:l,hash:a})}function pc(){return y.useContext(Pd)!=null}function Ls(){return qt(pc(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(Pd).location}var ZD="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function QD(e){y.useContext($n).static||y.useLayoutEffect(e)}function Ja(){let{isDataRoute:e}=y.useContext(Pa);return e?lz():WB()}function WB(){qt(pc(),"useNavigate() may be used only in the context of a <Router> component.");let e=y.useContext(mc),{basename:t,navigator:r}=y.useContext($n),{matches:n}=y.useContext(Pa),{pathname:a}=Ls(),s=JSON.stringify(Uw(n)),l=y.useRef(!1);return QD(()=>{l.current=!0}),y.useCallback((f,h={})=>{if(Ta(l.current,ZD),!l.current)return;if(typeof f=="number"){r.go(f);return}let m=Bw(f,JSON.parse(s),a,h.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:ki([t,m.pathname])),(h.replace?r.replace:r.push)(m,h.state,h)},[t,r,s,a,e])}var YB=y.createContext(null);function XB(e){let t=y.useContext(Pa).outlet;return y.useMemo(()=>t&&y.createElement(YB.Provider,{value:e},t),[t,e])}function Dd(e,{relative:t}={}){let{matches:r}=y.useContext(Pa),{pathname:n}=Ls(),a=JSON.stringify(Uw(r));return y.useMemo(()=>Bw(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function ZB(e,t){return JD(e,t)}function JD(e,t,r,n,a){qt(pc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=y.useContext($n),{matches:l}=y.useContext(Pa),u=l[l.length-1],f=u?u.params:{},h=u?u.pathname:"/",m=u?u.pathnameBase:"/",g=u&&u.route;{let A=g&&g.path||"";tM(h,!g||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let v=Ls(),x;if(t){let A=typeof t=="string"?hc(t):t;qt(m==="/"||A.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${A.pathname}" was given in the \`location\` prop.`),x=A}else x=v;let w=x.pathname||"/",S=w;if(m!=="/"){let A=m.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(A.length).join("/")}let N=VD(e,{pathname:S});Ta(g||N!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Ta(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=rz(N&&N.map(A=>Object.assign({},A,{params:Object.assign({},f,A.params),pathname:ki([m,s.encodeLocation?s.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?m:ki([m,s.encodeLocation?s.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),l,r,n,a);return t&&_?y.createElement(Pd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},_):_}function QB(){let e=oz(),t=LB(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=y.createElement(y.Fragment,null,y.createElement("p",null," Hey developer "),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:s},"ErrorBoundary")," or"," ",y.createElement("code",{style:s},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),r?y.createElement("pre",{style:a},r):null,l)}var JB=y.createElement(QB,null),eM=class extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=KB(e.digest);r&&(e=r)}let t=e!==void 0?y.createElement(Pa.Provider,{value:this.props.routeContext},y.createElement(zw.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?y.createElement(ez,{error:e},t):t}};eM.contextType=BB;var B0=new WeakMap;function ez({children:e,error:t}){let{basename:r}=y.useContext($n);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=FB(t.digest);if(n){let a=B0.get(t);if(a)throw a;let s=GD(n.location,r);if(KD&&!B0.get(t))if(s.isExternal||n.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:n.replace}));throw B0.set(t,l),l}return y.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return e}function tz({routeContext:e,match:t,children:r}){let n=y.useContext(mc);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),y.createElement(Pa.Provider,{value:e},r)}function rz(e,t=[],r=null,n=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,l=r?.errors;if(l!=null){let m=s.findIndex(g=>g.route.id&&l?.[g.route.id]!==void 0);qt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,m+1))}let u=!1,f=-1;if(r)for(let m=0;m<s.length;m++){let g=s[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=m),g.route.id){let{loaderData:v,errors:x}=r,w=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!x||x[g.route.id]===void 0);if(g.route.lazy||w){u=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}let h=r&&n?(m,g)=>{n(m,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:$B(r.matches),errorInfo:g})}:void 0;return s.reduceRight((m,g,v)=>{let x,w=!1,S=null,N=null;r&&(x=l&&g.route.id?l[g.route.id]:void 0,S=g.route.errorElement||JB,u&&(f<0&&v===0?(tM("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,N=null):f===v&&(w=!0,N=g.route.hydrateFallbackElement||null)));let _=t.concat(s.slice(0,v+1)),A=()=>{let k;return x?k=S:w?k=N:g.route.Component?k=y.createElement(g.route.Component,null):g.route.element?k=g.route.element:k=m,y.createElement(tz,{match:g,routeContext:{outlet:m,matches:_,isDataRoute:r!=null},children:k})};return r&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?y.createElement(eM,{location:r.location,revalidation:r.revalidation,component:S,error:x,children:A(),routeContext:{outlet:null,matches:_,isDataRoute:!0},onError:h}):A()},null)}function qw(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nz(e){let t=y.useContext(mc);return qt(t,qw(e)),t}function az(e){let t=y.useContext(bp);return qt(t,qw(e)),t}function iz(e){let t=y.useContext(Pa);return qt(t,qw(e)),t}function Vw(e){let t=iz(e),r=t.matches[t.matches.length-1];return qt(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function sz(){return Vw("useRouteId")}function oz(){let e=y.useContext(zw),t=az("useRouteError"),r=Vw("useRouteError");return e!==void 0?e:t.errors?.[r]}function lz(){let{router:e}=nz("useNavigate"),t=Vw("useNavigate"),r=y.useRef(!1);return QD(()=>{r.current=!0}),y.useCallback(async(a,s={})=>{Ta(r.current,ZD),r.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...s}))},[e,t])}var P2={};function tM(e,t,r){!t&&!P2[e]&&(P2[e]=!0,Ta(!1,r))}y.memo(cz);function cz({routes:e,future:t,state:r,onError:n}){return JD(e,void 0,r,n,t)}function Fl({to:e,replace:t,state:r,relative:n}){qt(pc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=y.useContext($n);Ta(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=y.useContext(Pa),{pathname:l}=Ls(),u=Ja(),f=Bw(e,Uw(s),l,n==="path"),h=JSON.stringify(f);return y.useEffect(()=>{u(JSON.parse(h),{replace:t,state:r,relative:n})},[u,h,n,t,r]),null}function Hw(e){return XB(e.context)}function nt(e){qt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function uz({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:s=!1,unstable_useTransitions:l}){qt(!pc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),f=y.useMemo(()=>({basename:u,navigator:a,static:s,unstable_useTransitions:l,future:{}}),[u,a,s,l]);typeof r=="string"&&(r=hc(r));let{pathname:h="/",search:m="",hash:g="",state:v=null,key:x="default"}=r,w=y.useMemo(()=>{let S=Pi(h,u);return S==null?null:{location:{pathname:S,search:m,hash:g,state:v,key:x},navigationType:n}},[u,h,m,g,v,x,n]);return Ta(w!=null,`<Router basename="${u}"> is not able to match the URL "${h}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:y.createElement($n.Provider,{value:f},y.createElement(Pd.Provider,{children:t,value:w}))}function dz({children:e,location:t}){return ZB(rb(e),t)}function rb(e,t=[]){let r=[];return y.Children.forEach(e,(n,a)=>{if(!y.isValidElement(n))return;let s=[...t,a];if(n.type===y.Fragment){r.push.apply(r,rb(n.props.children,s));return}qt(n.type===nt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),qt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=rb(n.props.children,s)),r.push(l)}),r}var Zh="get",Qh="application/x-www-form-urlencoded";function wp(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function fz(e){return wp(e)&&e.tagName.toLowerCase()==="button"}function hz(e){return wp(e)&&e.tagName.toLowerCase()==="form"}function mz(e){return wp(e)&&e.tagName.toLowerCase()==="input"}function pz(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function gz(e,t){return e.button===0&&(!t||t==="_self")&&!pz(e)}var jh=null;function vz(){if(jh===null)try{new FormData(document.createElement("form"),0),jh=!1}catch{jh=!0}return jh}var yz=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function z0(e){return e!=null&&!yz.has(e)?(Ta(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Qh}"`),null):e}function xz(e,t){let r,n,a,s,l;if(hz(e)){let u=e.getAttribute("action");n=u?Pi(u,t):null,r=e.getAttribute("method")||Zh,a=z0(e.getAttribute("enctype"))||Qh,s=new FormData(e)}else if(fz(e)||mz(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||u.getAttribute("action");if(n=f?Pi(f,t):null,r=e.getAttribute("formmethod")||u.getAttribute("method")||Zh,a=z0(e.getAttribute("formenctype"))||z0(u.getAttribute("enctype"))||Qh,s=new FormData(u,e),!vz()){let{name:h,type:m,value:g}=e;if(m==="image"){let v=h?`${h}.`:"";s.append(`${v}x`,"0"),s.append(`${v}y`,"0")}else h&&s.append(h,g)}}else{if(wp(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Zh,n=null,a=Qh,l=e}return s&&a==="text/plain"&&(l=s,s=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:s,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Fw(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function bz(e,t,r,n){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${n}`:a.pathname=`${a.pathname}.${n}`:a.pathname==="/"?a.pathname=`_root.${n}`:t&&Pi(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function wz(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function jz(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Sz(e,t,r){let n=await Promise.all(e.map(async a=>{let s=t.routes[a.route.id];if(s){let l=await wz(s,r);return l.links?l.links():[]}return[]}));return Az(n.flat(1).filter(jz).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function D2(e,t,r,n,a,s){let l=(f,h)=>r[h]?f.route.id!==r[h].route.id:!0,u=(f,h)=>r[h].pathname!==f.pathname||r[h].route.path?.endsWith("*")&&r[h].params["*"]!==f.params["*"];return s==="assets"?t.filter((f,h)=>l(f,h)||u(f,h)):s==="data"?t.filter((f,h)=>{let m=n.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(l(f,h)||u(f,h))return!0;if(f.route.shouldRevalidate){let g=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function Nz(e,t,{includeHydrateFallback:r}={}){return _z(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function _z(e){return[...new Set(e)]}function kz(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function Az(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let s=JSON.stringify(kz(a));return r.has(s)||(r.add(s),n.push({key:s,link:a})),n},[])}function rM(){let e=y.useContext(mc);return Fw(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Ez(){let e=y.useContext(bp);return Fw(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Kw=y.createContext(void 0);Kw.displayName="FrameworkContext";function nM(){let e=y.useContext(Kw);return Fw(e,"You must render this element inside a <HydratedRouter> element"),e}function Tz(e,t){let r=y.useContext(Kw),[n,a]=y.useState(!1),[s,l]=y.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:h,onMouseLeave:m,onTouchStart:g}=t,v=y.useRef(null);y.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let S=_=>{_.forEach(A=>{l(A.isIntersecting)})},N=new IntersectionObserver(S,{threshold:.5});return v.current&&N.observe(v.current),()=>{N.disconnect()}}},[e]),y.useEffect(()=>{if(n){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[n]);let x=()=>{a(!0)},w=()=>{a(!1),l(!1)};return r?e!=="intent"?[s,v,{}]:[s,v,{onFocus:_u(u,x),onBlur:_u(f,w),onMouseEnter:_u(h,x),onMouseLeave:_u(m,w),onTouchStart:_u(g,x)}]:[!1,v,{}]}function _u(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function Oz({page:e,...t}){let{router:r}=rM(),n=y.useMemo(()=>VD(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?y.createElement(Pz,{page:e,matches:n,...t}):null}function Cz(e){let{manifest:t,routeModules:r}=nM(),[n,a]=y.useState([]);return y.useEffect(()=>{let s=!1;return Sz(e,t,r).then(l=>{s||a(l)}),()=>{s=!0}},[e,t,r]),n}function Pz({page:e,matches:t,...r}){let n=Ls(),{future:a,manifest:s,routeModules:l}=nM(),{basename:u}=rM(),{loaderData:f,matches:h}=Ez(),m=y.useMemo(()=>D2(e,t,h,s,n,"data"),[e,t,h,s,n]),g=y.useMemo(()=>D2(e,t,h,s,n,"assets"),[e,t,h,s,n]),v=y.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let S=new Set,N=!1;if(t.forEach(A=>{let k=s.routes[A.route.id];!k||!k.hasLoader||(!m.some(O=>O.route.id===A.route.id)&&A.route.id in f&&l[A.route.id]?.shouldRevalidate||k.hasClientLoader?N=!0:S.add(A.route.id))}),S.size===0)return[];let _=bz(e,u,a.unstable_trailingSlashAwareDataRequests,"data");return N&&S.size>0&&_.searchParams.set("_routes",t.filter(A=>S.has(A.route.id)).map(A=>A.route.id).join(",")),[_.pathname+_.search]},[u,a.unstable_trailingSlashAwareDataRequests,f,n,s,m,t,e,l]),x=y.useMemo(()=>Nz(g,s),[g,s]),w=Cz(g);return y.createElement(y.Fragment,null,v.map(S=>y.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...r})),x.map(S=>y.createElement("link",{key:S,rel:"modulepreload",href:S,...r})),w.map(({key:S,link:N})=>y.createElement("link",{key:S,nonce:r.nonce,...N,crossOrigin:N.crossOrigin??r.crossOrigin})))}function Dz(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var Mz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Mz&&(window.__reactRouterVersion="7.13.0")}catch{}function Rz({basename:e,children:t,unstable_useTransitions:r,window:n}){let a=y.useRef();a.current==null&&(a.current=hB({window:n,v5Compat:!0}));let s=a.current,[l,u]=y.useState({action:s.action,location:s.location}),f=y.useCallback(h=>{r===!1?u(h):y.startTransition(()=>u(h))},[r]);return y.useLayoutEffect(()=>s.listen(f),[s,f]),y.createElement(uz,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:s,unstable_useTransitions:r})}var aM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jp=y.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:s,replace:l,state:u,target:f,to:h,preventScrollReset:m,viewTransition:g,unstable_defaultShouldRevalidate:v,...x},w){let{basename:S,unstable_useTransitions:N}=y.useContext($n),_=typeof h=="string"&&aM.test(h),A=GD(h,S);h=A.to;let k=GB(h,{relative:a}),[O,M,C]=Tz(n,x),D=$z(h,{replace:l,state:u,target:f,preventScrollReset:m,relative:a,viewTransition:g,unstable_defaultShouldRevalidate:v,unstable_useTransitions:N});function L(te){t&&t(te),te.defaultPrevented||D(te)}let V=y.createElement("a",{...x,...C,href:A.absoluteURL||k,onClick:A.isExternal||s?t:L,ref:Dz(w,M),target:f,"data-discover":!_&&r==="render"?"true":void 0});return O&&!_?y.createElement(y.Fragment,null,V,y.createElement(Oz,{page:k})):V});jp.displayName="Link";var Oo=y.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:s,to:l,viewTransition:u,children:f,...h},m){let g=Dd(l,{relative:h.relative}),v=Ls(),x=y.useContext(bp),{navigator:w,basename:S}=y.useContext($n),N=x!=null&&Vz(g)&&u===!0,_=w.encodeLocation?w.encodeLocation(g).pathname:g.pathname,A=v.pathname,k=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;r||(A=A.toLowerCase(),k=k?k.toLowerCase():null,_=_.toLowerCase()),k&&S&&(k=Pi(k,S)||k);const O=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let M=A===_||!a&&A.startsWith(_)&&A.charAt(O)==="/",C=k!=null&&(k===_||!a&&k.startsWith(_)&&k.charAt(_.length)==="/"),D={isActive:M,isPending:C,isTransitioning:N},L=M?t:void 0,V;typeof n=="function"?V=n(D):V=[n,M?"active":null,C?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let te=typeof s=="function"?s(D):s;return y.createElement(jp,{...h,"aria-current":L,className:V,ref:m,style:te,to:l,viewTransition:u},typeof f=="function"?f(D):f)});Oo.displayName="NavLink";var Iz=y.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:s,method:l=Zh,action:u,onSubmit:f,relative:h,preventScrollReset:m,viewTransition:g,unstable_defaultShouldRevalidate:v,...x},w)=>{let{unstable_useTransitions:S}=y.useContext($n),N=zz(),_=qz(u,{relative:h}),A=l.toLowerCase()==="get"?"get":"post",k=typeof u=="string"&&aM.test(u),O=M=>{if(f&&f(M),M.defaultPrevented)return;M.preventDefault();let C=M.nativeEvent.submitter,D=C?.getAttribute("formmethod")||l,L=()=>N(C||M.currentTarget,{fetcherKey:t,method:D,navigate:r,replace:a,state:s,relative:h,preventScrollReset:m,viewTransition:g,unstable_defaultShouldRevalidate:v});S&&r!==!1?y.startTransition(()=>L()):L()};return y.createElement("form",{ref:w,method:A,action:_,onSubmit:n?f:O,...x,"data-discover":!k&&e==="render"?"true":void 0})});Iz.displayName="Form";function Lz(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iM(e){let t=y.useContext(mc);return qt(t,Lz(e)),t}function $z(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:s,viewTransition:l,unstable_defaultShouldRevalidate:u,unstable_useTransitions:f}={}){let h=Ja(),m=Ls(),g=Dd(e,{relative:s});return y.useCallback(v=>{if(gz(v,t)){v.preventDefault();let x=r!==void 0?r:Xu(m)===Xu(g),w=()=>h(e,{replace:x,state:n,preventScrollReset:a,relative:s,viewTransition:l,unstable_defaultShouldRevalidate:u});f?y.startTransition(()=>w()):w()}},[m,h,g,r,n,t,e,a,s,l,u,f])}var Uz=0,Bz=()=>`__${String(++Uz)}__`;function zz(){let{router:e}=iM("useSubmit"),{basename:t}=y.useContext($n),r=sz(),n=e.fetch,a=e.navigate;return y.useCallback(async(s,l={})=>{let{action:u,method:f,encType:h,formData:m,body:g}=xz(s,t);if(l.navigate===!1){let v=l.fetcherKey||Bz();await n(v,r,l.action||u,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:m,body:g,formMethod:l.method||f,formEncType:l.encType||h,flushSync:l.flushSync})}else await a(l.action||u,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:m,body:g,formMethod:l.method||f,formEncType:l.encType||h,replace:l.replace,state:l.state,fromRouteId:r,flushSync:l.flushSync,viewTransition:l.viewTransition})},[n,a,t,r])}function qz(e,{relative:t}={}){let{basename:r}=y.useContext($n),n=y.useContext(Pa);qt(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),s={...Dd(e||".",{relative:t})},l=Ls();if(e==null){s.search=l.search;let u=new URLSearchParams(s.search),f=u.getAll("index");if(f.some(m=>m==="")){u.delete("index"),f.filter(g=>g).forEach(g=>u.append("index",g));let m=u.toString();s.search=m?`?${m}`:""}}return(!e||e===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:ki([r,s.pathname])),Xu(s)}function Vz(e,{relative:t}={}){let r=y.useContext(YD);qt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=iM("useViewTransitionState"),a=Dd(e,{relative:t});if(!r.isTransitioning)return!1;let s=Pi(r.currentLocation.pathname,n)||r.currentLocation.pathname,l=Pi(r.nextLocation.pathname,n)||r.nextLocation.pathname;return um(a.pathname,l)!=null||um(a.pathname,s)!=null}var Gw=qD();const xa={student:"student",coach:"coach",admin:"admin"};const sM=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();const Hz=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const Fz=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase());const M2=e=>{const t=Fz(e);return t.charAt(0).toUpperCase()+t.slice(1)};var Kz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Gz=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const Wz=y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:l,...u},f)=>y.createElement("svg",{ref:f,...Kz,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:sM("lucide",a),...!s&&!Gz(u)&&{"aria-hidden":"true"},...u},[...l.map(([h,m])=>y.createElement(h,m)),...Array.isArray(s)?s:[s]]));const Te=(e,t)=>{const r=y.forwardRef(({className:n,...a},s)=>y.createElement(Wz,{ref:s,iconNode:t,className:sM(`lucide-${Hz(M2(e))}`,`lucide-${e}`,n),...a}));return r.displayName=M2(e),r};const Yz=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Xz=Te("activity",Yz);const Zz=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Qz=Te("arrow-right",Zz);const Jz=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],nb=Te("award",Jz);const e8=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],t8=Te("bell",e8);const r8=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Zu=Te("book-open",r8);const n8=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],a8=Te("briefcase",n8);const i8=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],en=Te("calendar",i8);const s8=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Ww=Te("chart-column",s8);const o8=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],dm=Te("check-check",o8);const l8=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],oM=Te("check",l8);const c8=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],u8=Te("chevron-down",c8);const d8=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],R2=Te("chevron-right",d8);const f8=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],h8=Te("chevron-up",f8);const m8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Qu=Te("circle-alert",m8);const p8=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ai=Te("circle-check-big",p8);const g8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ab=Te("circle-check",g8);const v8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],lM=Te("circle-x",v8);const y8=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],x8=Te("clipboard-check",y8);const b8=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],ib=Te("clipboard-list",b8);const w8=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Di=Te("clock",w8);const j8=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],S8=Te("download",j8);const N8=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Ju=Te("ellipsis-vertical",N8);const _8=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],cM=Te("eye",_8);const k8=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Md=Te("file-text",k8);const A8=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],I2=Te("flame",A8);const E8=[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]],Bo=Te("folder-kanban",E8);const T8=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],O8=Te("folder-open",T8);const C8=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],P8=Te("funnel",C8);const D8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],M8=Te("globe",D8);const R8=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],I8=Te("house",R8);const L8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],$8=Te("info",L8);const U8=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],L2=Te("layers",U8);const B8=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],z8=Te("layout-dashboard",B8);const q8=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],V8=Te("lightbulb",q8);const H8=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],uM=Te("link-2",H8);const F8=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ed=Te("log-out",F8);const K8=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],dM=Te("mail",K8);const G8=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],fM=Te("map-pin",G8);const W8=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],fm=Te("menu",W8);const Y8=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],td=Te("message-circle",Y8);const X8=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],ac=Te("message-square",X8);const Z8=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],Q8=Te("mic-off",Z8);const J8=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],e9=Te("mic",J8);const t9=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],r9=Te("pen",t9);const n9=[["path",{d:"M10.1 13.9a14 14 0 0 0 3.732 2.668 1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2 18 18 0 0 1-12.728-5.272",key:"1wngk7"}],["path",{d:"M22 2 2 22",key:"y4kqgn"}],["path",{d:"M4.76 13.582A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 .244.473",key:"10hv5p"}]],a9=Te("phone-off",n9);const i9=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],hM=Te("phone",i9);const s9=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ei=Te("plus",s9);const o9=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],l9=Te("refresh-ccw",o9);const c9=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],u9=Te("rotate-ccw",c9);const d9=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],f9=Te("save",d9);const h9=[["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M18 5v16",key:"1ethyx"}],["path",{d:"m4 6 7.106-3.79a2 2 0 0 1 1.788 0L20 6",key:"zywc2d"}],["path",{d:"m6 11-3.52 2.147a1 1 0 0 0-.48.854V19a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a1 1 0 0 0-.48-.853L18 11",key:"1d4ql0"}],["path",{d:"M6 5v16",key:"1sn0nx"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],m9=Te("school",h9);const p9=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],qi=Te("search",p9);const g9=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],mM=Te("send",g9);const v9=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],pM=Te("settings",v9);const y9=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],$2=Te("shield-alert",y9);const x9=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],sb=Te("shield",x9);const b9=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],hm=Te("square-check-big",b9);const w9=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],gM=Te("square-pen",w9);const j9=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],vM=Te("star",j9);const S9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Aa=Te("target",S9);const N9=[["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}],["path",{d:"M7 10v12",key:"1qc93n"}]],_9=Te("thumbs-up",N9);const k9=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],yM=Te("trash-2",k9);const A9=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],E9=Te("trending-down",A9);const T9=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],mm=Te("trending-up",T9);const O9=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],xM=Te("triangle-alert",O9);const C9=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],bM=Te("trophy",C9);const P9=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],D9=Te("type",P9);const M9=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Co=Te("user",M9);const R9=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],aa=Te("users",R9);const I9=[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.5l5.248-3.062A.5.5 0 0 1 22 7.87v8.196",key:"w8jjjt"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2",key:"1xawa7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],L9=Te("video-off",I9);const $9=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Rd=Te("video",$9);const U9=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Yw=Te("x",U9);const B9=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],z9=Te("zap",B9),wM=y.createContext(null),_t=()=>{const e=y.useContext(wM);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},jM=y.createContext(null),Pt=()=>{const e=y.useContext(jM);if(!e)throw new Error("useData must be used within DataProvider");return e};function ar({open:e,isOpen:t,title:r,children:n,onClose:a,footer:s}){const l=e??t??!1;return y.useEffect(()=>{if(!l)return;const u=f=>{f.key==="Escape"&&a?.()};return window.addEventListener("keydown",u),()=>window.removeEventListener("keydown",u)},[l,a]),l?Gw.createPortal(c.jsxs("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center p-3 sm:p-4",children:[c.jsx("div",{className:"absolute inset-0 bg-slate-900/40 backdrop-blur-sm transition-opacity",onClick:a}),c.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl relative z-10 w-full max-w-2xl max-h-[90vh] overflow-hidden animate-in fade-in zoom-in-95 duration-200 flex flex-col",role:"dialog","aria-modal":"true","aria-label":r??"Dialog",children:[c.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-6 py-4 border-b border-slate-100 flex-none",children:[c.jsx("div",{children:r?c.jsx("h3",{className:"text-lg font-heading font-semibold text-slate-800",children:r}):null}),c.jsx("button",{type:"button",className:"text-slate-400 hover:text-slate-600 hover:bg-slate-100 p-2 rounded-full transition-colors",onClick:a,"aria-label":"Close",children:c.jsx(Yw,{className:"h-5 w-5"})})]}),c.jsx("div",{className:"p-4 sm:p-6 overflow-y-auto flex-1",children:n}),s?c.jsx("div",{className:"bg-slate-50 px-4 sm:px-6 py-4 flex items-center justify-end gap-3 border-t border-slate-100 flex-none",children:s}):null]})]}),document.body):null}function Id({open:e,isOpen:t,title:r="Confirm",message:n,description:a,confirmLabel:s="Confirm",cancelLabel:l="Cancel",danger:u=!1,isDanger:f,onConfirm:h,onClose:m,busy:g,isLoading:v}){const x=e??t??!1,w=n??a,S=g??v,N=u??f;return c.jsx(ar,{open:x,title:r,onClose:S?void 0:m,footer:c.jsxs(c.Fragment,{children:[c.jsx("button",{type:"button",className:"btn-ghost",onClick:m,disabled:S,children:l}),c.jsx("button",{type:"button",className:N?"btn-danger":"btn-primary",onClick:h,disabled:S,children:S?"Working":s})]}),children:c.jsx("div",{className:"text-sm text-slate-700",children:w})})}function pm({className:e="",buttonClassName:t=""}){const{currentUser:r}=_t(),{listNotifications:n,refreshNotifications:a,markNotificationRead:s,markAllNotificationsRead:l}=Pt(),u=Ja(),[f,h]=y.useState(!1),m=y.useRef(null),g=y.useMemo(()=>!r?.id||!n?[]:n({userId:r.id,limit:8}),[r?.id,n]),v=y.useMemo(()=>g.filter(w=>!w.readAt).length,[g]);y.useEffect(()=>{const w=S=>{f&&m.current&&(m.current.contains(S.target)||h(!1))};return window.addEventListener("mousedown",w),()=>window.removeEventListener("mousedown",w)},[f]),y.useEffect(()=>{!r?.id||!a||a()},[r?.id,a]);const x=async w=>{try{!w.readAt&&s&&await s({notificationId:w.id})}finally{h(!1),w.linkUrl&&u(w.linkUrl)}};return c.jsxs("div",{ref:m,className:["relative",e].join(" "),children:[c.jsxs("button",{type:"button",onClick:()=>h(w=>!w),className:["relative p-2 rounded-full transition-colors","text-slate-400 hover:text-slate-700 hover:bg-slate-100",t].join(" "),"aria-label":"Notifications",children:[c.jsx(t8,{className:"h-5 w-5"}),v>0?c.jsx("span",{className:"absolute -top-0.5 -right-0.5 min-w-[18px] h-[18px] px-1 rounded-full bg-red-500 text-white text-[10px] font-bold grid place-items-center ring-2 ring-white",children:v>9?"9+":v}):null]}),f?c.jsxs("div",{className:"absolute right-0 mt-2 w-80 max-w-[90vw] rounded-2xl border border-slate-200 bg-white shadow-xl overflow-hidden z-50",children:[c.jsxs("div",{className:"px-4 py-3 border-b border-slate-100 flex items-center justify-between",children:[c.jsx("div",{className:"text-sm font-heading font-bold text-slate-900",children:"Notifications"}),c.jsxs("button",{type:"button",className:"inline-flex items-center gap-2 text-xs font-semibold text-slate-500 hover:text-slate-700",onClick:async()=>{!r?.id||!l||await l({userId:r.id})},disabled:!r?.id||v===0,title:"Mark all as read",children:[c.jsx(dm,{className:"h-4 w-4"}),"Mark all"]})]}),g.length===0?c.jsx("div",{className:"px-4 py-6 text-sm text-slate-500",children:"No notifications yet."}):c.jsx("div",{className:"max-h-[380px] overflow-auto",children:g.map(w=>c.jsx("button",{type:"button",onClick:()=>x(w),className:["w-full text-left px-4 py-3 border-b border-slate-50 hover:bg-slate-50 transition-colors",w.readAt?"bg-white":"bg-blue-50/40"].join(" "),children:c.jsxs("div",{className:"flex items-start justify-between gap-3",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"text-sm font-semibold text-slate-900 truncate",children:w.title??"Notification"}),w.message?c.jsx("div",{className:"mt-0.5 text-xs text-slate-600 line-clamp-2",children:w.message}):null,c.jsx("div",{className:"mt-1 text-[10px] text-slate-400",children:w.createdAt?new Date(w.createdAt).toLocaleString():""})]}),w.readAt?null:c.jsx("span",{className:"mt-1 h-2 w-2 rounded-full bg-blue-600 flex-shrink-0"})]})},w.id))})]}):null]})}function q9(){const{logout:e,currentUser:t}=_t(),r=Ja(),[n,a]=y.useState(!0),{getUserById:s}=Pt(),l=t?.id?s(t.id):null,[u,f]=y.useState(!1),[h,m]=y.useState(!1),g=()=>f(!0),v=async()=>{try{m(!0),await e(),r("/login",{replace:!0})}finally{m(!1),f(!1)}},x=[{label:"Overview",to:"/admin",icon:Xz,end:!0},{label:"Projects",to:"/admin/projects",icon:Bo},{label:"Programs",to:"/admin/programs",icon:L2},{label:"Applications",to:"/admin/applications",icon:L2},{label:"Users",to:"/admin/users",icon:aa},{label:"Reports",to:"/admin/reports",icon:Ww},{label:"Settings",to:"/admin/settings",icon:pM}];return c.jsxs("div",{className:"min-h-screen bg-slate-50 font-sans text-slate-900 flex flex-col md:flex-row",children:[c.jsxs("aside",{className:`bg-gradient-to-b from-slate-900 to-slate-950 text-white flex-shrink-0 transition-all duration-300 ease-in-out flex flex-col shadow-2xl z-20 
          ${n?"w-72":"w-20"}
          hidden md:flex sticky top-0 h-screen border-r border-slate-800
        `,children:[c.jsxs("div",{className:"h-20 flex items-center px-6 bg-slate-900/50 justify-between",children:[n&&c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"bg-indigo-600/20 p-2 rounded-xl ring-1 ring-inset ring-indigo-500/20",children:c.jsx(sb,{className:"h-6 w-6 text-indigo-400"})}),c.jsx("span",{className:"font-heading font-bold text-xl tracking-tight text-white",children:"ADMIN"})]}),c.jsx("button",{onClick:()=>a(!n),className:`p-2 hover:bg-white/10 rounded-xl transition-colors text-slate-400 hover:text-white ${!n&&"mx-auto"}`,children:c.jsx(fm,{className:"h-5 w-5"})})]}),c.jsxs("div",{className:"px-4 py-8",children:[n&&c.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-4 px-3",children:"Main Menu"}),c.jsx("nav",{className:"space-y-1.5",children:x.map(w=>c.jsx(Oo,{to:w.to,end:w.end,className:({isActive:S})=>`flex items-center gap-3 px-3 py-3 rounded-xl text-sm font-medium transition-all duration-200 group relative overflow-hidden
                    ${S?"bg-indigo-600 text-white shadow-lg shadow-indigo-900/40 ring-1 ring-indigo-500/50":"text-slate-400 hover:bg-white/5 hover:text-slate-200"}`,children:({isActive:S})=>c.jsxs(c.Fragment,{children:[S&&c.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent translate-x-[-100%] animate-[shimmer_1.5s_infinite]"}),c.jsx(w.icon,{className:`h-5 w-5 flex-shrink-0 transition-colors ${!n&&"mx-auto"}`}),n&&c.jsx("span",{children:w.label})]})},w.to))})]}),c.jsxs("div",{className:"mt-auto p-4 border-t border-white/5 bg-black/20",children:[n?c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"h-10 w-10 rounded-full bg-admin-primary flex items-center justify-center font-bold text-white shadow-md ring-2 ring-white/10",children:l?.name?.charAt(0)||"A"}),c.jsxs("div",{className:"overflow-hidden",children:[c.jsx("div",{className:"font-bold text-sm text-white truncate",children:l?.name||"Administrator"}),c.jsxs("div",{className:"text-[10px] text-emerald-400 font-medium flex items-center gap-1",children:[c.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"}),"Online"]})]})]}):c.jsx("div",{className:"flex justify-center mb-4",children:c.jsx("div",{className:"h-8 w-8 rounded-full bg-admin-primary flex items-center justify-center font-bold text-xs text-white",children:l?.name?.charAt(0)||"A"})}),c.jsxs("button",{onClick:g,className:`flex items-center gap-2 text-slate-400 hover:text-red-400 transition-colors w-full p-2 rounded-lg hover:bg-white/5 ${!n&&"justify-center"}`,children:[c.jsx(ed,{className:"h-5 w-5"}),n&&c.jsx("span",{className:"text-sm font-medium",children:"Sign Out"})]})]})]}),c.jsxs("div",{className:"md:hidden flex flex-col",children:[c.jsxs("header",{className:"h-16 bg-slate-900 text-white flex items-center justify-between px-4 shadow-md sticky top-0 z-30",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"bg-admin-accent/20 p-1.5 rounded-lg",children:c.jsx(sb,{className:"h-5 w-5 text-admin-accent"})}),c.jsx("span",{className:"font-heading font-bold text-lg tracking-wide",children:"ADMIN"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(pm,{buttonClassName:"text-slate-300 hover:text-white hover:bg-white/10"}),c.jsx("button",{onClick:()=>a(!n),className:"p-2 text-slate-400 hover:text-white",children:c.jsx(fm,{className:"h-6 w-6"})})]})]}),n&&c.jsxs("div",{className:"bg-slate-800 text-white border-b border-white/10 p-4 space-y-2 animate-in slide-in-from-top-2",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4 pb-4 border-b border-white/10",children:[c.jsx("div",{className:"h-10 w-10 rounded-full bg-admin-primary flex items-center justify-center font-bold text-white shadow-md ring-2 ring-white/10",children:l?.name?.charAt(0)||"A"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-bold text-sm text-white",children:l?.name||"Administrator"}),c.jsx("div",{className:"text-xs text-emerald-400 font-medium",children:"Online"})]})]}),x.map(w=>c.jsxs(Oo,{to:w.to,end:w.end,onClick:()=>a(!1),className:({isActive:S})=>`flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium transition-colors
                            ${S?"bg-admin-primary text-white":"text-slate-400 hover:bg-white/5"}`,children:[c.jsx(w.icon,{className:"h-5 w-5"}),w.label]},w.to)),c.jsxs("button",{onClick:g,className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium text-slate-400 hover:text-red-400 hover:bg-white/5 mt-2",children:[c.jsx(ed,{className:"h-5 w-5"}),"Sign Out"]})]})]}),c.jsxs("div",{className:"flex-1 flex flex-col min-w-0 overflow-hidden bg-slate-50/50",children:[c.jsxs("header",{className:"h-20 bg-white/80 backdrop-blur-xl border-b border-slate-200/60 flex items-center justify-between px-8 z-10 sticky top-0",children:[c.jsxs("div",{className:"flex items-center gap-4 text-slate-400 bg-slate-100/50 px-4 py-2.5 rounded-full border border-slate-200/60 focus-within:bg-white focus-within:ring-2 focus-within:ring-indigo-500/20 focus-within:border-indigo-500/50 transition-all w-96",children:[c.jsx(qi,{className:"h-4 w-4"}),c.jsx("input",{type:"text",placeholder:"Seach anything...",className:"bg-transparent text-sm focus:outline-none text-slate-700 w-full placeholder:text-slate-400"})]}),c.jsxs("div",{className:"flex items-center gap-6",children:[c.jsx(pm,{}),c.jsx("div",{className:"h-8 w-px bg-slate-200 mx-2"}),c.jsxs("div",{className:"text-right hidden sm:block",children:[c.jsx("div",{className:"text-sm font-bold text-slate-900 font-heading tracking-tight",children:"Student Coach Platform"}),c.jsx("div",{className:"text-[11px] text-slate-500 font-medium bg-slate-100 px-2 py-0.5 rounded-full inline-block mt-0.5",children:"v2.5.0"})]})]})]}),c.jsx("main",{className:"flex-1 overflow-auto p-6 md:p-8",children:c.jsx("div",{className:"max-w-[1600px] mx-auto space-y-8 animate-in fade-in duration-500 slide-in-from-bottom-4",children:c.jsx(Hw,{})})})]}),c.jsx(Id,{open:u,title:"Sign out",message:"Are you sure you want to sign out?",confirmLabel:"Sign out",cancelLabel:"Cancel",danger:!0,busy:h,onClose:()=>f(!1),onConfirm:v})]})}function V9(){const{logout:e,currentUser:t}=_t(),{getUserById:r}=Pt(),n=t?.id?r(t.id):null,a=Ja(),[s,l]=y.useState(!0),[u,f]=y.useState(!1),[h,m]=y.useState(!1),g=()=>f(!0),v=async()=>{try{m(!0),await e(),a("/login",{replace:!0})}finally{m(!1),f(!1)}},x=[{label:"Dashboard",to:"/coach",icon:z8,end:!0},{label:"Projects",to:"/coach/projects",icon:Bo},{label:"Tasks",to:"/coach/tasks",icon:Aa},{label:"Students",to:"/coach/students",icon:aa},{label:"Programs",to:"/coach/programs",icon:M8},{label:"Sessions",to:"/coach/sessions",icon:hm},{label:"Deliverables",to:"/coach/deliverables",icon:hm},{label:"Messages",to:"/coach/messages",icon:ac}];return c.jsxs("div",{className:"min-h-screen bg-coach-bg flex flex-col md:flex-row font-sans text-coach-text",children:[c.jsxs("aside",{className:`bg-coach-secondary text-white flex-shrink-0 transition-all duration-300 ease-in-out hidden md:flex flex-col shadow-xl z-20 sticky top-0 h-screen
          ${s?"w-64":"w-20"}
        `,children:[c.jsxs("div",{className:"h-16 flex items-center px-4 bg-coach-secondary/50 border-b border-white/10 justify-between",children:[s&&c.jsxs("span",{className:"font-heading font-bold text-lg tracking-wide text-white",children:["COACH",c.jsx("span",{className:"text-coach-primary font-normal ml-1 bg-white px-1 rounded text-xs py-0.5",children:"PRO"})]}),c.jsx("button",{onClick:()=>l(!s),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:c.jsx(fm,{className:"h-5 w-5"})})]}),c.jsx("nav",{className:"flex-1 py-6 px-3 space-y-2",children:x.map(w=>c.jsxs(Oo,{to:w.to,end:w.end,className:({isActive:S})=>`flex items-center gap-3 px-3 py-3 rounded-md text-sm font-medium transition-colors
                ${S?"bg-coach-primary text-white shadow-lg":"text-slate-300 hover:bg-white/10 hover:text-white"}`,children:[c.jsx(w.icon,{className:`h-5 w-5 flex-shrink-0 ${!s&&"mx-auto"}`}),s&&c.jsx("span",{className:"font-heading",children:w.label})]},w.to))}),c.jsxs("div",{className:"p-4 border-t border-white/10 bg-black/20",children:[c.jsxs("div",{className:`flex items-center gap-3 ${!s&&"justify-center"}`,children:[c.jsx("div",{className:"h-10 w-10 rounded bg-coach-primary flex items-center justify-center font-bold text-white text-sm shadow-md ring-2 ring-white/10",children:n?.name?.charAt(0)||"C"}),s&&c.jsxs("div",{className:"overflow-hidden",children:[c.jsx("p",{className:"text-sm font-bold text-white truncate font-heading",children:n?.name}),c.jsx("p",{className:"text-xs text-slate-400 truncate",children:"Senior Coach"})]})]}),c.jsxs("button",{onClick:g,className:`mt-4 w-full flex items-center gap-3 px-3 py-2 text-sm text-slate-300 hover:text-white hover:bg-white/5 rounded transition-colors
                 ${!s&&"justify-center"}
            `,children:[c.jsx(ed,{className:"h-5 w-5"}),s&&c.jsx("span",{children:"Sign Out"})]})]})]}),c.jsxs("div",{className:"md:hidden flex flex-col shadow-md z-30 relative",children:[c.jsxs("header",{className:"h-16 bg-coach-secondary text-white flex items-center justify-between px-4",children:[c.jsx("div",{className:"flex items-center gap-2",children:c.jsxs("span",{className:"font-heading font-bold text-lg tracking-wide",children:["COACH",c.jsx("span",{className:"font-normal ml-1 bg-white px-1 rounded text-xs py-0.5 text-black",children:"PRO"})]})}),c.jsx("button",{onClick:()=>l(!s),className:"p-2 text-slate-300 hover:text-white",children:c.jsx(fm,{className:"h-6 w-6"})})]}),s&&c.jsxs("div",{className:"bg-coach-secondary border-t border-white/10 p-4 space-y-2 absolute top-16 left-0 right-0 shadow-xl animate-in slide-in-from-top-2",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4 pb-4 border-b border-white/10 px-2",children:[c.jsx("div",{className:"h-9 w-9 rounded bg-coach-primary flex items-center justify-center font-bold text-white text-sm shadow-md ring-1 ring-white/10",children:n?.name?.charAt(0)||"C"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-bold text-sm text-white",children:n?.name}),c.jsx("div",{className:"text-xs text-slate-400",children:"Senior Coach"})]})]}),x.map(w=>c.jsxs(Oo,{to:w.to,end:w.end,onClick:()=>l(!1),className:({isActive:S})=>`flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-colors
                            ${S?"bg-coach-primary text-white":"text-slate-300 hover:bg-white/10"}`,children:[c.jsx(w.icon,{className:"h-5 w-5"}),w.label]},w.to)),c.jsxs("button",{onClick:g,className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium text-slate-400 hover:text-white hover:bg-white/5 mt-2",children:[c.jsx(ed,{className:"h-5 w-5"}),"Sign Out"]})]})]}),c.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[c.jsxs("header",{className:"h-16 bg-white border-b border-slate-200 flex items-center justify-between px-6 shadow-sm z-10 sticky top-0",children:[c.jsx("h1",{className:"font-heading font-semibold text-lg text-slate-800",children:"Workspace"}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(pm,{}),c.jsx("button",{className:"p-2 text-slate-400 hover:text-slate-600 rounded-full hover:bg-slate-100 transition-colors",children:c.jsx(pM,{className:"h-5 w-5"})})]})]}),c.jsx("main",{className:"flex-1 overflow-auto p-4 md:p-6 bg-slate-50",children:c.jsx("div",{className:"max-w-[1600px] mx-auto",children:c.jsx(Hw,{})})})]}),c.jsx(Id,{open:u,title:"Sign out",message:"Are you sure you want to sign out?",confirmLabel:"Sign out",cancelLabel:"Cancel",danger:!0,busy:h,onClose:()=>f(!1),onConfirm:v})]})}function H9(){const{logout:e,currentUser:t}=_t(),{getUserById:r}=Pt(),n=t?.id?r(t.id):null,a=Ja(),[s,l]=y.useState(!1),[u,f]=y.useState(!1),h=()=>l(!0),m=async()=>{try{f(!0),await e(),a("/login",{replace:!0})}finally{f(!1),l(!1)}},g=[{label:"Home",to:"/student",icon:I8,end:!0},{label:"Projects",to:"/student/projects",icon:Bo},{label:"My Tasks",to:"/student/tasks",icon:Aa},{label:"My Progress",to:"/student/programs",icon:ib},{label:"Analytics",to:"/student/analytics",icon:Ww},{label:"Messages",to:"/student/messages",icon:td},{label:"Profile",to:"/student/profile",icon:Co}];return c.jsxs("div",{className:"min-h-screen bg-student-bg font-sans text-student-text",children:[c.jsxs("div",{className:"flex h-screen overflow-hidden",children:[c.jsxs("aside",{className:"w-64 bg-white m-4 rounded-3xl shadow-sm flex-col border border-blue-100 hidden md:flex",children:[c.jsxs("div",{className:"p-8 flex items-center gap-3",children:[c.jsx("div",{className:"h-12 w-12 rounded-full bg-blue-50 flex items-center justify-center text-student-primary shadow-sm",children:c.jsx(Co,{className:"h-6 w-6"})}),c.jsxs("div",{children:[c.jsxs("h2",{className:"font-heading font-bold text-lg text-slate-800",children:["Hello, ",n?.name?.split(" ")[0]||"Student","!"]}),c.jsx("p",{className:"text-xs text-slate-500 font-medium",children:"Let's keep growing"})]})]}),c.jsx("nav",{className:"flex-1 px-4 space-y-3",children:g.map(v=>c.jsxs(Oo,{to:v.to,end:v.end,className:({isActive:x})=>`flex items-center gap-4 px-6 py-4 rounded-2xl transition-all duration-300 group
                  ${x?"bg-student-primary text-white shadow-md translate-x-1":"text-slate-500 hover:bg-blue-50 hover:text-student-primary"}`,children:[c.jsx(v.icon,{className:"h-6 w-6 stroke-[1.5]"}),c.jsx("span",{className:"font-heading font-semibold text-base",children:v.label})]},v.to))}),c.jsx("div",{className:"p-6",children:c.jsxs("button",{onClick:h,className:"w-full flex items-center justify-center gap-2 text-slate-400 hover:text-red-500 transition-colors py-4 rounded-xl hover:bg-slate-50",children:[c.jsx(ed,{className:"h-5 w-5"}),c.jsx("span",{className:"font-medium",children:"Sign Out"})]})})]}),c.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-8",children:c.jsxs("div",{className:"max-w-5xl mx-auto space-y-4",children:[c.jsx("div",{className:"sticky top-0 z-40 flex justify-end bg-student-bg/80 backdrop-blur py-2",children:c.jsx(pm,{})}),c.jsx("div",{className:"space-y-8",children:c.jsx(Hw,{})})]})})]}),c.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-slate-100 flex justify-around p-3 z-50 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)]",children:g.map(v=>c.jsxs(Oo,{to:v.to,end:v.end,className:({isActive:x})=>`flex flex-col items-center gap-1 p-2 rounded-xl transition-colors
                ${x?"text-student-primary bg-blue-50":"text-slate-400"}`,children:[c.jsx(v.icon,{className:"h-6 w-6"}),c.jsx("span",{className:"text-[10px] font-medium font-heading",children:v.label})]},v.to))}),c.jsx(Id,{open:s,title:"Sign out",message:"Are you sure you want to sign out?",confirmLabel:"Sign out",cancelLabel:"Cancel",danger:!0,busy:u,onClose:()=>l(!1),onConfirm:m})]})}function q0({allowedRoles:e,children:t}){const{isAuthenticated:r,role:n}=_t();return r?e&&!e.includes(n)?c.jsx(Fl,{to:"/unauthorized",replace:!0}):t:c.jsx(Fl,{to:"/login",replace:!0})}const SM=y.createContext(null),Da=()=>{const e=y.useContext(SM);if(!e)throw new Error("useToast must be used within ToastProvider");return e};function F9(){const e=Ja(),{login:t,signup:r,isAuthenticated:n,role:a}=_t(),{push:s}=Da(),[l,u]=y.useState(!1),[f,h]=y.useState(""),[m,g]=y.useState(""),[v,x]=y.useState(""),[w,S]=y.useState(xa.student),[N,_]=y.useState(!1);y.useEffect(()=>{if(n){const k=a===xa.admin?"/admin":a===xa.coach?"/coach":"/student";e(k,{replace:!0})}},[n,a,e]);const A=async k=>{k.preventDefault(),_(!0);try{if(l){const O=await r({email:f,password:m,name:v,role:w});O.success?O.needsEmailConfirmation?(s({type:"success",title:"Confirm your email",message:"We sent you a confirmation email. After confirming, come back and sign in."}),u(!1)):s({type:"success",title:"Account Created",message:"Signed in successfully!"}):s({type:"danger",title:"Signup Failed",message:O.error})}else{const O=await t({email:f,password:m});O.success?s({type:"success",title:"Welcome",message:"Signed in successfully"}):s({type:"danger",title:"Login Failed",message:O.error||"Invalid credentials"})}}catch(O){console.error(O),s({type:"danger",title:"Error",message:"Something went wrong"})}finally{_(!1)}};return n?c.jsx("div",{className:"flex h-screen w-full items-center justify-center bg-slate-50",children:c.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-slate-200 border-t-blue-600"})}):c.jsx("div",{className:"app-container app-bg flex min-h-screen items-center justify-center px-4",children:c.jsxs("div",{className:"surface-soft w-full max-w-md p-6",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"mx-auto grid h-12 w-12 place-items-center rounded-2xl bg-primary text-primary-foreground shadow-sm",children:c.jsx("span",{className:"text-sm font-bold",children:"SEA"})}),c.jsx("div",{className:"mt-3 text-lg font-semibold text-foreground",children:"SEA Platform"}),c.jsx("div",{className:"mt-1 text-sm text-muted-foreground",children:l?"Create a new account":"Sign in to your account"})]}),c.jsxs("form",{className:"mt-6 space-y-4",onSubmit:A,children:[l&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx("label",{className:"label",htmlFor:"name",children:"Full Name"}),c.jsx("input",{id:"name",type:"text",className:"input",value:v,onChange:k=>x(k.target.value),required:!0,autoComplete:"name",placeholder:"John Doe"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",htmlFor:"role",children:"Role"}),c.jsxs("select",{id:"role",className:"input",value:w,onChange:k=>S(k.target.value),children:[c.jsx("option",{value:xa.student,children:"Student"}),c.jsx("option",{value:xa.coach,children:"Coach"}),c.jsx("option",{value:xa.admin,children:"Admin"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",htmlFor:"email",children:"Email Address"}),c.jsx("input",{id:"email",type:"email",className:"input",value:f,onChange:k=>h(k.target.value),required:!0,autoComplete:"email",placeholder:"you@example.com"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",htmlFor:"password",children:"Password"}),c.jsx("input",{id:"password",type:"password",className:"input",value:m,onChange:k=>g(k.target.value),required:!0,autoComplete:l?"new-password":"current-password",placeholder:"",minLength:6})]}),c.jsx("button",{type:"submit",className:"btn-primary w-full",disabled:N,children:N?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white/20 border-t-white"}),l?"Creating Account...":"Signing in..."]}):l?"create Account":"Sign In"})]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsxs("p",{className:"text-sm text-muted-foreground",children:[l?"Already have an account?":"Don't have an account?"," ",c.jsx("button",{type:"button",onClick:()=>{u(!l),h(""),g(""),x("")},className:"font-semibold text-primary hover:text-primary-600 focus:outline-none focus:underline",children:l?"Sign in":"Create one"})]})})]})})}function He({title:e,subtitle:t,actions:r,children:n,className:a=""}){return c.jsxs("div",{className:`bg-white rounded-xl shadow-sm border border-slate-200/60 overflow-hidden ${a}`,children:[(e||r)&&c.jsxs("div",{className:"px-6 py-4 flex items-center justify-between border-b border-slate-100",children:[c.jsxs("div",{children:[e&&c.jsx("h3",{className:"font-heading font-semibold text-slate-800 text-base",children:e}),t&&c.jsx("p",{className:"text-sm text-slate-500 mt-0.5",children:t})]}),r&&c.jsx("div",{className:"flex items-center gap-2",children:r})]}),c.jsx("div",{className:"p-6",children:n})]})}const K9={success:"bg-green-100 text-green-700 border border-green-200",warning:"bg-amber-50 text-amber-700 border border-amber-200",danger:"bg-red-50 text-red-700 border border-red-200",neutral:"bg-slate-100 text-slate-700 border border-slate-200",info:"bg-blue-50 text-blue-700 border border-blue-200"},G9={active:"success",archived:"neutral",pending:"warning",reviewed:"info",approved:"success",accepted:"success",rejected:"danger",scheduled:"info",cancelled:"danger",completed:"success",submitted:"warning",revision:"warning",graded:"success",admin:"neutral",coach:"neutral",student:"neutral"};function Rr({value:e}){const t=String(e??"").toLowerCase(),r=G9[t]||"neutral",n=K9[r];return c.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold capitalize tracking-wide ${n}`,children:String(e??"")})}const wr=e=>{if(!e)return"";try{return new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"2-digit"})}catch{return String(e)}},rn=e=>{if(!e)return"";try{return new Date(e).toLocaleString(void 0,{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch{return String(e)}};function W9(){const{data:e}=Pt(),[t,r]=y.useState("all"),[n,a]=y.useState(null),s=y.useMemo(()=>{if(!e)return null;const f=(e.users??[]).filter(A=>A.role==="student"),h=(e.users??[]).filter(A=>A.role==="coach"),m=e.programs??[],v=(e.coachingSessions??[]).filter(A=>A.status==="completed");let x=0,w=0;v.forEach(A=>{x+=A.attendeeStudentIds.length,w+=(A.attendance??[]).filter(k=>k.status==="present").length});const S=x>0?Math.round(w/x*100):0,N=new Date,_=f.filter(A=>{const k=new Date(A.updatedAt),O=(N-k)/(1e3*60*60*24),M=(e.deliverables??[]).filter(C=>C.assignedStudentIds.includes(A.id)&&new Date(C.dueDate)<N&&!C.submissions?.some(D=>D.studentId===A.id)).length;return O>7||M>=2});return{totalStudents:f.length,totalCoaches:h.length,totalPrograms:m.length,avgAttendance:S,atRiskCount:_.length,students:f,atRiskStudents:_}},[e]),l=y.useMemo(()=>s?s.students.filter(f=>t==="all"?!0:t==="inactive"?s.atRiskStudents.some(h=>h.id===f.id):t!=="blocked"):[],[s,t]),u=y.useMemo(()=>!n||!e?[]:(e.messages??[]).filter(f=>f.senderId===n||f.receiverId===n).sort((f,h)=>new Date(f.sentAt)-new Date(h.sentAt)).map(f=>{const h=e.users.find(m=>m.id===f.senderId);return{...f,senderName:h?.name||"Unknown"}}),[n,e]);return s?c.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-heading font-bold tracking-tight text-slate-900 dark:text-white",children:"Overview"}),c.jsxs("p",{className:"mt-2 text-lg text-slate-500 font-medium max-w-2xl",children:["Welcome back. You are monitoring ",c.jsxs("span",{className:"font-bold text-slate-700 dark:text-slate-300",children:[s.totalPrograms," active programs"]})," and ",c.jsxs("span",{className:"font-bold text-slate-700 dark:text-slate-300",children:[s.totalStudents," students"]}),"."]})]}),c.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:[c.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-white p-6 shadow-sm border border-slate-200 group hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[c.jsx("div",{className:"absolute right-0 top-0 h-32 w-32 translate-x-8 translate-y--8 rounded-full bg-gradient-to-br from-indigo-50 to-blue-50 opacity-50 group-hover:scale-110 transition-transform duration-500"}),c.jsxs("div",{className:"relative z-10 flex flex-col h-full justify-between",children:[c.jsxs("div",{className:"flex items-start justify-between mb-4",children:[c.jsx("div",{className:"rounded-xl bg-indigo-50 text-indigo-600 p-3 ring-1 ring-inset ring-indigo-100",children:c.jsx(aa,{className:"h-6 w-6"})}),c.jsxs("span",{className:"flex items-center gap-1 text-xs font-bold text-emerald-600 bg-emerald-50 px-2 py-1 rounded-full border border-emerald-100",children:[c.jsx(E9,{className:"h-3 w-3 rotate-180"})," +12%"]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-3xl font-heading font-bold text-slate-900",children:s.totalStudents}),c.jsx("p",{className:"text-sm font-bold text-slate-500 mt-1",children:"Total Students"})]})]})]}),c.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-white p-6 shadow-sm border border-slate-200 group hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[c.jsx("div",{className:"absolute right-0 top-0 h-32 w-32 translate-x-8 translate-y--8 rounded-full bg-gradient-to-br from-violet-50 to-purple-50 opacity-50 group-hover:scale-110 transition-transform duration-500"}),c.jsxs("div",{className:"relative z-10 flex flex-col h-full justify-between",children:[c.jsx("div",{className:"flex items-start justify-between mb-4",children:c.jsx("div",{className:"rounded-xl bg-violet-50 text-violet-600 p-3 ring-1 ring-inset ring-violet-100",children:c.jsx(Zu,{className:"h-6 w-6"})})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-3xl font-heading font-bold text-slate-900",children:s.totalPrograms}),c.jsx("p",{className:"text-sm font-bold text-slate-500 mt-1",children:"Active Programs"})]})]})]}),c.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-white p-6 shadow-sm border border-slate-200 group hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[c.jsx("div",{className:"absolute right-0 top-0 h-32 w-32 translate-x-8 translate-y--8 rounded-full bg-gradient-to-br from-emerald-50 to-teal-50 opacity-50 group-hover:scale-110 transition-transform duration-500"}),c.jsxs("div",{className:"relative z-10 flex flex-col h-full justify-between",children:[c.jsx("div",{className:"flex items-start justify-between mb-4",children:c.jsx("div",{className:"rounded-xl bg-emerald-50 text-emerald-600 p-3 ring-1 ring-inset ring-emerald-100",children:c.jsx(en,{className:"h-6 w-6"})})}),c.jsxs("div",{children:[c.jsxs("h3",{className:"text-3xl font-heading font-bold text-slate-900",children:[s.avgAttendance,"%"]}),c.jsx("p",{className:"text-sm font-bold text-slate-500 mt-1",children:"Avg. Attendance"})]})]})]}),c.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-white to-amber-50/30 p-6 shadow-sm border border-amber-100 group hover:shadow-xl transition-all duration-300 hover:-translate-y-1 ring-1 ring-transparent hover:ring-amber-200",children:[c.jsx("div",{className:"absolute right-0 top-0 h-32 w-32 translate-x-8 translate-y--8 rounded-full bg-gradient-to-br from-amber-50 to-orange-50 opacity-50 group-hover:scale-110 transition-transform duration-500"}),c.jsxs("div",{className:"relative z-10 flex flex-col h-full justify-between",children:[c.jsxs("div",{className:"flex items-start justify-between mb-4",children:[c.jsx("div",{className:"rounded-xl bg-amber-50 text-amber-600 p-3 ring-1 ring-inset ring-amber-100",children:c.jsx($2,{className:"h-6 w-6"})}),s.atRiskCount>0&&c.jsx("span",{className:"flex items-center gap-1 text-xs font-bold text-amber-600 bg-white/80 px-2 py-1 rounded-full border border-amber-100 shadow-sm animate-pulse",children:"Action Needed"})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-3xl font-heading font-bold text-amber-950",children:s.atRiskCount}),c.jsx("p",{className:"text-sm font-bold text-amber-700/60 mt-1",children:"Students At Risk"})]})]})]})]}),s.atRiskStudents.length>0&&c.jsxs("div",{className:"rounded-2xl border border-amber-200 bg-amber-50 p-6 flex items-start gap-4 shadow-sm dark:bg-amber-900/20 dark:border-amber-900",children:[c.jsx("div",{className:"rounded-full bg-amber-100 p-2 text-amber-600 shrink-0",children:c.jsx(Qu,{className:"h-6 w-6"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-heading font-bold text-amber-900 text-lg mb-1 dark:text-amber-100",children:"Attention Required"}),c.jsxs("p",{className:"text-sm text-amber-800 leading-relaxed dark:text-amber-200",children:[c.jsxs("span",{className:"font-bold",children:[s.atRiskStudents.length," students"]})," have been inactive for over 7 days or have multiple overdue deliverables. This may impact program completion rates."]})]}),c.jsx("button",{onClick:()=>r("inactive"),className:"shrink-0 rounded-xl bg-white px-4 py-2 text-sm font-bold text-amber-700 shadow-sm border border-amber-200 hover:bg-amber-50 active:scale-95 transition-all",children:"View Reports"})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("h2",{className:"text-xl font-heading font-bold text-slate-900 dark:text-white",children:"Student Monitoring"}),c.jsx("span",{className:"bg-slate-100 text-slate-600 px-2 py-0.5 rounded-full text-xs font-bold border border-slate-200",children:l.length})]}),c.jsxs("div",{className:"flex items-center p-1.5 bg-slate-100/80 rounded-xl border border-slate-200/60 backdrop-blur-sm",children:[c.jsx("button",{onClick:()=>r("all"),className:`px-4 py-1.5 text-xs font-bold uppercase tracking-wide rounded-lg transition-all ${t==="all"?"bg-white text-slate-900 shadow-sm border border-slate-200/50":"text-slate-500 hover:text-slate-700"}`,children:"All"}),c.jsx("div",{className:"w-px h-4 bg-slate-300/50 mx-1"}),c.jsx("button",{onClick:()=>r("inactive"),className:`px-4 py-1.5 text-xs font-bold uppercase tracking-wide rounded-lg transition-all ${t==="inactive"?"bg-amber-50 text-amber-700 shadow-sm border border-amber-200/50":"text-slate-500 hover:text-amber-600"}`,children:"At Risk"}),c.jsx("div",{className:"w-px h-4 bg-slate-300/50 mx-1"}),c.jsx("button",{onClick:()=>r("blocked"),className:`px-4 py-1.5 text-xs font-bold uppercase tracking-wide rounded-lg transition-all ${t==="blocked"?"bg-red-50 text-red-700 shadow-sm border border-red-200/50":"text-slate-500 hover:text-red-600"}`,children:"Blocked"})]})]}),c.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white shadow-xl shadow-slate-200/50 overflow-hidden",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-sm text-left",children:[c.jsx("thead",{className:"bg-slate-50 text-slate-500 font-bold font-heading uppercase tracking-wider text-xs border-b border-slate-200",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-5",children:"Student"}),c.jsx("th",{className:"px-6 py-5",children:"University"}),c.jsx("th",{className:"px-6 py-5",children:"Health Status"}),c.jsx("th",{className:"px-6 py-5",children:"Last Active"}),c.jsx("th",{className:"px-6 py-5 text-right",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:l.length===0?c.jsx("tr",{children:c.jsxs("td",{colSpan:5,className:"px-6 py-12 text-center text-slate-400",children:[c.jsx("div",{className:"mx-auto mb-3 h-12 w-12 rounded-full bg-slate-100 flex items-center justify-center dark:bg-slate-800",children:c.jsx(qi,{className:"h-6 w-6 text-slate-300"})}),"No students found matching this filter."]})}):l.map(f=>{const h=s.atRiskStudents.some(m=>m.id===f.id);return c.jsxs("tr",{className:"group hover:bg-slate-50/80 transition-colors dark:hover:bg-slate-700/50",children:[c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"h-10 w-10 rounded-full bg-slate-900 text-white flex items-center justify-center font-bold text-sm shadow-sm ring-2 ring-slate-50 group-hover:ring-white transition-all",children:f.name.charAt(0)}),c.jsxs("div",{children:[c.jsx("div",{className:"font-bold text-slate-900 dark:text-white",children:f.name}),c.jsx("div",{className:"text-xs text-slate-500 font-medium",children:f.email})]})]})}),c.jsx("td",{className:"px-6 py-4 text-slate-600 font-medium dark:text-slate-300",children:f.university}),c.jsx("td",{className:"px-6 py-4",children:h?c.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full bg-amber-50 px-2.5 py-1 text-xs font-bold text-amber-700 border border-amber-200 shadow-sm",children:[c.jsx(Qu,{className:"h-3.5 w-3.5"})," At Risk"]}):c.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full bg-emerald-50 px-2.5 py-1 text-xs font-bold text-emerald-700 border border-emerald-200 shadow-sm",children:[c.jsx(Ai,{className:"h-3.5 w-3.5"})," Healthy"]})}),c.jsx("td",{className:"px-6 py-4 text-slate-500 font-medium",children:rn(f.updatedAt)}),c.jsx("td",{className:"px-6 py-4 text-right",children:c.jsxs("button",{onClick:()=>a(f.id),className:"inline-flex items-center gap-2 rounded-lg bg-white px-3 py-1.5 text-xs font-bold text-slate-700 shadow-sm ring-1 ring-slate-200 hover:bg-slate-50 hover:text-slate-900 transition-all dark:bg-slate-800 dark:ring-slate-700 dark:text-slate-300",children:[c.jsx(cM,{className:"h-3.5 w-3.5"})," Monitor"]})})]},f.id)})})]})})})]}),c.jsxs(ar,{isOpen:!!n,onClose:()=>a(null),title:"Communication Log (Read-Only)",children:[c.jsx("div",{className:"h-[400px] overflow-y-auto rounded-xl border border-slate-200 bg-slate-50/50 p-6 scrollbar-thin scrollbar-thumb-slate-200 dark:bg-slate-900/50 dark:border-slate-700",children:u.length===0?c.jsxs("div",{className:"flex h-full flex-col items-center justify-center text-slate-400",children:[c.jsx(ac,{className:"mb-3 h-10 w-10 opacity-20"}),c.jsx("p",{className:"text-sm font-medium",children:"No messages recorded for this student."})]}):c.jsx("div",{className:"space-y-4",children:u.map(f=>c.jsxs("div",{className:"flex flex-col gap-1.5 animate-in slide-in-from-bottom-2",children:[c.jsxs("div",{className:"flex items-center justify-between px-1",children:[c.jsx("span",{className:"text-xs font-bold text-slate-700 dark:text-slate-300",children:f.senderName}),c.jsx("span",{className:"text-[10px] uppercase font-bold text-slate-400 tracking-wide",children:rn(f.sentAt)})]}),c.jsx("div",{className:"rounded-2xl rounded-tl-none border border-slate-200 bg-white p-4 text-sm text-slate-600 shadow-sm dark:bg-slate-800 dark:border-slate-700 dark:text-slate-300",children:f.content})]},f.id))})}),c.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2 rounded-xl bg-amber-50 p-4 text-xs font-bold text-amber-800 border border-amber-100 dark:bg-amber-900/20 dark:text-amber-200 dark:border-amber-900/50",children:[c.jsx($2,{className:"h-4 w-4"}),"This view is for monitoring purposes only. You cannot reply from here."]})]})]}):c.jsx("div",{className:"p-8",children:"Loading analytics..."})}function Ds({title:e="No results found",message:t,action:r,icon:n=O8}){const a=n;return c.jsxs("div",{className:"flex flex-col items-center justify-center p-12 text-center bg-slate-50 border-2 border-dashed border-slate-200 rounded-xl",children:[c.jsx("div",{className:"h-12 w-12 rounded-full bg-slate-100 flex items-center justify-center mb-4 text-slate-400",children:c.jsx(a,{className:"h-6 w-6"})}),c.jsx("h3",{className:"font-heading font-semibold text-slate-900 text-base",children:e}),t&&c.jsx("p",{className:"mt-1 max-w-sm text-sm text-slate-500",children:t}),r&&c.jsx("div",{className:"mt-6",children:r})]})}const U2=e=>`"${(e==null?"":String(e)).replaceAll('"','""')}"`,Y9=({columns:e,rows:t})=>{const r=e.map(a=>U2(a.header)).join(","),n=t.map(a=>e.map(s=>U2(s.accessor(a))).join(","));return[r,...n].join(`
`)},X9=({filename:e,text:t,mime:r="text/plain"})=>{const n=new Blob([t],{type:r}),a=URL.createObjectURL(n),s=document.createElement("a");s.href=a,s.download=e,document.body.appendChild(s),s.click(),s.remove(),URL.revokeObjectURL(a)},Sh=e=>String(e??"").toLowerCase();function Sp({title:e,rows:t,columns:r,getRowId:n,initialSort:a,searchPlaceholder:s="Search",actions:l,exportFilename:u}){const[f,h]=y.useState(""),[m,g]=y.useState(1),[v,x]=y.useState(10),[w,S]=y.useState(a??null),N=y.useMemo(()=>{const D=Sh(f);return D?t.filter(L=>r.some(V=>{if(V.searchable===!1)return!1;const te=V.accessor(L);return Sh(te).includes(D)})):t},[t,r,f]),_=y.useMemo(()=>{if(!w)return N;const D=r.find(te=>te.key===w.key);if(!D)return N;const L=w.dir,V=[...N];return V.sort((te,W)=>{const K=D.sortValue?D.sortValue(te):D.accessor(te),Se=D.sortValue?D.sortValue(W):D.accessor(W),be=Sh(K),Ae=Sh(Se);return be<Ae?L==="asc"?-1:1:be>Ae?L==="asc"?1:-1:0}),V},[N,r,w]),A=Math.max(1,Math.ceil(_.length/v)),k=Math.min(m,A),O=y.useMemo(()=>{const D=(k-1)*v;return _.slice(D,D+v)},[_,k,v]),M=D=>{g(1),S(L=>!L||L.key!==D?{key:D,dir:"asc"}:L.dir==="asc"?{key:D,dir:"desc"}:null)},C=()=>{const D=u??`${e??"export"}.csv`,L=Y9({columns:r.map(V=>({header:V.header,accessor:V.accessor})),rows:_});X9({filename:D,text:L,mime:"text/csv"})};return c.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[c.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[c.jsxs("div",{children:[e&&c.jsx("h3",{className:"font-heading font-semibold text-slate-800",children:e}),c.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:[_.length," result",_.length!==1&&"s"]})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[c.jsxs("div",{className:"relative",children:[c.jsx(qi,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),c.jsx("input",{type:"text",placeholder:s,value:f,onChange:D=>{h(D.target.value),g(1)},className:"pl-9 pr-4 py-2 text-sm border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 w-full md:w-64"})]}),l,c.jsxs("button",{onClick:C,className:"flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium text-slate-600 bg-slate-50 hover:bg-slate-100 border border-slate-200 rounded-lg transition-colors",children:[c.jsx(S8,{className:"h-4 w-4"}),"Export"]})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left text-sm",children:[c.jsx("thead",{className:"bg-slate-50 border-b border-slate-200 text-xs font-semibold uppercase text-slate-500 tracking-wider",children:c.jsx("tr",{children:r.map(D=>c.jsx("th",{className:`px-6 py-3 transition-colors ${D.sortable===!1?"":"cursor-pointer hover:bg-slate-100"} ${D.align==="right"?"text-right":"text-left"}`,onClick:()=>{D.sortable!==!1&&M(D.key)},children:c.jsxs("div",{className:`flex items-center gap-1 ${D.align==="right"?"justify-end":""}`,children:[D.header,c.jsx("div",{className:"flex flex-col",children:D.sortable===!1?null:c.jsxs(c.Fragment,{children:[w?.key===D.key&&w.dir==="asc"&&c.jsx(h8,{className:"h-3 w-3"}),w?.key===D.key&&w.dir==="desc"&&c.jsx(u8,{className:"h-3 w-3"})]})})]})},D.key))})}),c.jsx("tbody",{className:"divide-y divide-slate-100",children:O.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:r.length,className:"p-8 text-center text-slate-500",children:c.jsx(Ds,{message:"No results found"})})}):O.map((D,L)=>c.jsx("tr",{className:"hover:bg-slate-50/50 transition-colors",children:r.map(V=>c.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-slate-600 ${V.align==="right"?"text-right":""}`,children:V.cell?V.cell(D):V.accessor(D)},V.key))},n?n(D):D.id||L))})]})}),A>1&&c.jsxs("div",{className:"px-6 py-4 border-t border-slate-100 flex items-center justify-between",children:[c.jsxs("span",{className:"text-sm text-slate-500",children:["Page ",m," of ",A]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("select",{className:"text-sm border border-slate-200 rounded px-2 py-1 focus:outline-none focus:ring-1 focus:ring-slate-300",value:v,onChange:D=>{x(Number(D.target.value)),g(1)},children:[5,10,20,50].map(D=>c.jsxs("option",{value:D,children:[D," / page"]},D))}),c.jsxs("div",{className:"flex gap-1 ml-2",children:[c.jsx("button",{disabled:m<=1,onClick:()=>g(D=>Math.max(1,D-1)),className:"px-3 py-1 text-sm border border-slate-200 rounded hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),c.jsx("button",{disabled:m>=A,onClick:()=>g(D=>Math.min(A,D+1)),className:"px-3 py-1 text-sm border border-slate-200 rounded hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]})}const NM=y.createContext(null),Np=()=>{const e=y.useContext(NM);if(!e)throw new Error("useProgramManagement must be used within ProgramManagementProvider");return e},Z9=e=>e?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(String(e).trim()):!1,Q9=e=>String(e??"").trim().length>0,_M=(e,t)=>{const r={};for(const n of Object.keys(e)){const a=e[n];for(const s of a){const l=s(t[n],t);if(l!==!0){r[n]=l;break}}}return r},va={required:e=>t=>Q9(t)?!0:`${e} is required`,email:e=>t=>Z9(t)?!0:`${e} must be a valid email`,min:(e,t)=>r=>String(r??"").trim().length>=t?!0:`${e} must be at least ${t} characters`},J9={name:[va.required("Name")],description:[va.required("Description")],durationWeeks:[va.required("Duration")],startDate:[va.required("Start date")],endDate:[va.required("End date")],capacity:[va.required("Capacity")],status:[va.required("Status")]},Nh=e=>{if(!e)return"";try{return new Date(e).toISOString().slice(0,10)}catch{return""}},B2=e=>e?new Date(`${e}T00:00:00.000Z`).toISOString():"";function e7(){const{data:e,upsertProgram:t,deleteProgram:r,reset:n}=Pt(),{push:a}=Da(),{templates:s,templateDetailsById:l,fetchTemplateDetails:u,upsertTemplate:f,deleteTemplate:h,addStage:m,addContentItem:g,addTaskTemplate:v,deleteStage:x,deleteContentItem:w,deleteTaskTemplate:S}=Np(),[N,_]=y.useState(!1),[A,k]=y.useState(null),[O,M]=y.useState({}),[C,D]=y.useState(!1),[L,V]=y.useState(""),[te,W]=y.useState({open:!1,programId:null}),[K,Se]=y.useState(!1),[be,Ae]=y.useState(null),[Y,ee]=y.useState("edit"),[ce,we]=y.useState(!1),[G,T]=y.useState({name:"",description:"",isActive:!0}),[I,$]=y.useState({}),[B,Z]=y.useState(null),[ue,je]=y.useState({name:"",description:""}),[Oe,Q]=y.useState({contentType:"video",title:"",url:"",provider:"",durationMinutes:"",description:""}),[de,Ee]=y.useState({title:"",description:"",dueOffsetDays:"",requiresApproval:!0}),oe=y.useMemo(()=>e?.programs??[],[e?.programs]),qe=y.useMemo(()=>(e?.users??[]).filter(se=>se.role==="coach"),[e?.users]),Be=y.useMemo(()=>(e?.users??[]).filter(se=>se.role==="student"),[e?.users]),pe=y.useMemo(()=>s.find(se=>se.id===be)??null,[be,s]),ke=y.useMemo(()=>be?l[be]??null:null,[be,l]),he=()=>{ee("create"),Ae(null),Z(null),T({name:"",description:"",isActive:!0}),$({}),je({name:"",description:""}),Q({contentType:"video",title:"",url:"",provider:"",durationMinutes:"",description:""}),Ee({title:"",description:"",dueOffsetDays:"",requiresApproval:!0}),Se(!0)},Re=async se=>{ee("edit"),Ae(se),Se(!0);try{const P=s.find(H=>H.id===se)??null;P&&T({name:P.name??"",description:P.description??"",isActive:!!P.isActive});const U=(await u(se))?.stages?.[0]?.id??null;Z(U)}catch(P){a({type:"danger",title:"Error",message:P?.message??"Failed to load template details"})}},Ge=()=>{ce||(Se(!1),$({}))},vt=async()=>{const se={};if(String(G.name??"").trim()||(se.name="Name is required"),$(se),!Object.keys(se).length){we(!0);try{const P=await f({id:Y==="edit"?be:void 0,name:String(G.name??"").trim(),description:String(G.description??"").trim(),isActive:!!G.isActive});ee("edit"),Ae(P.id),a({type:"success",title:Y==="create"?"Template created":"Template updated",message:"Now build stages, then add videos/courses and tasks."});const U=(await u(P.id))?.stages?.[0]?.id??null;Z(H=>H??U)}catch(P){a({type:"danger",title:"Error",message:P?.message??"Failed to save template"})}finally{we(!1)}}};y.useEffect(()=>{K&&Y==="edit"&&pe&&T({name:pe.name??"",description:pe.description??"",isActive:!!pe.isActive})},[pe,K,Y]),y.useEffect(()=>{if(!be||!ke)return;const se=new Set((ke.stages??[]).map(P=>P.id));B&&se.has(B)||Z(ke.stages?.[0]?.id??null)},[ke,be,B]);const $r=async se=>{if(window.confirm("Delete this template? This will delete its stages/content/task templates."))try{await h(se),a({type:"success",title:"Deleted",message:"Template removed."}),be===se&&(Se(!1),Ae(null))}catch(P){a({type:"danger",title:"Error",message:P?.message??"Failed to delete template"})}},jn=se=>{const P=String(se??"").trim();return P?/^https?:\/\//i.test(P)?null:"URL must start with http:// or https://":"URL is required"},Ho=async()=>{if(!be){a({type:"warning",title:"Save template first",message:"Create the template before adding stages."});return}const se=String(ue.name??"").trim();if(!se){a({type:"warning",title:"Stage name required",message:"Give the stage a name (e.g. IDEA)."});return}we(!0);try{const P=ke?.stages?.length??0,z=await m({templateId:be,name:se,description:String(ue.description??"").trim(),orderIndex:P});je({name:"",description:""}),Z(z?.id??null),a({type:"success",title:"Stage added",message:"Now add videos/courses and tasks for this stage."})}catch(P){a({type:"danger",title:"Error",message:P?.message??"Failed to add stage"})}finally{we(!1)}},Ar=async()=>{if(!B){a({type:"warning",title:"Pick a stage",message:"Select a stage before adding content."});return}const se=String(Oe.title??"").trim();if(!se){a({type:"warning",title:"Title required",message:"Give your content a title."});return}const P=jn(Oe.url);if(P){a({type:"warning",title:"Invalid URL",message:P});return}const z=String(Oe.durationMinutes??"").trim(),U=z?Number(z):null,H=Number.isFinite(U)&&U>0?U:null,ie=(ke?.contents??[]).filter(me=>me.stageId===B).length;we(!0);try{await g({stageId:B,contentType:Oe.contentType,title:se,description:String(Oe.description??"").trim(),url:String(Oe.url??"").trim(),provider:String(Oe.provider??"").trim(),durationMinutes:H,orderIndex:ie}),Q(me=>({...me,title:"",url:"",provider:"",durationMinutes:"",description:""})),a({type:"success",title:"Added",message:"Content item added."})}catch(me){a({type:"danger",title:"Error",message:me?.message??"Failed to add content"})}finally{we(!1)}},Fo=async()=>{if(!B){a({type:"warning",title:"Pick a stage",message:"Select a stage before adding tasks."});return}const se=String(de.title??"").trim();if(!se){a({type:"warning",title:"Title required",message:"Give your task a title."});return}const P=String(de.dueOffsetDays??"").trim(),z=P?Number(P):null,U=Number.isFinite(z)?z:null,H=(ke?.taskTemplates??[]).filter(ie=>ie.stageId===B).length;we(!0);try{await v({stageId:B,title:se,description:String(de.description??"").trim(),dueOffsetDays:U,orderIndex:H,requiresApproval:!!de.requiresApproval}),Ee(ie=>({...ie,title:"",description:"",dueOffsetDays:""})),a({type:"success",title:"Added",message:"Task template added."})}catch(ie){a({type:"danger",title:"Error",message:ie?.message??"Failed to add task template"})}finally{we(!1)}},qs=async se=>{if(be&&window.confirm("Delete this stage? This will remove its content and task templates.")){we(!0);try{if(await x({templateId:be,stageId:se}),B===se){const P=(ke?.stages??[]).filter(z=>z.id!==se);Z(P?.[0]?.id??null)}a({type:"success",title:"Deleted",message:"Stage removed."})}catch(P){a({type:"danger",title:"Error",message:P?.message??"Failed to delete stage"})}finally{we(!1)}}},Vs=async se=>{if(window.confirm("Delete this content item?")){we(!0);try{await w({contentId:se}),a({type:"success",title:"Deleted",message:"Content removed."})}catch(P){a({type:"danger",title:"Error",message:P?.message??"Failed to delete content"})}finally{we(!1)}}},ri=async se=>{if(window.confirm("Delete this task template?")){we(!0);try{await S({taskTemplateId:se}),a({type:"success",title:"Deleted",message:"Task template removed."})}catch(P){a({type:"danger",title:"Error",message:P?.message??"Failed to delete task template"})}finally{we(!1)}}},Ko=y.useMemo(()=>{if(!L)return oe;const se=L.toLowerCase();return oe.filter(P=>P.name.toLowerCase().includes(se)||P.description.toLowerCase().includes(se))},[oe,L]),Hs=y.useMemo(()=>({id:A?.id??null,name:A?.name??"",description:A?.description??"",durationWeeks:A?.durationWeeks??6,startDate:Nh(A?.startDate)??"",endDate:Nh(A?.endDate)??"",capacity:A?.capacity??20,status:A?.status??"active",coachIds:A?.coachIds??[],participantStudentIds:A?.participantStudentIds??[]}),[A]),[er,Xr]=y.useState(Hs),Ra=()=>{k(null),Xr({id:null,name:"",description:"",durationWeeks:6,startDate:"",endDate:"",capacity:20,status:"active",coachIds:[],participantStudentIds:[]}),M({}),_(!0)},Er=se=>{k(se),Xr({id:se.id,name:se.name,description:se.description,durationWeeks:se.durationWeeks,startDate:Nh(se.startDate),endDate:Nh(se.endDate),capacity:se.capacity,status:se.status,coachIds:se.coachIds??[],participantStudentIds:se.participantStudentIds??[]}),M({}),_(!0)},Sn=async()=>{const se={...er,durationWeeks:Number(er.durationWeeks),capacity:Number(er.capacity)},P=_M(J9,se);if(M(P),!Object.keys(P).length){D(!0);try{await t({id:se.id,name:se.name,description:se.description,durationWeeks:se.durationWeeks,startDate:B2(se.startDate),endDate:B2(se.endDate),capacity:se.capacity,status:se.status,coachIds:se.coachIds??[],participantStudentIds:se.participantStudentIds??[]}),a({type:"success",title:"Saved",message:"Program updated."}),_(!1)}catch(z){a({type:"danger",title:"Error",message:z?.message??"Failed to save program"})}finally{D(!1)}}},pr=se=>{const P=new Date,z=new Date(se.startDate),U=new Date(se.endDate);return P<z?"upcoming":P>U?"completed":"ongoing"};return c.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-heading font-bold text-slate-900 dark:text-white",children:"Programs"}),c.jsx("p",{className:"mt-2 text-lg text-slate-500 font-medium",children:"Create, edit, archive, and manage cohorts."})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>n(),className:"px-4 py-2.5 rounded-xl border border-slate-200 text-slate-600 font-bold text-sm hover:bg-slate-50 transition-colors",title:"Reset Data",children:c.jsx(l9,{className:"h-4 w-4"})}),c.jsxs("button",{onClick:Ra,className:"flex items-center gap-2 px-5 py-2.5 rounded-xl bg-slate-900 text-white font-bold text-sm hover:bg-slate-800 shadow-md shadow-slate-900/10 transition-colors dark:bg-white dark:text-slate-900",children:[c.jsx(Ei,{className:"h-4 w-4"})," New Program"]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-slate-200 shadow-sm dark:bg-slate-800 dark:border-slate-700",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("div",{className:"p-2 bg-indigo-50 text-indigo-600 rounded-lg",children:c.jsx(a8,{className:"h-5 w-5"})}),c.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-slate-400",children:"Total Programs"})]}),c.jsx("div",{className:"text-2xl font-heading font-bold text-slate-900 dark:text-white",children:oe.length})]}),c.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-slate-200 shadow-sm dark:bg-slate-800 dark:border-slate-700",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("div",{className:"p-2 bg-emerald-50 text-emerald-600 rounded-lg",children:c.jsx(aa,{className:"h-5 w-5"})}),c.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-slate-400",children:"Total Students"})]}),c.jsx("div",{className:"text-2xl font-heading font-bold text-slate-900 dark:text-white",children:oe.reduce((se,P)=>se+(P.participantStudentIds?.length||0),0)})]}),c.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-slate-200 shadow-sm dark:bg-slate-800 dark:border-slate-700",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("div",{className:"p-2 bg-amber-50 text-amber-600 rounded-lg",children:c.jsx(en,{className:"h-5 w-5"})}),c.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-slate-400",children:"Ongoing"})]}),c.jsx("div",{className:"text-2xl font-heading font-bold text-slate-900 dark:text-white",children:oe.filter(se=>pr(se)==="ongoing").length})]})]}),c.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white shadow-sm p-6 dark:bg-slate-800 dark:border-slate-700",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-heading font-bold text-slate-900 dark:text-white",children:"Program Templates"}),c.jsx("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:"Templates define stages + courses/videos + task templates. Students start a template to generate a real, editable Program Instance."})]}),c.jsx("button",{type:"button",onClick:he,className:"px-5 py-2.5 rounded-xl bg-slate-900 text-white font-bold text-sm hover:bg-slate-800 transition-colors dark:bg-white dark:text-slate-900",children:"New Template"})]}),s.length===0?c.jsx("div",{className:"mt-6 text-sm text-slate-500 dark:text-slate-400",children:"No templates yet."}):c.jsx("div",{className:"mt-6 grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:s.map(se=>c.jsxs("div",{className:"rounded-2xl border border-slate-200 p-4 hover:shadow-md transition-shadow dark:border-slate-700",children:[c.jsxs("div",{className:"flex items-start justify-between gap-3",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"font-bold text-slate-900 dark:text-white truncate",children:se.name}),c.jsx("div",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400 line-clamp-2",children:se.description})]}),c.jsx(Rr,{value:se.isActive?"active":"archived"})]}),c.jsxs("div",{className:"mt-4 flex items-center justify-between gap-2",children:[c.jsx("button",{type:"button",onClick:()=>Re(se.id),className:"px-4 py-2 rounded-xl border border-slate-200 text-slate-700 font-bold text-xs hover:bg-slate-50 transition-colors dark:border-slate-700 dark:text-slate-200",children:"Edit Structure"}),c.jsx("button",{type:"button",onClick:()=>$r(se.id),className:"px-4 py-2 rounded-xl text-red-600 font-bold text-xs hover:bg-red-50 transition-colors",children:"Delete"})]})]},se.id))})]}),c.jsxs("div",{className:"relative",children:[c.jsx(qi,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"}),c.jsx("input",{type:"text",placeholder:"Search programs...",value:L,onChange:se=>V(se.target.value),className:"w-full pl-12 pr-4 py-3 rounded-2xl border border-slate-200 bg-white text-sm outline-none focus:ring-2 focus:ring-slate-100 focus:border-slate-300 transition-all dark:bg-slate-800 dark:border-slate-700"})]}),c.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white shadow-sm overflow-hidden dark:bg-slate-800 dark:border-slate-700",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-sm text-left",children:[c.jsx("thead",{className:"bg-slate-50 text-slate-500 font-bold font-heading uppercase tracking-wider text-xs border-b border-slate-200 dark:bg-slate-900/50 dark:border-slate-700 dark:text-slate-400",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-4",children:"Program Details"}),c.jsx("th",{className:"px-6 py-4",children:"Duration"}),c.jsx("th",{className:"px-6 py-4",children:"Capacity"}),c.jsx("th",{className:"px-6 py-4",children:"Status"}),c.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:Ko.map(se=>{const P=pr(se);return c.jsxs("tr",{className:"group hover:bg-slate-50/80 transition-colors dark:hover:bg-slate-700/50",children:[c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{children:[c.jsx("div",{className:"font-bold text-slate-900 text-base dark:text-white",children:se.name}),c.jsx("div",{className:"text-xs text-slate-500 mt-1 max-w-md truncate",children:se.description})]})}),c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsxs("span",{className:"text-slate-900 font-bold text-sm dark:text-white",children:[se.durationWeeks," Weeks"]}),c.jsxs("span",{className:"text-xs text-slate-500",children:[wr(se.startDate)," - ",wr(se.endDate)]})]})}),c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-24 h-1.5 bg-slate-100 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-slate-900 rounded-full",style:{width:`${Math.min((se.participantStudentIds?.length||0)/se.capacity*100,100)}%`}})}),c.jsxs("span",{className:"text-xs font-bold text-slate-600",children:[se.participantStudentIds?.length||0," / ",se.capacity]})]})}),c.jsx("td",{className:"px-6 py-4",children:c.jsx(Rr,{value:P})}),c.jsx("td",{className:"px-6 py-4 text-right",children:c.jsxs("div",{className:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[c.jsx("button",{onClick:()=>Er(se),className:"p-2 rounded-lg text-slate-400 hover:bg-slate-100 hover:text-slate-700 transition-colors",children:c.jsx(gM,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>W({open:!0,programId:se.id}),className:"p-2 rounded-lg text-slate-400 hover:bg-red-50 hover:text-red-600 transition-colors",children:c.jsx(yM,{className:"h-4 w-4"})})]})})]},se.id)})})]})})}),c.jsx(ar,{isOpen:N,onClose:C?void 0:()=>_(!1),title:A?"Edit Program":"New Program",footer:c.jsxs("div",{className:"flex gap-3 w-full",children:[c.jsx("button",{onClick:()=>_(!1),disabled:C,className:"flex-1 rounded-xl px-4 py-2.5 text-sm font-bold text-slate-600 hover:bg-slate-50 transition-colors border border-transparent hover:border-slate-200 dark:text-slate-300 dark:hover:bg-slate-700",children:"Cancel"}),c.jsx("button",{onClick:Sn,disabled:C,className:"flex-1 rounded-xl bg-slate-900 px-4 py-2.5 text-sm font-bold text-white shadow-lg shadow-slate-900/20 hover:bg-slate-800 transition-all active:scale-95 disabled:opacity-50 disabled:active:scale-100 dark:bg-white dark:text-slate-900",children:C?"Saving...":"Save Program"})]}),children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1.5 dark:text-slate-300",children:"Name"}),c.jsx("input",{className:`w-full rounded-xl border px-4 py-2.5 text-sm outline-none focus:ring-2 transition-all ${O.name?"border-red-300 focus:ring-red-100":"border-slate-200 focus:border-slate-400 focus:ring-slate-100 dark:border-slate-700 dark:bg-slate-800"}`,value:er.name,onChange:se=>Xr(P=>({...P,name:se.target.value})),placeholder:"e.g. Summer Cohort 2024"}),O.name&&c.jsx("p",{className:"mt-1 text-xs font-bold text-red-500",children:O.name})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1.5 dark:text-slate-300",children:"Description"}),c.jsx("textarea",{className:`w-full rounded-xl border px-4 py-2.5 text-sm outline-none focus:ring-2 transition-all min-h-[100px] ${O.description?"border-red-300 focus:ring-red-100":"border-slate-200 focus:border-slate-400 focus:ring-slate-100 dark:border-slate-700 dark:bg-slate-800"}`,value:er.description,onChange:se=>Xr(P=>({...P,description:se.target.value})),placeholder:"Program goals, requirements..."}),O.description&&c.jsx("p",{className:"mt-1 text-xs font-bold text-red-500",children:O.description})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1.5 dark:text-slate-300",children:"Start Date"}),c.jsx("input",{type:"date",className:`w-full rounded-xl border px-4 py-2.5 text-sm outline-none focus:ring-2 transition-all ${O.startDate?"border-red-300 focus:ring-red-100":"border-slate-200 focus:border-slate-400 focus:ring-slate-100 dark:border-slate-700 dark:bg-slate-800"}`,value:er.startDate,onChange:se=>Xr(P=>({...P,startDate:se.target.value}))}),O.startDate&&c.jsx("p",{className:"mt-1 text-xs font-bold text-red-500",children:O.startDate})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1.5 dark:text-slate-300",children:"End Date"}),c.jsx("input",{type:"date",className:`w-full rounded-xl border px-4 py-2.5 text-sm outline-none focus:ring-2 transition-all ${O.endDate?"border-red-300 focus:ring-red-100":"border-slate-200 focus:border-slate-400 focus:ring-slate-100 dark:border-slate-700 dark:bg-slate-800"}`,value:er.endDate,onChange:se=>Xr(P=>({...P,endDate:se.target.value}))}),O.endDate&&c.jsx("p",{className:"mt-1 text-xs font-bold text-red-500",children:O.endDate})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1.5 dark:text-slate-300",children:"Duration (Weeks)"}),c.jsx("input",{type:"number",className:`w-full rounded-xl border px-4 py-2.5 text-sm outline-none focus:ring-2 transition-all ${O.durationWeeks?"border-red-300 focus:ring-red-100":"border-slate-200 focus:border-slate-400 focus:ring-slate-100 dark:border-slate-700 dark:bg-slate-800"}`,value:er.durationWeeks,onChange:se=>Xr(P=>({...P,durationWeeks:se.target.value})),min:1}),O.durationWeeks&&c.jsx("p",{className:"mt-1 text-xs font-bold text-red-500",children:O.durationWeeks})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1.5 dark:text-slate-300",children:"Capacity"}),c.jsx("input",{type:"number",className:`w-full rounded-xl border px-4 py-2.5 text-sm outline-none focus:ring-2 transition-all ${O.capacity?"border-red-300 focus:ring-red-100":"border-slate-200 focus:border-slate-400 focus:ring-slate-100 dark:border-slate-700 dark:bg-slate-800"}`,value:er.capacity,onChange:se=>Xr(P=>({...P,capacity:se.target.value})),min:1}),O.capacity&&c.jsx("p",{className:"mt-1 text-xs font-bold text-red-500",children:O.capacity})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1.5 dark:text-slate-300",children:"Status"}),c.jsxs("div",{className:"relative",children:[c.jsxs("select",{className:"w-full appearance-none rounded-xl border-slate-200 border px-4 py-2.5 text-sm outline-none focus:ring-2 focus:ring-slate-100 focus:border-slate-400 bg-white dark:bg-slate-800 dark:border-slate-700",value:er.status,onChange:se=>Xr(P=>({...P,status:se.target.value})),children:[c.jsx("option",{value:"active",children:"Active"}),c.jsx("option",{value:"archived",children:"Archived"})]}),c.jsx("div",{className:"pointer-events-none absolute right-4 top-1/2 -translate-y-1/2 text-slate-400",children:c.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[c.jsxs("div",{className:"rounded-xl border border-slate-200 p-4 dark:border-slate-700",children:[c.jsx("div",{className:"text-sm font-bold text-slate-800 dark:text-slate-200",children:"Assign coaches"}),c.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Coaches can manage sessions and review submissions for this cohort."}),c.jsx("div",{className:"mt-3 space-y-2 max-h-48 overflow-auto pr-1",children:qe.length===0?c.jsx("div",{className:"text-sm text-slate-500",children:"No coaches found."}):qe.map(se=>{const P=(er.coachIds??[]).includes(se.id);return c.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-700 dark:text-slate-300",children:[c.jsx("input",{type:"checkbox",checked:P,onChange:z=>{const U=new Set(er.coachIds??[]);z.target.checked?U.add(se.id):U.delete(se.id),Xr(H=>({...H,coachIds:Array.from(U)}))}}),c.jsx("span",{className:"font-medium",children:se.name}),c.jsx("span",{className:"text-xs text-slate-400 truncate",children:se.email})]},se.id)})})]}),c.jsxs("div",{className:"rounded-xl border border-slate-200 p-4 dark:border-slate-700",children:[c.jsx("div",{className:"text-sm font-bold text-slate-800 dark:text-slate-200",children:"Enroll students"}),c.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Students enrolled here will see the program in their dashboard."}),c.jsx("div",{className:"mt-3 space-y-2 max-h-48 overflow-auto pr-1",children:Be.length===0?c.jsx("div",{className:"text-sm text-slate-500",children:"No students found."}):Be.map(se=>{const P=(er.participantStudentIds??[]).includes(se.id);return c.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-700 dark:text-slate-300",children:[c.jsx("input",{type:"checkbox",checked:P,onChange:z=>{const U=new Set(er.participantStudentIds??[]);z.target.checked?U.add(se.id):U.delete(se.id),Xr(H=>({...H,participantStudentIds:Array.from(U)}))}}),c.jsx("span",{className:"font-medium",children:se.name}),c.jsx("span",{className:"text-xs text-slate-400 truncate",children:se.email})]},se.id)})})]})]})]})}),c.jsx(ar,{isOpen:K,onClose:Ge,title:Y==="create"?"Create Template":pe?`Edit Template: ${pe.name}`:"Edit Template",footer:c.jsxs("div",{className:"flex gap-3 w-full",children:[c.jsx("button",{type:"button",onClick:Ge,disabled:ce,className:"flex-1 rounded-xl px-4 py-2.5 text-sm font-bold text-slate-600 hover:bg-slate-50 transition-colors border border-transparent hover:border-slate-200 dark:text-slate-300 dark:hover:bg-slate-700",children:"Close"}),c.jsx("button",{type:"button",onClick:vt,disabled:ce,className:"flex-1 rounded-xl bg-slate-900 px-4 py-2.5 text-sm font-bold text-white hover:bg-slate-800 transition-colors disabled:opacity-50 dark:bg-white dark:text-slate-900",children:ce?"Saving":Y==="create"?"Create Template":"Save Template"})]}),children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"rounded-2xl border border-slate-200 p-4 dark:border-slate-700",children:[c.jsx("div",{className:"text-xs font-bold uppercase tracking-wider text-slate-400",children:"Step 1  Template info"}),c.jsxs("div",{className:"mt-3 grid gap-4 md:grid-cols-2",children:[c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1.5 dark:text-slate-300",children:"Name"}),c.jsx("input",{value:G.name,onChange:se=>{T(P=>({...P,name:se.target.value})),I.name&&$(P=>({...P,name:null}))},placeholder:"e.g. Startup Incubation: IDEA  MVP",className:`w-full rounded-xl border px-4 py-2.5 text-sm outline-none focus:ring-2 transition-all ${I.name?"border-red-300 focus:ring-red-100":"border-slate-200 focus:border-slate-400 focus:ring-slate-100 dark:border-slate-700 dark:bg-slate-800"}`,disabled:ce}),I.name?c.jsx("p",{className:"mt-1 text-xs font-bold text-red-500",children:I.name}):null]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1.5 dark:text-slate-300",children:"Description"}),c.jsx("textarea",{value:G.description,onChange:se=>T(P=>({...P,description:se.target.value})),placeholder:"What is this program template about?",className:"w-full rounded-xl border border-slate-200 px-4 py-2.5 text-sm outline-none focus:ring-2 focus:ring-slate-100 focus:border-slate-400 min-h-[90px] dark:border-slate-700 dark:bg-slate-800",disabled:ce})]}),c.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-slate-200 px-4 py-3 dark:border-slate-700",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-bold text-slate-800 dark:text-slate-200",children:"Active"}),c.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Only active templates can be started by students."})]}),c.jsxs("label",{className:"flex items-center gap-2 text-sm font-bold text-slate-700 dark:text-slate-200",children:[c.jsx("input",{type:"checkbox",checked:!!G.isActive,onChange:se=>T(P=>({...P,isActive:se.target.checked})),disabled:ce}),G.isActive?"Active":"Archived"]})]}),Y==="edit"&&be?c.jsx("button",{type:"button",onClick:()=>$r(be),className:"rounded-xl border border-red-200 px-4 py-3 text-sm font-bold text-red-600 hover:bg-red-50 transition-colors",disabled:ce,children:"Delete template"}):c.jsx("div",{className:"rounded-xl border border-slate-200 px-4 py-3 text-sm text-slate-500 dark:border-slate-700 dark:text-slate-400",children:"Create the template first, then you can add stages."})]})]}),be?ke?c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"text-xs font-bold uppercase tracking-wider text-slate-400",children:"Step 2  Build stages"}),c.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[c.jsxs("div",{className:"rounded-2xl border border-slate-200 p-4 dark:border-slate-700",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"text-sm font-bold text-slate-900 dark:text-white",children:"Stages"}),c.jsx("div",{className:"text-xs text-slate-400",children:(ke.stages??[]).length})]}),(ke.stages??[]).length===0?c.jsx("div",{className:"mt-3 text-sm text-slate-500 dark:text-slate-400",children:"Add your first stage (IDEA, PROTOTYPE, MVP)."}):c.jsx("div",{className:"mt-3 space-y-2",children:(ke.stages??[]).map(se=>{const P=se.id===B,z=(ke.contents??[]).filter(H=>H.stageId===se.id).length,U=(ke.taskTemplates??[]).filter(H=>H.stageId===se.id).length;return c.jsxs("div",{className:`rounded-xl border p-3 transition-colors ${P?"border-slate-300 bg-slate-50 dark:border-slate-600 dark:bg-slate-900/30":"border-slate-200 hover:bg-slate-50 dark:border-slate-700 dark:hover:bg-slate-900/20"}`,children:[c.jsxs("button",{type:"button",onClick:()=>Z(se.id),className:"w-full text-left",disabled:ce,children:[c.jsx("div",{className:"font-bold text-slate-900 dark:text-white truncate",children:se.name}),c.jsxs("div",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400",children:[z," content  ",U," tasks"]})]}),c.jsx("div",{className:"mt-2 flex justify-end",children:c.jsx("button",{type:"button",onClick:()=>qs(se.id),className:"px-2 py-1 rounded-lg text-xs font-bold text-red-600 hover:bg-red-50",disabled:ce,children:"Delete"})})]},se.id)})}),c.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-200 dark:border-slate-700",children:[c.jsx("div",{className:"text-sm font-bold text-slate-900 dark:text-white",children:"Add stage"}),c.jsxs("div",{className:"mt-2 space-y-2",children:[c.jsx("input",{value:ue.name,onChange:se=>je(P=>({...P,name:se.target.value})),placeholder:"Stage name (e.g. IDEA)",className:"w-full rounded-xl border border-slate-200 px-4 py-2 text-sm outline-none focus:ring-2 focus:ring-slate-100 focus:border-slate-400 dark:border-slate-700 dark:bg-slate-800",disabled:ce}),c.jsx("input",{value:ue.description,onChange:se=>je(P=>({...P,description:se.target.value})),placeholder:"Short description (optional)",className:"w-full rounded-xl border border-slate-200 px-4 py-2 text-sm outline-none focus:ring-2 focus:ring-slate-100 focus:border-slate-400 dark:border-slate-700 dark:bg-slate-800",disabled:ce}),c.jsx("button",{type:"button",onClick:Ho,disabled:ce,className:"w-full rounded-xl bg-slate-900 px-4 py-2 text-sm font-bold text-white hover:bg-slate-800 transition-colors disabled:opacity-50 dark:bg-white dark:text-slate-900",children:"Add stage"})]})]})]}),c.jsx("div",{className:"md:col-span-2 rounded-2xl border border-slate-200 p-4 dark:border-slate-700",children:B?(()=>{const se=(ke.stages??[]).find(U=>U.id===B),P=(ke.contents??[]).filter(U=>U.stageId===B),z=(ke.taskTemplates??[]).filter(U=>U.stageId===B);return se?c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-bold text-slate-900 dark:text-white",children:"Selected stage"}),c.jsx("div",{className:"mt-1 text-lg font-heading font-bold text-slate-900 dark:text-white",children:se.name}),se.description?c.jsx("div",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:se.description}):null]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"text-sm font-bold text-slate-900 dark:text-white",children:"Content (videos/courses)"}),c.jsx("div",{className:"text-xs text-slate-400",children:P.length})]}),P.length===0?c.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:"No content yet."}):c.jsx("div",{className:"space-y-2",children:P.map(U=>c.jsxs("div",{className:"flex items-start justify-between gap-3 rounded-xl border border-slate-200 p-3 dark:border-slate-700",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"font-bold text-slate-900 dark:text-white truncate",children:U.title}),c.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 truncate",children:[String(U.contentType??"").toUpperCase(),"  ",U.url]}),U.provider||U.durationMinutes?c.jsxs("div",{className:"mt-1 text-xs text-slate-400",children:[U.provider?U.provider:null,U.provider&&U.durationMinutes?"  ":null,U.durationMinutes?`${U.durationMinutes} min`:null]}):null]}),c.jsx("button",{type:"button",onClick:()=>Vs(U.id),className:"px-2 py-1 rounded-lg text-xs font-bold text-red-600 hover:bg-red-50",disabled:ce,children:"Delete"})]},U.id))}),c.jsxs("div",{className:"rounded-xl border border-slate-200 p-3 dark:border-slate-700",children:[c.jsx("div",{className:"text-sm font-bold text-slate-900 dark:text-white",children:"Add content"}),c.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-2",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"Type"}),c.jsxs("select",{value:Oe.contentType,onChange:U=>Q(H=>({...H,contentType:U.target.value})),className:"w-full rounded-xl border border-slate-200 px-4 py-2 text-sm outline-none focus:ring-2 focus:ring-slate-100 focus:border-slate-400 bg-white dark:bg-slate-800 dark:border-slate-700",disabled:ce,children:[c.jsx("option",{value:"video",children:"Video"}),c.jsx("option",{value:"course",children:"Course"}),c.jsx("option",{value:"article",children:"Article"}),c.jsx("option",{value:"link",children:"Link"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"Duration (min)"}),c.jsx("input",{value:Oe.durationMinutes,onChange:U=>Q(H=>({...H,durationMinutes:U.target.value})),placeholder:"optional",type:"number",className:"w-full rounded-xl border border-slate-200 px-4 py-2 text-sm outline-none focus:ring-2 focus:ring-slate-100 focus:border-slate-400 dark:border-slate-700 dark:bg-slate-800",disabled:ce,min:0})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"Title"}),c.jsx("input",{value:Oe.title,onChange:U=>Q(H=>({...H,title:U.target.value})),placeholder:"e.g. Customer discovery basics",className:"w-full rounded-xl border border-slate-200 px-4 py-2 text-sm outline-none focus:ring-2 focus:ring-slate-100 focus:border-slate-400 dark:border-slate-700 dark:bg-slate-800",disabled:ce})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"URL"}),c.jsx("input",{value:Oe.url,onChange:U=>Q(H=>({...H,url:U.target.value})),placeholder:"https://...",className:"w-full rounded-xl border border-slate-200 px-4 py-2 text-sm outline-none focus:ring-2 focus:ring-slate-100 focus:border-slate-400 dark:border-slate-700 dark:bg-slate-800",disabled:ce})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"Provider"}),c.jsx("input",{value:Oe.provider,onChange:U=>Q(H=>({...H,provider:U.target.value})),placeholder:"YouTube, Coursera (optional)",className:"w-full rounded-xl border border-slate-200 px-4 py-2 text-sm outline-none focus:ring-2 focus:ring-slate-100 focus:border-slate-400 dark:border-slate-700 dark:bg-slate-800",disabled:ce})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"Description"}),c.jsx("input",{value:Oe.description,onChange:U=>Q(H=>({...H,description:U.target.value})),placeholder:"optional",className:"w-full rounded-xl border border-slate-200 px-4 py-2 text-sm outline-none focus:ring-2 focus:ring-slate-100 focus:border-slate-400 dark:border-slate-700 dark:bg-slate-800",disabled:ce})]}),c.jsx("div",{className:"md:col-span-2",children:c.jsx("button",{type:"button",onClick:Ar,disabled:ce,className:"w-full rounded-xl bg-slate-900 px-4 py-2 text-sm font-bold text-white hover:bg-slate-800 transition-colors disabled:opacity-50 dark:bg-white dark:text-slate-900",children:"Add content"})})]})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"text-sm font-bold text-slate-900 dark:text-white",children:"Tasks"}),c.jsx("div",{className:"text-xs text-slate-400",children:z.length})]}),z.length===0?c.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:"No tasks yet."}):c.jsx("div",{className:"space-y-2",children:z.map(U=>c.jsxs("div",{className:"flex items-start justify-between gap-3 rounded-xl border border-slate-200 p-3 dark:border-slate-700",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"font-bold text-slate-900 dark:text-white truncate",children:U.title}),c.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:[U.dueOffsetDays!==null?`Due +${U.dueOffsetDays}d`:"No default deadline",U.requiresApproval?"  Approval required":"  No approval"]})]}),c.jsx("button",{type:"button",onClick:()=>ri(U.id),className:"px-2 py-1 rounded-lg text-xs font-bold text-red-600 hover:bg-red-50",disabled:ce,children:"Delete"})]},U.id))}),c.jsxs("div",{className:"rounded-xl border border-slate-200 p-3 dark:border-slate-700",children:[c.jsx("div",{className:"text-sm font-bold text-slate-900 dark:text-white",children:"Add task"}),c.jsxs("div",{className:"mt-3 grid gap-3 md:grid-cols-2",children:[c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"Title"}),c.jsx("input",{value:de.title,onChange:U=>Ee(H=>({...H,title:U.target.value})),placeholder:"e.g. Submit problem statement",className:"w-full rounded-xl border border-slate-200 px-4 py-2 text-sm outline-none focus:ring-2 focus:ring-slate-100 focus:border-slate-400 dark:border-slate-700 dark:bg-slate-800",disabled:ce})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"Description"}),c.jsx("input",{value:de.description,onChange:U=>Ee(H=>({...H,description:U.target.value})),placeholder:"optional",className:"w-full rounded-xl border border-slate-200 px-4 py-2 text-sm outline-none focus:ring-2 focus:ring-slate-100 focus:border-slate-400 dark:border-slate-700 dark:bg-slate-800",disabled:ce})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:"Due offset (days)"}),c.jsx("input",{value:de.dueOffsetDays,onChange:U=>Ee(H=>({...H,dueOffsetDays:U.target.value})),placeholder:"optional",type:"number",className:"w-full rounded-xl border border-slate-200 px-4 py-2 text-sm outline-none focus:ring-2 focus:ring-slate-100 focus:border-slate-400 dark:border-slate-700 dark:bg-slate-800",disabled:ce})]}),c.jsx("div",{className:"flex items-end",children:c.jsxs("label",{className:"flex items-center gap-2 text-sm font-bold text-slate-700 dark:text-slate-200",children:[c.jsx("input",{type:"checkbox",checked:!!de.requiresApproval,onChange:U=>Ee(H=>({...H,requiresApproval:U.target.checked})),disabled:ce}),"Requires approval"]})}),c.jsx("div",{className:"md:col-span-2",children:c.jsx("button",{type:"button",onClick:Fo,disabled:ce,className:"w-full rounded-xl bg-slate-900 px-4 py-2 text-sm font-bold text-white hover:bg-slate-800 transition-colors disabled:opacity-50 dark:bg-white dark:text-slate-900",children:"Add task"})})]})]})]})]}):c.jsx("div",{className:"text-sm text-slate-500",children:"Stage not found."})})():c.jsx("div",{className:"text-sm text-slate-500",children:"Select a stage to add content and tasks."})})]})]}):c.jsx("div",{className:"text-sm text-slate-500",children:"Loading template structure"}):null]})}),c.jsx(Id,{isOpen:te.open,title:"Delete Program?",description:"This will permanently remove the program and its associated data.",confirmLabel:"Delete Program",isDanger:!0,onClose:()=>W({open:!1,programId:null}),onConfirm:async()=>{if(te.programId){D(!0);try{await r(te.programId),a({type:"success",title:"Deleted",message:"Program removed."}),W({open:!1,programId:null})}finally{D(!1)}}},isLoading:C})]})}const t7={name:[va.required("Name")],email:[va.required("Email"),va.email("Email")],role:[va.required("Role")]};function r7(){const{data:e,upsertUser:t,deleteUser:r}=Pt(),{push:n}=Da(),[a,s]=y.useState(!1),[l,u]=y.useState(null),[f,h]=y.useState({name:"",email:"",role:"student"}),[m,g]=y.useState({}),[v,x]=y.useState(!1),[w,S]=y.useState({open:!1,userId:null}),[N,_]=y.useState(""),A=y.useMemo(()=>e?.users??[],[e?.users]),k=y.useMemo(()=>{if(!N)return A;const D=N.toLowerCase();return A.filter(L=>L.name.toLowerCase().includes(D)||L.email.toLowerCase().includes(D)||L.role.toLowerCase().includes(D))},[A,N]),O=()=>{u(null),h({name:"",email:"",role:"student"}),g({}),s(!0)},M=D=>{u(D),h({id:D.id,name:D.name??"",email:D.email??"",role:D.role??"student"}),g({}),s(!0)},C=async()=>{const D=_M(t7,f);if(g(D),!Object.keys(D).length){x(!0);try{await t(f),n({type:"success",title:"Saved",message:"User updated."}),s(!1)}catch(L){n({type:"danger",title:"Error",message:L?.message??"Failed to save user"})}finally{x(!1)}}};return c.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-heading font-bold text-slate-900 dark:text-white",children:"Users"}),c.jsx("p",{className:"mt-2 text-lg text-slate-500 font-medium",children:"Manage students, alumni, coaches, and administrators."})]}),c.jsxs("button",{onClick:O,className:"flex items-center gap-2 px-5 py-2.5 rounded-xl bg-slate-900 text-white font-bold text-sm hover:bg-slate-800 shadow-md shadow-slate-900/10 transition-colors dark:bg-white dark:text-slate-900",children:[c.jsx(Ei,{className:"h-4 w-4"})," Add User"]})]}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:["student","coach","admin","alumni"].map(D=>c.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-slate-200 shadow-sm dark:bg-slate-800 dark:border-slate-700",children:[c.jsxs("div",{className:"text-xs font-bold uppercase tracking-wider text-slate-400 mb-1",children:[D,"s"]}),c.jsx("div",{className:"text-2xl font-heading font-bold text-slate-900 capitalize dark:text-white",children:A.filter(L=>L.role===D).length})]},D))}),c.jsxs("div",{className:"relative",children:[c.jsx(qi,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"}),c.jsx("input",{type:"text",placeholder:"Search users by name, email, or role...",value:N,onChange:D=>_(D.target.value),className:"w-full pl-12 pr-4 py-3 rounded-2xl border border-slate-200 bg-white text-sm outline-none focus:ring-2 focus:ring-slate-100 focus:border-slate-300 transition-all dark:bg-slate-800 dark:border-slate-700"})]}),c.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white shadow-sm overflow-hidden dark:bg-slate-800 dark:border-slate-700",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-sm text-left",children:[c.jsx("thead",{className:"bg-slate-50 text-slate-500 font-bold font-heading uppercase tracking-wider text-xs border-b border-slate-200 dark:bg-slate-900/50 dark:border-slate-700 dark:text-slate-400",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-4",children:"User Details"}),c.jsx("th",{className:"px-6 py-4",children:"Role"}),c.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),c.jsxs("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[k.map(D=>c.jsxs("tr",{className:"group hover:bg-slate-50/80 transition-colors dark:hover:bg-slate-700/50",children:[c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"h-10 w-10 rounded-full bg-slate-100 flex items-center justify-center font-bold text-slate-500 text-sm ring-2 ring-white shadow-sm dark:bg-slate-700 dark:text-slate-300 dark:ring-slate-800",children:D.name.charAt(0)}),c.jsxs("div",{children:[c.jsx("div",{className:"font-bold text-slate-900 dark:text-white",children:D.name}),c.jsxs("div",{className:"text-xs text-slate-500 font-medium flex items-center gap-1.5",children:[c.jsx(dM,{className:"h-3 w-3"})," ",D.email]})]})]})}),c.jsx("td",{className:"px-6 py-4",children:c.jsxs("span",{className:`inline-flex items-center gap-1.5 rounded-full px-3 py-1 text-xs font-bold border ${D.role==="admin"?"bg-slate-100 text-slate-700 border-slate-200":D.role==="coach"?"bg-indigo-50 text-indigo-700 border-indigo-100":"bg-blue-50 text-blue-700 border-blue-100"}`,children:[D.role==="admin"?c.jsx(sb,{className:"h-3 w-3"}):D.role==="coach"?c.jsx(Co,{className:"h-3 w-3"}):c.jsx(Co,{className:"h-3 w-3"}),c.jsx("span",{className:"capitalize",children:D.role})]})}),c.jsx("td",{className:"px-6 py-4 text-right",children:c.jsxs("div",{className:"flex items-center justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[c.jsx("button",{onClick:()=>M(D),className:"p-2 rounded-lg text-slate-400 hover:bg-slate-100 hover:text-slate-700 transition-colors dark:hover:bg-slate-700 dark:hover:text-slate-300",children:c.jsx(gM,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>S({open:!0,userId:D.id}),className:"p-2 rounded-lg text-slate-400 hover:bg-red-50 hover:text-red-600 transition-colors dark:hover:bg-red-900/20 dark:hover:text-red-400",children:c.jsx(yM,{className:"h-4 w-4"})})]})})]},D.id)),k.length===0&&c.jsx("tr",{children:c.jsxs("td",{colSpan:3,className:"px-6 py-12 text-center text-slate-400",children:['No users found matching "',N,'".']})})]})]})})}),c.jsx(ar,{isOpen:a,onClose:v?void 0:()=>s(!1),title:l?"Edit User":"New User",footer:c.jsxs("div",{className:"flex gap-3 w-full",children:[c.jsx("button",{onClick:()=>s(!1),disabled:v,className:"flex-1 rounded-xl px-4 py-2.5 text-sm font-bold text-slate-600 hover:bg-slate-50 transition-colors border border-transparent hover:border-slate-200 dark:text-slate-300 dark:hover:bg-slate-700",children:"Cancel"}),c.jsx("button",{onClick:C,disabled:v,className:"flex-1 rounded-xl bg-slate-900 px-4 py-2.5 text-sm font-bold text-white shadow-lg shadow-slate-900/20 hover:bg-slate-800 transition-all active:scale-95 disabled:opacity-50 disabled:active:scale-100 dark:bg-white dark:text-slate-900",children:v?"Saving...":"Save User"})]}),children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1.5 dark:text-slate-300",children:"Full Name"}),c.jsx("input",{className:`w-full rounded-xl border px-4 py-2.5 text-sm outline-none focus:ring-2 transition-all ${m.name?"border-red-300 focus:ring-red-100":"border-slate-200 focus:border-slate-400 focus:ring-slate-100 dark:border-slate-700 dark:bg-slate-800"}`,value:f.name,onChange:D=>h(L=>({...L,name:D.target.value})),placeholder:"e.g. John Doe"}),m.name&&c.jsx("p",{className:"mt-1 text-xs font-bold text-red-500",children:m.name})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1.5 dark:text-slate-300",children:"Email Address"}),c.jsx("input",{className:`w-full rounded-xl border px-4 py-2.5 text-sm outline-none focus:ring-2 transition-all ${m.email?"border-red-300 focus:ring-red-100":"border-slate-200 focus:border-slate-400 focus:ring-slate-100 dark:border-slate-700 dark:bg-slate-800"}`,value:f.email,onChange:D=>h(L=>({...L,email:D.target.value})),placeholder:"name@example.com"}),m.email&&c.jsx("p",{className:"mt-1 text-xs font-bold text-red-500",children:m.email})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-1.5 dark:text-slate-300",children:"Role"}),c.jsxs("div",{className:"relative",children:[c.jsxs("select",{className:`w-full appearance-none rounded-xl border px-4 py-2.5 text-sm outline-none focus:ring-2 transition-all bg-white dark:bg-slate-800 ${m.role?"border-red-300 focus:ring-red-100":"border-slate-200 focus:border-slate-400 focus:ring-slate-100 dark:border-slate-700"}`,value:f.role,onChange:D=>h(L=>({...L,role:D.target.value})),children:[c.jsx("option",{value:"student",children:"Student"}),c.jsx("option",{value:"coach",children:"Coach"}),c.jsx("option",{value:"admin",children:"Administrator"})]}),c.jsx("div",{className:"pointer-events-none absolute right-4 top-1/2 -translate-y-1/2 text-slate-400",children:c.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),m.role&&c.jsx("p",{className:"mt-1 text-xs font-bold text-red-500",children:m.role})]})]})}),c.jsx(Id,{isOpen:w.open,title:"Delete User?",description:"This will permanently remove the user and their associated data from the system.",confirmLabel:"Delete User",isDanger:!0,onClose:()=>S({open:!1,userId:null}),onConfirm:async()=>{if(w.userId){x(!0);try{await r(w.userId),n({type:"success",title:"Deleted",message:"User removed."}),S({open:!1,userId:null})}finally{x(!1)}}},isLoading:v})]})}function kM(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=kM(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function it(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=kM(e))&&(n&&(n+=" "),n+=t);return n}function ft(...e){return it(e)}function n7(){const{data:e,setApplicationStatus:t,getUserById:r,getProgramById:n}=Pt(),{currentUser:a}=_t(),{push:s}=Da(),[l,u]=y.useState(null),[f,h]=y.useState(""),[m,g]=y.useState(!1),v=y.useMemo(()=>(e?.applications??[]).map(_=>{const A=r(_.studentId),k=n(_.programId),O=_.status==="pending"?null:_.status==="rejected"?(40+_.id.length*5)%60:(70+_.id.length*3)%30+70;return{..._,studentName:A?.name??_.studentId,studentEmail:A?.email??"",programName:k?.name??_.programId,score:O}}),[e,r,n]),x=N=>{u(N),h(N.decisionNote??"")},w=async N=>{if(l){g(!0);try{await t({applicationId:l.id,status:N,decisionNote:f,actorId:a?.id??null}),s({type:"success",title:"Updated",message:`Application marked ${N}.`}),u(null)}catch(_){s({type:"danger",title:"Error",message:_?.message??"Failed to update"})}finally{g(!1)}}},S=[{key:"student",header:"Student",accessor:N=>N.studentName,cell:N=>c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-foreground",children:N.studentName}),c.jsx("div",{className:"mt-1 text-xs text-muted-foreground",children:N.studentEmail})]})},{key:"idea",header:"Project Idea",accessor:N=>N.motivation,cell:N=>c.jsx("div",{className:"max-w-xs truncate text-sm",title:N.motivation,children:N.motivation})},{key:"createdAt",header:"Submitted",accessor:N=>rn(N.createdAt),sortValue:N=>N.createdAt},{key:"score",header:"Score",accessor:N=>N.score,cell:N=>N.score?c.jsxs("span",{className:ft("font-semibold",N.score>=70?"text-success-700":"text-danger-700"),children:[N.score,"/100"]}):c.jsx("span",{className:"text-muted-foreground",children:"-"})},{key:"status",header:"Status",accessor:N=>N.status,cell:N=>c.jsx(Rr,{value:N.status})},{key:"actions",header:"",accessor:()=>"",searchable:!1,sortable:!1,cell:N=>c.jsx("div",{className:"flex justify-end",children:c.jsxs("button",{type:"button",className:"btn-ghost flex items-center gap-1 text-xs",onClick:()=>x(N),children:[c.jsx(cM,{className:"h-4 w-4"})," Review"]})})}];return c.jsxs("div",{className:"space-y-4",children:[c.jsx(He,{title:"Applications",subtitle:"Review and decide student applications"}),c.jsx(Sp,{title:"All applications",rows:v,columns:S,exportFilename:"applications.csv",initialSort:{key:"createdAt",dir:"desc"}}),c.jsx(ar,{open:!!l,title:l?`Application  ${l.studentName}`:"Application",onClose:m?void 0:()=>u(null),footer:l?c.jsxs(c.Fragment,{children:[c.jsx("button",{type:"button",className:"btn-ghost",onClick:()=>u(null),disabled:m,children:"Close"}),c.jsx("button",{type:"button",className:"btn-danger",onClick:()=>w("rejected"),disabled:m,children:"Reject"}),c.jsx("button",{type:"button",className:"btn-primary",onClick:()=>w("accepted"),disabled:m,children:"Accept"})]}):null,children:l?c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"grid gap-2 md:grid-cols-2",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:"Program"}),c.jsx("div",{className:"text-sm font-medium text-foreground",children:l.programName})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:"Status"}),c.jsx("div",{className:"mt-1",children:c.jsx(Rr,{value:l.status})})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:"Motivation"}),c.jsx("div",{className:"mt-1 text-sm text-foreground",children:l.motivation})]}),(l.status==="accepted"||l.status==="rejected")&&l.score&&c.jsxs("div",{children:[c.jsx("div",{className:"text-xs uppercase tracking-wide text-muted-foreground",children:"Evaluation Score"}),c.jsxs("div",{className:ft("mt-1 text-lg font-bold",l.score>=70?"text-success-700":"text-danger-700"),children:[l.score,"/100"]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Decision note (optional)"}),c.jsx("textarea",{className:"input min-h-24",value:f,onChange:N=>h(N.target.value),placeholder:"Add a short note"})]})]}):null})]})}function _h({title:e,message:t}){return c.jsxs("div",{className:"surface p-6",children:[c.jsx("div",{className:"text-sm font-semibold text-foreground",children:e}),c.jsx("div",{className:"mt-2 text-sm text-muted-foreground",children:t})]})}const ba={idea:"Idea",prototype:"Prototype",mvp:"MVP"},ot={idea:"IDEA",document:"DOCUMENT",demoLink:"DEMO_LINK",video:"VIDEO"},wa={pending:"Pending",reviewed:"Reviewed",approved:"Approved"},Jh=e=>{switch(e){case ot.idea:return"Idea";case ot.document:return"Document";case ot.demoLink:return"Demo link";case ot.video:return"Video";default:return String(e??"Submission")}},z2=e=>{if(!e)return ba.idea;if(Object.values(ba).includes(e))return e;const t=String(e).toLowerCase();return t==="idea"?ba.idea:t==="prototype"?ba.prototype:t==="mvp"?ba.mvp:ba.idea},AM=e=>(e??[]).some(t=>t.type===ot.idea),ob=e=>{const t={},r=(a,s)=>{const l=e?.[a];String(l??"").trim()||(t[a]=`${s} is required`)};r("title","Project title"),r("problemStatement","Problem statement"),r("targetUsers","Target users"),r("proposedSolution","Proposed solution");const n=e?.stage;return Object.values(ba).includes(n)||(t.stage="Project stage is required"),{ok:Object.keys(t).length===0,errors:t}},at={text:"TEXT",file:"FILE",link:"LINK",checklist:"CHECKLIST"},jr={pending:"PENDING",submitted:"SUBMITTED",reviewed:"REVIEWED",approved:"APPROVED",revision:"REVISION"},Xw=e=>{const t=String(e??"").toUpperCase();return t===at.text?"Text":t===at.file?"File":t===at.link?"Link":t===at.checklist?"Checklist":"Task"},Zw=e=>{const t=String(e??"").toUpperCase();return t===jr.pending?"Pending":t===jr.submitted?"Submitted":t===jr.reviewed?"Reviewed":t===jr.approved?"Approved":t===jr.revision?"Revision":"Pending"},a7=e=>{const t=String(e??"").toUpperCase();return t===jr.pending||t===jr.revision},i7=e=>String(e??"").toUpperCase()===jr.submitted,q2=e=>{const t=String(e??jr.pending).toUpperCase();return Object.values(jr).includes(t)?t:jr.pending},V2=e=>{const t=String(e??at.text).toUpperCase();return Object.values(at).includes(t)?t:at.text};function EM({status:e}){const t=String(e??jr.pending).toUpperCase();return c.jsx(Rr,{value:t.toLowerCase()})}const s7={[ot.idea]:V8,[ot.document]:Md,[ot.demoLink]:uM,[ot.video]:Rd};function ws({label:e,children:t}){return c.jsxs("div",{children:[c.jsx("div",{className:"text-xs font-bold uppercase tracking-wider text-slate-400",children:e}),c.jsx("div",{className:"mt-1 text-sm text-slate-700 leading-relaxed",children:t})]})}function Qw({submissions:e,tasks:t,getUserById:r,allowComment:n,allowReview:a,currentUserId:s,onComment:l,onSetStatus:u}){const f=y.useMemo(()=>{const h=[];for(const m of e??[])h.push({kind:"submission",id:m.id,at:m.createdAt,submission:m});for(const m of t??[])h.push({kind:"task",id:m.id,at:m.createdAt,task:m});return h.sort((m,g)=>new Date(m.at)-new Date(g.at))},[e,t]);return f.length===0?c.jsx("div",{className:"rounded-xl border border-slate-200 bg-white p-6 text-sm text-slate-500",children:"No activity yet."}):c.jsx("div",{className:"space-y-4",children:f.map(h=>h.kind==="submission"?c.jsx(l7,{submission:h.submission,getUserById:r,allowComment:n,allowReview:a,currentUserId:s,onComment:l,onSetStatus:u},`sub:${h.id}`):c.jsx(o7,{task:h.task,getUserById:r},`tsk:${h.id}`))})}function o7({task:e,getUserById:t}){const r=e?.createdBy?t?.(e.createdBy):null;return c.jsx(He,{title:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"h-9 w-9 rounded-xl bg-slate-100 flex items-center justify-center text-slate-700",children:c.jsx(Aa,{className:"h-5 w-5"})}),c.jsxs("div",{children:[c.jsxs("div",{className:"font-heading font-bold text-slate-900",children:["Task: ",e?.title]}),c.jsxs("div",{className:"text-xs text-slate-500",children:[Xw(e?.taskType),"  ",Zw(e?.status),"  ",rn(e?.createdAt)]})]})]}),actions:c.jsx("div",{className:"flex items-center gap-2",children:c.jsx(EM,{status:e?.status})}),children:c.jsxs("div",{className:"space-y-4",children:[e?.description?c.jsx("div",{className:"text-sm text-slate-700 whitespace-pre-wrap",children:e.description}):c.jsx("div",{className:"text-sm text-slate-500",children:"No description."}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-4",children:[c.jsx("div",{className:"text-xs font-bold uppercase tracking-wider text-slate-400",children:"Created by"}),c.jsx("div",{className:"mt-1 text-sm font-semibold text-slate-800",children:r?.name??e?.createdBy??"Coach"})]}),c.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-4",children:[c.jsx("div",{className:"text-xs font-bold uppercase tracking-wider text-slate-400",children:"Student submission"}),c.jsx("div",{className:"mt-1 text-sm text-slate-700",children:e?.studentSubmission?"Submitted":"Not submitted yet."})]})]}),e?.coachFeedback?c.jsxs("div",{className:"rounded-xl border border-blue-200 bg-blue-50 p-4",children:[c.jsx("div",{className:"text-xs font-bold uppercase tracking-wider text-blue-700",children:"Coach feedback"}),c.jsx("div",{className:"mt-2 text-sm text-blue-900 whitespace-pre-wrap",children:e.coachFeedback})]}):null]})})}function l7({submission:e,getUserById:t,allowComment:r,allowReview:n,currentUserId:a,onComment:s,onSetStatus:l}){const u=s7[e.type]??Md,[f,h]=y.useState(""),m=String(e.status??wa.pending).toLowerCase(),g=m==="approved"?"approved":m==="reviewed"?"reviewed":"pending",v=e.comments??[],x=e.payload??{},w=(()=>{if(e.type===ot.idea)return c.jsxs("div",{className:"space-y-4",children:[c.jsx(ws,{label:"Problem statement",children:x.problemStatement}),c.jsx(ws,{label:"Target users",children:x.targetUsers}),c.jsx(ws,{label:"Proposed solution",children:x.proposedSolution}),c.jsx(ws,{label:"Stage",children:x.stage})]});if(e.type===ot.document){const S=x.file;return c.jsxs("div",{className:"space-y-2",children:[c.jsx(ws,{label:"PDF",children:S?.fileName??"Document"}),S?.localUrl?c.jsx("a",{className:"text-sm font-semibold text-blue-600 hover:underline",href:S.localUrl,target:"_blank",rel:"noreferrer",children:"Open document"}):null,x.note?c.jsx("div",{className:"text-xs text-slate-500",children:x.note}):null]})}if(e.type===ot.demoLink)return c.jsx("div",{className:"space-y-2",children:c.jsx(ws,{label:"Demo link",children:c.jsx("a",{className:"text-blue-600 hover:underline",href:x.url,target:"_blank",rel:"noreferrer",children:x.url})})});if(e.type===ot.video){const S=x.file;return c.jsxs("div",{className:"space-y-2",children:[x.url?c.jsx(ws,{label:"Video link",children:c.jsx("a",{className:"text-blue-600 hover:underline",href:x.url,target:"_blank",rel:"noreferrer",children:x.url})}):null,S?.fileName?c.jsx(ws,{label:"Video file",children:S.fileName}):null,S?.localUrl?c.jsx("a",{className:"text-sm font-semibold text-blue-600 hover:underline",href:S.localUrl,target:"_blank",rel:"noreferrer",children:"Open video"}):null,x.note?c.jsx("div",{className:"text-xs text-slate-500",children:x.note}):null]})}return c.jsx("div",{className:"text-sm text-slate-600",children:"Submission details unavailable."})})();return c.jsx(He,{title:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"h-9 w-9 rounded-xl bg-slate-100 flex items-center justify-center text-slate-700",children:c.jsx(u,{className:"h-5 w-5"})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-heading font-bold text-slate-900",children:Jh(e.type)}),c.jsx("div",{className:"text-xs text-slate-500",children:rn(e.createdAt)})]})]}),actions:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Rr,{value:g}),n?c.jsxs(c.Fragment,{children:[g==="pending"?c.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>l?.({submissionId:e.id,status:wa.reviewed,reviewerId:a}),children:"Mark reviewed"}):null,g!=="approved"?c.jsx("button",{type:"button",className:"btn-primary",onClick:()=>l?.({submissionId:e.id,status:wa.approved,reviewerId:a}),children:"Approve"}):null]}):null]}),children:c.jsxs("div",{className:"space-y-6",children:[w,c.jsxs("div",{children:[c.jsx("div",{className:"text-xs font-bold uppercase tracking-wider text-slate-400 mb-2",children:"Feedback"}),v.length===0?c.jsx("div",{className:"text-sm text-slate-500",children:"No feedback yet."}):c.jsx("div",{className:"space-y-2",children:v.map(S=>{const N=t?.(S.authorId);return c.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[c.jsxs("div",{className:"flex items-center justify-between gap-3",children:[c.jsx("div",{className:"text-sm font-bold text-slate-800 truncate",children:N?.name??"Coach"}),c.jsx("div",{className:"text-xs text-slate-500",children:rn(S.createdAt)})]}),c.jsx("div",{className:"mt-1 text-sm text-slate-700 whitespace-pre-wrap",children:S.text})]},S.id)})}),r?c.jsxs("div",{className:"mt-3 flex items-end gap-2",children:[c.jsx("textarea",{className:"input min-h-[44px]",value:f,onChange:S=>h(S.target.value),placeholder:"Write feedback"}),c.jsx("button",{type:"button",className:"btn-primary",disabled:!String(f).trim(),onClick:async()=>{const S=String(f).trim();S&&(await s?.({submissionId:e.id,text:S}),h(""))},children:"Send"})]}):null]})]})})}function c7(){const{currentUser:e}=_t(),{listProjects:t,listProjectSubmissions:r,listTasks:n,getUserById:a,addProjectSubmissionComment:s,setProjectSubmissionStatus:l}=Pt(),[u,f]=y.useState(null),h=y.useMemo(()=>t().map(w=>{const S=r({projectId:w.id}),N=S.filter(A=>String(A.status).toLowerCase()==="pending").length,_=a?.(w.studentId);return{...w,studentName:_?.name??"Student",submissionsCount:S.length,pendingCount:N}}),[a,r,t]),m=y.useMemo(()=>u?t().find(x=>x.id===u)??null:null,[t,u]),g=y.useMemo(()=>m?.id?r({projectId:m.id}):[],[r,m]),v=y.useMemo(()=>m?.id?n?.({projectId:m.id})??[]:[],[n,m]);return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-heading font-bold text-slate-900",children:"Projects"}),c.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Monitor progress and stages across all students."})]}),c.jsx(Sp,{title:"All projects",rows:h,exportFilename:"projects.csv",getRowId:x=>x.id,initialSort:{key:"updatedAt",dir:"desc"},columns:[{key:"title",header:"Title",accessor:x=>x.title},{key:"student",header:"Student",accessor:x=>x.studentName},{key:"stage",header:"Stage",accessor:x=>x.stage},{key:"submissions",header:"Submissions",accessor:x=>x.submissionsCount,align:"right"},{key:"pending",header:"Pending",accessor:x=>x.pendingCount,align:"right",cell:x=>c.jsxs("div",{className:"flex items-center justify-end gap-2",children:[c.jsx(Rr,{value:x.pendingCount>0?"pending":"active"}),c.jsx("span",{className:"tabular-nums",children:x.pendingCount})]})},{key:"updatedAt",header:"Last updated",accessor:x=>new Date(x.updatedAt).toLocaleString(),sortValue:x=>x.updatedAt},{key:"actions",header:"",accessor:()=>"",searchable:!1,sortable:!1,align:"right",cell:x=>c.jsx("div",{className:"flex justify-end",children:c.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>f(x.id),children:"Review"})})}]}),c.jsx(ar,{open:!!m,title:m?`Project  ${m.title}`:"Project",onClose:()=>f(null),footer:c.jsx("button",{type:"button",className:"btn-ghost",onClick:()=>f(null),children:"Close"}),children:m?c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-4",children:[c.jsx("div",{className:"text-xs font-bold uppercase tracking-wider text-slate-400",children:"Student"}),c.jsx("div",{className:"mt-1 text-sm font-semibold text-slate-800",children:a?.(m.studentId)?.name??m.studentId}),c.jsx("div",{className:"mt-2 text-xs text-slate-500",children:"Use this view to approve IDEA submissions and review progress."})]}),c.jsx(Qw,{submissions:g,tasks:v,getUserById:a,allowComment:!0,allowReview:!0,currentUserId:e?.id??"admin",onComment:async({submissionId:x,text:w})=>{await s?.({submissionId:x,authorId:e?.id??"admin",text:w})},onSetStatus:async({submissionId:x,status:w})=>{await l?.({submissionId:x,status:w,reviewerId:e?.id??"admin"})}})]}):null})]})}function u7(){const{currentUser:e}=_t(),{data:t,markAsRead:r}=Pt(),n=Ja(),[a,s]=y.useState(null),l=y.useRef(null),u=y.useMemo(()=>{if(!e?.id||!t)return null;const h=(t.programs??[]).filter(x=>x.coachIds.includes(e.id)),m=h.map(x=>x.id),g=new Set;return h.forEach(x=>{x.participantStudentIds.forEach(w=>g.add(w))}),{students:(t.users??[]).filter(x=>g.has(x.id)).map(x=>{const w=(t.deliverables??[]).filter(N=>m.includes(N.programId)&&N.assignedStudentIds.includes(x.id)&&new Date(N.dueDate)<new Date&&!N.submissions?.some(_=>_.studentId===x.id)).length,S=(t.messages??[]).filter(N=>N.senderId===x.id&&N.receiverId===e.id&&!N.readAt).length;return{...x,overdueCount:w,unreadCount:S,attentionLevel:w>0?"high":S>0?"medium":"low"}}).sort((x,w)=>{const S={high:3,medium:2,low:1};return S[w.attentionLevel]-S[x.attentionLevel]}),myPrograms:h}},[e,t]),f=y.useMemo(()=>{if(!a||!u)return null;const h=u.students.find(v=>v.id===a),m=(t?.messages??[]).filter(v=>v.senderId===e.id&&v.receiverId===a||v.senderId===a&&v.receiverId===e.id).sort((v,x)=>new Date(v.sentAt)-new Date(x.sentAt)),g=(t?.deliverables??[]).filter(v=>v.assignedStudentIds.includes(a)).map(v=>{const x=v.submissions?.find(S=>S.studentId===a);let w="pending";return x?w=x.status:new Date(v.dueDate)<new Date&&(w="overdue"),{...v,submission:x,status:w}}).sort((v,x)=>new Date(v.dueDate)-new Date(x.dueDate));return{student:h,messages:m,deliverables:g}},[a,u,t,e]);return y.useEffect(()=>{f?.messages&&l.current&&l.current.scrollIntoView({behavior:"smooth"})},[f?.messages]),y.useEffect(()=>{if(a&&u){const h=u.students.find(m=>m.id===a);if(h&&h.unreadCount>0){const m=(t?.messages??[]).filter(g=>g.senderId===a&&g.receiverId===e.id&&!g.readAt).map(g=>g.id);m.length>0&&r({messageIds:m})}}},[a,u,t,e,r]),!e||!u?c.jsx("div",{className:"p-8",children:"Loading..."}):c.jsxs("div",{className:"h-[calc(100vh-8rem)] min-h-[600px] overflow-hidden rounded-2xl border border-border bg-card shadow-sm grid grid-cols-12",children:[c.jsxs("div",{className:"col-span-12 md:col-span-4 border-r border-border flex flex-col bg-muted/10",children:[c.jsxs("div",{className:"p-4 border-b border-border",children:[c.jsxs("h2",{className:"font-semibold text-lg flex items-center gap-2",children:[c.jsx(aa,{className:"h-5 w-5"})," My Students"]}),c.jsxs("div",{className:"mt-3 relative",children:[c.jsx(qi,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),c.jsx("input",{type:"text",placeholder:"Search students...",className:"w-full rounded-full border border-input bg-background pl-9 pr-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/20"})]})]}),c.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:u.students.map(h=>c.jsxs("button",{onClick:()=>s(h.id),className:ft("w-full text-left p-3 rounded-xl transition-all flex items-center gap-3",a===h.id?"bg-white shadow-sm ring-1 ring-border dark:bg-slate-800":"hover:bg-white/50 hover:dark:bg-white/5"),children:[c.jsxs("div",{className:"relative h-10 w-10",children:[c.jsx("div",{className:"h-full w-full rounded-full bg-indigo-100 text-indigo-700 flex items-center justify-center font-bold",children:h.name.charAt(0)}),h.attentionLevel!=="low"&&c.jsx("span",{className:ft("absolute -top-1 -right-1 h-3 w-3 rounded-full border-2 border-white",h.attentionLevel==="high"?"bg-red-500":"bg-blue-500")})]}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"font-medium text-sm text-foreground truncate",children:h.name}),c.jsx("span",{className:"text-xs text-muted-foreground",children:h.level?`Lvl ${h.level}`:""})]}),c.jsx("div",{className:"text-xs text-muted-foreground truncate flex items-center gap-2",children:h.overdueCount>0?c.jsxs("span",{className:"text-red-600 font-medium",children:[h.overdueCount," overdue tasks"]}):h.university})]}),c.jsx(R2,{className:ft("h-4 w-4 text-muted-foreground",a===h.id&&"text-primary")})]},h.id))})]}),c.jsx("div",{className:"col-span-12 md:col-span-8 flex flex-col bg-background",children:f?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"h-16 px-6 border-b border-border flex items-center justify-between bg-white/50 backdrop-blur-sm dark:bg-slate-900/50",children:[c.jsx("div",{className:"flex items-center gap-3",children:c.jsxs("div",{children:[c.jsx("h2",{className:"font-bold text-foreground",children:f.student.name}),c.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-2",children:[f.student.email,"  ",f.student.phone]})]})}),c.jsx("div",{className:"flex gap-2",children:c.jsx("button",{className:"btn-ghost btn-sm h-8 w-8 p-0 rounded-full",children:c.jsx(Ju,{className:"h-4 w-4"})})})]}),c.jsxs("div",{className:"flex-1 overflow-hidden grid grid-rows-2 md:grid-rows-1 md:grid-cols-2",children:[c.jsxs("div",{className:"flex flex-col border-r border-border h-full max-h-full p-6 bg-slate-50/30",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"font-semibold text-sm flex items-center gap-2 text-slate-700",children:[c.jsx(ac,{className:"h-4 w-4"}),"Recent Communications"]}),c.jsxs("button",{onClick:()=>n("/coach/messages"),className:"text-xs font-semibold text-primary hover:underline flex items-center gap-1",children:["Open Messenger ",c.jsx(R2,{className:"h-3 w-3"})]})]}),c.jsx("div",{className:"flex-1 overflow-y-auto space-y-3 pr-2 custom-scrollbar",children:f.messages.length===0?c.jsxs("div",{className:"h-32 flex flex-col items-center justify-center text-muted-foreground text-sm opacity-60 border border-dashed border-slate-200 rounded-xl",children:[c.jsx(ac,{className:"h-6 w-6 mb-2"}),"No history yet"]}):f.messages.slice(-4).reverse().map(h=>{const m=h.senderId===e.id;return c.jsxs("div",{className:ft("p-3 rounded-xl border flex flex-col gap-1 transition-all hover:shadow-sm",m?"bg-white border-slate-100":"bg-blue-50/30 border-blue-100"),children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsx("span",{className:ft("text-xs font-bold",m?"text-slate-700":"text-blue-700"),children:m?"You":f.student.name}),c.jsx("span",{className:"text-[10px] text-slate-400",children:rn(h.sentAt)})]}),c.jsx("p",{className:"text-sm text-slate-600 line-clamp-2 leading-relaxed",children:h.content})]},h.id)})}),c.jsxs("div",{className:"mt-6",children:[c.jsxs("h3",{className:"font-semibold text-sm flex items-center gap-2 mb-3 text-slate-700",children:[c.jsx(aa,{className:"h-4 w-4"}),"Student Stats"]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("div",{className:"bg-white border border-slate-100 p-3 rounded-lg text-center",children:[c.jsx("div",{className:"text-xs text-slate-500 uppercase tracking-wide font-medium",children:"Attention"}),c.jsx("div",{className:ft("mt-1 font-bold",f.student.attentionLevel==="high"?"text-red-600":f.student.attentionLevel==="medium"?"text-amber-600":"text-emerald-600"),children:f.student.attentionLevel.toUpperCase()})]}),c.jsxs("div",{className:"bg-white border border-slate-100 p-3 rounded-lg text-center",children:[c.jsx("div",{className:"text-xs text-slate-500 uppercase tracking-wide font-medium",children:"Late Tasks"}),c.jsx("div",{className:"mt-1 font-bold text-slate-900",children:f.student.overdueCount})]})]})]})]}),c.jsxs("div",{className:"flex flex-col h-full bg-background overflow-hidden",children:[c.jsx("div",{className:"p-4 border-b border-border bg-muted/5",children:c.jsxs("h3",{className:"font-semibold text-sm flex items-center gap-2",children:[c.jsx(x8,{className:"h-4 w-4"}),"Deliverables Status"]})}),c.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:f.deliverables.map(h=>c.jsxs("div",{className:"group rounded-lg border border-border p-3 hover:border-primary/50 transition-colors bg-card",children:[c.jsxs("div",{className:"flex justify-between items-start mb-1",children:[c.jsx("span",{className:"font-medium text-sm text-foreground line-clamp-1",children:h.title}),h.status==="graded"?c.jsxs("span",{className:"text-xs font-bold text-green-600 bg-green-50 px-2 py-0.5 rounded-full",children:[h.submission.grade,"%"]}):h.status==="submitted"?c.jsx("span",{className:"text-xs font-bold text-blue-600 bg-blue-50 px-2 py-0.5 rounded-full",children:"To Grade"}):h.status==="overdue"?c.jsx("span",{className:"text-xs font-bold text-red-600 bg-red-50 px-2 py-0.5 rounded-full",children:"Overdue"}):c.jsx("span",{className:"text-xs text-muted-foreground bg-muted px-2 py-0.5 rounded-full",children:"Pending"})]}),c.jsxs("div",{className:"text-xs text-muted-foreground flex justify-between items-center mt-2",children:[c.jsxs("span",{children:["Due: ",wr(h.dueDate)]}),h.status==="submitted"&&c.jsx("button",{className:"text-primary font-medium hover:underline",children:"Grade Now"})]})]},h.id))}),c.jsxs("div",{className:"p-4 border-t border-border bg-indigo-50/50 dark:bg-indigo-900/10",children:[c.jsx("h3",{className:"text-xs font-semibold text-indigo-800 dark:text-indigo-300 mb-2",children:"Quick Actions"}),c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsx("button",{onClick:()=>n("/coach/sessions"),className:"rounded-lg bg-white border border-indigo-100 px-3 py-2 text-xs font-medium text-indigo-700 shadow-sm hover:bg-indigo-50 transition-colors",children:"Schedule Session"}),c.jsx("button",{onClick:()=>n("/coach/deliverables"),className:"rounded-lg bg-white border border-indigo-100 px-3 py-2 text-xs font-medium text-indigo-700 shadow-sm hover:bg-indigo-50 transition-colors",children:"Assign Task"})]})]})]})]})]}):c.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-8",children:[c.jsx("div",{className:"h-20 w-20 bg-muted rounded-full flex items-center justify-center mb-4",children:c.jsx(aa,{className:"h-10 w-10 text-muted-foreground/50"})}),c.jsx("h3",{className:"text-xl font-bold text-foreground",children:"Select a Student"}),c.jsx("p",{className:"text-muted-foreground max-w-sm mt-2",children:"Choose a student from the sidebar to view their progress, chat history, and pending deliverables."}),u.students.filter(h=>h.attentionLevel==="high").length>0&&c.jsxs("div",{className:"mt-8 w-full max-w-md",children:[c.jsx("div",{className:"text-xs font-semibold uppercase tracking-wider text-muted-foreground mb-3",children:"Attention Needed"}),c.jsx("div",{className:"bg-red-50 dark:bg-red-900/10 border border-red-100 dark:border-red-900/30 rounded-xl overflow-hidden",children:u.students.filter(h=>h.attentionLevel==="high").map(h=>c.jsxs("button",{onClick:()=>s(h.id),className:"w-full flex items-center justify-between p-3 hover:bg-red-100/50 transition-colors border-b border-red-100 last:border-0",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(xM,{className:"h-4 w-4 text-red-500"}),c.jsx("span",{className:"text-sm font-medium text-red-900 dark:text-red-200",children:h.name})]}),c.jsx("span",{className:"text-xs text-red-700 font-medium",children:"View"})]},h.id))})]})]})})]})}function d7(){const{currentUser:e}=_t(),{getUserById:t,listProjects:r,listProjectSubmissions:n,listTasks:a,addProjectSubmissionComment:s,setProjectSubmissionStatus:l}=Pt(),[u,f]=y.useState(null),h=e?.id?r({coachId:e.id}):[],m=u?h.find(S=>S.id===u)??null:h[0]??null,g=m?.id?n({projectId:m.id}):[],v=m?.id?a({projectId:m.id})??[]:[],x=async({submissionId:S,text:N})=>{await s({submissionId:S,authorId:e.id,text:N})},w=async({submissionId:S,status:N,reviewerId:_})=>{await l({submissionId:S,status:N,reviewerId:_})};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-heading font-bold text-slate-900",children:"Project Reviews"}),c.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Review IDEA clearly and give feedback per submission."})]}),c.jsxs("div",{className:"grid gap-6 lg:grid-cols-5",children:[c.jsx("div",{className:"lg:col-span-2",children:c.jsx(He,{title:"Projects",subtitle:h.length?`${h.length} available`:"No projects yet",children:h.length===0?c.jsx(Ds,{title:"No projects",message:"Students will appear here once they submit an IDEA.",icon:Bo}):c.jsx("div",{className:"space-y-2",children:h.map(S=>{const N=t?.(S.studentId),_=m?.id===S.id;return c.jsxs("button",{type:"button",onClick:()=>f(S.id),className:["w-full text-left rounded-xl border p-4 transition-colors",_?"border-coach-primary/30 bg-white":"border-slate-200 bg-white hover:bg-slate-50"].join(" "),children:[c.jsxs("div",{className:"flex items-center justify-between gap-3",children:[c.jsx("div",{className:"font-heading font-bold text-slate-900 truncate",children:S.title}),c.jsx("div",{className:"text-xs font-bold uppercase tracking-wider text-slate-500",children:S.stage})]}),c.jsxs("div",{className:"mt-1 text-xs text-slate-500 truncate",children:["Student: ",N?.name??"Student"]})]},S.id)})})})}),c.jsx("div",{className:"lg:col-span-3",children:m?c.jsxs(He,{title:m.title,subtitle:`Student: ${t?.(m.studentId)?.name??"Student"}  Stage: ${m.stage}`,children:[c.jsx(Qw,{submissions:g,getUserById:t,allowComment:!0,allowReview:!0,currentUserId:e?.id,onComment:x,onSetStatus:w,tasks:v}),c.jsxs("div",{className:"mt-4 text-xs text-slate-500",children:["Review flow: ",wa.pending,"  ",wa.reviewed,"  ",wa.approved]})]}):c.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 text-sm text-slate-500",children:"Select a project to review submissions."})})]})]})}function TM({value:e=0,colorClass:t="bg-blue-600"}){const r=Math.max(0,Math.min(100,Number(e)||0));return c.jsxs("div",{className:"w-full",children:[c.jsx("div",{className:"h-2.5 w-full rounded-full bg-slate-100 overflow-hidden",children:c.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${t}`,style:{width:`${r}%`},"aria-label":`Progress ${r}%`})}),c.jsx("div",{className:"mt-1.5 flex justify-end",children:c.jsxs("span",{className:"text-xs font-semibold text-slate-500",children:[r,"%"]})})]})}function f7(){const{currentUser:e}=_t(),{data:t}=Pt(),{templates:r,templateDetailsById:n,instances:a,instanceDetailsById:s,fetchTemplateDetails:l,fetchInstanceDetails:u,subscribeToInstanceTasks:f,approveInstanceTask:h,reorderInstanceTasks:m,advanceInstanceStage:g,injectTask:v,extendTaskDeadline:x}=Np(),[w,S]=y.useState(null),[N,_]=y.useState(!1),[A,k]=y.useState(null),O=y.useMemo(()=>!e?.id||!t?[]:(t.programs??[]).filter(T=>T.coachIds.includes(e.id)),[e,t]),M=y.useMemo(()=>{if(!t)return{};const T={};return O.forEach(I=>{const $=I.participantStudentIds.length,B=(t.coachingSessions??[]).filter(Q=>Q.programId===I.id).length,Z=(t.deliverables??[]).filter(Q=>Q.programId===I.id),ue=Z.reduce((Q,de)=>Q+(de.submissions?.length??0),0),je=Z.reduce((Q,de)=>Q+(de.submissions?.filter(Ee=>Ee.status==="graded").length??0),0),Oe=ue>0?Math.round(je/ue*100):0;T[I.id]={students:$,sessions:B,deliverables:Z.length,submissionRate:Oe}}),T},[O,t]),C=y.useMemo(()=>{if(!w||!t)return null;const T=O.find(Z=>Z.id===w);if(!T)return null;const I=(t.users??[]).filter(Z=>T.participantStudentIds.includes(Z.id)),$=(t.deliverables??[]).filter(Z=>Z.programId===T.id),B=I.map(Z=>{const ue=$.flatMap(oe=>(oe.submissions??[]).filter(qe=>qe.studentId===Z.id)),je=ue.filter(oe=>oe.status==="graded").length,Oe=$.length,Q=Oe>0?Math.round(je/Oe*100):0,de=ue.filter(oe=>oe.grade!==null&&oe.grade!==void 0).map(oe=>oe.grade),Ee=de.length>0?Math.round(de.reduce((oe,qe)=>oe+qe,0)/de.length):null;return{student:Z,completed:je,total:Oe,progress:Q,avgGrade:Ee,xp:Z.xp??0,level:Z.level??1}});return{program:T,students:I,deliverables:$,studentProgress:B}},[w,O,t]),D=y.useMemo(()=>a??[],[a]),L=y.useMemo(()=>A?s[A]??null:null,[s,A]),V=L?.instance??null,te=L?.tasks??[],W=V?r.find(T=>T.id===V.templateId)??null:null,K=V?n[V.templateId]??null:null,Se=y.useMemo(()=>V?.studentId?(t?.users??[]).find(T=>T.id===V.studentId)??null:null,[t?.users,V]);y.useEffect(()=>{if(!N||!A)return;let T=!1;return(async()=>{try{const I=await u(A);if(T)return;I?.instance?.templateId&&await l(I.instance.templateId),await f(A)}catch{}})(),()=>{T=!0}},[u,l,N,A,f]);const be=T=>{k(T),_(!0)},Ae=()=>{_(!1),k(null)},Y=async(T,I)=>{const $=te.findIndex(ue=>ue.id===T);if($<0)return;const B=[...te],Z=I==="up"?$-1:$+1;Z<0||Z>=B.length||([B[$],B[Z]]=[B[Z],B[$]],await m({instanceId:A,orderedTaskIds:B.map(ue=>ue.id)}))},ee=async(T,I)=>{const $=window.prompt("Coach feedback (optional):","");await h({taskId:T,feedback:$??null,approved:I})},ce=async()=>{if(!A||!K?.stages?.length)return;const T=K.stages.map(B=>B.name).join(", "),I=window.prompt(`Advance stage to: ${T}`,K.stages[0]?.name??"");if(!I)return;const $=K.stages.find(B=>B.name.toLowerCase()===I.toLowerCase());$&&await g({instanceId:A,stageId:$.id})},we=async()=>{if(!A)return;const T=window.prompt("New task title:","");if(!T)return;const I=window.prompt("Description (optional):","");let $=V?.currentStageId??null;if(K?.stages?.length){const B=K.stages.map(je=>je.name).join(", "),Z=window.prompt(`Assign to stage: ${B}`,K.stages[0]?.name??""),ue=K.stages.find(je=>je.name.toLowerCase()===String(Z??"").toLowerCase());ue&&($=ue.id)}$&&await v({instanceId:A,stageId:$,title:T,description:I})},G=async T=>{const I=window.prompt("New deadline date (YYYY-MM-DD):","");if(!I)return;const $=new Date(`${I}T00:00:00.000Z`).toISOString();await x({taskId:T,deadline:$})};return O.length===0?c.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[c.jsx(Zu,{className:"h-16 w-16 text-muted-foreground"}),c.jsx("h2",{className:"mt-4 text-xl font-semibold text-foreground",children:"No Programs Yet"}),c.jsx("p",{className:"mt-2 text-muted-foreground",children:"You haven't been assigned to any programs yet."})]}):c.jsxs("div",{className:"space-y-6",children:[c.jsx(He,{title:"Program Instances",subtitle:"Editable roadmaps generated from templates (videos/courses + tasks)",children:D.length===0?c.jsx("div",{className:"text-sm text-muted-foreground",children:"No program instances yet."}):c.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:D.slice(0,6).map(T=>{const I=r.find(B=>B.id===T.templateId),$=(t?.users??[]).find(B=>B.id===T.studentId);return c.jsx("div",{className:"rounded-lg border border-border/50 bg-muted/20 p-4",children:c.jsxs("div",{className:"flex items-start justify-between gap-3",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"font-semibold text-foreground truncate",children:I?.name??"Program"}),c.jsxs("div",{className:"mt-1 text-sm text-muted-foreground truncate",children:["Student: ",$?.name??T.studentId]}),c.jsxs("div",{className:"mt-1 text-xs text-muted-foreground",children:["Started: ",wr(T.startedAt)]})]}),c.jsx("button",{type:"button",className:"btn",onClick:()=>be(T.id),children:"Open"})]})},T.id)})})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"My Programs"}),c.jsxs("p",{className:"mt-1 text-muted-foreground",children:["Manage your ",O.length," assigned program",O.length===1?"":"s"]})]}),w?c.jsxs(c.Fragment,{children:[c.jsx("button",{type:"button",className:"btn-ghost",onClick:()=>S(null),children:" Back to all programs"}),C&&c.jsxs("div",{className:"space-y-6",children:[c.jsx(He,{children:c.jsxs("div",{className:"flex items-start justify-between gap-4",children:[c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsx("h2",{className:"text-xl font-bold text-foreground",children:C.program.name}),c.jsx("p",{className:"mt-1 text-muted-foreground",children:C.program.description}),c.jsxs("div",{className:"mt-3 flex items-center gap-4 text-sm text-muted-foreground",children:[c.jsxs("span",{children:[" ",wr(C.program.startDate)," -"," ",wr(C.program.endDate)]}),c.jsxs("span",{children:[" ",C.students.length," students"]}),c.jsxs("span",{children:[" ",C.deliverables.length," deliverables"]})]})]}),c.jsx(Rr,{value:C.program.status})]})}),c.jsx(He,{title:"Student Progress",subtitle:`${C.students.length} enrolled students`,children:c.jsx("div",{className:"space-y-3",children:C.studentProgress.map(T=>c.jsxs("div",{className:"flex items-center gap-4 rounded-lg border border-border/50 bg-muted/30 p-4",children:[c.jsx("div",{className:"grid h-12 w-12 place-items-center rounded-full bg-primary/10 text-primary",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-sm font-bold",children:T.level}),c.jsx("div",{className:"text-[10px]",children:"lvl"})]})}),c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsxs("div",{className:"flex items-center justify-between gap-3",children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-foreground",children:T.student.name}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:[T.student.university,"  ",T.xp," XP"]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"text-sm font-medium text-foreground",children:[T.completed," / ",T.total," completed"]}),T.avgGrade!==null&&c.jsxs("div",{className:"text-sm text-muted-foreground",children:["Avg: ",T.avgGrade,"%"]})]})]}),c.jsx("div",{className:"mt-2",children:c.jsx(TM,{value:T.progress})})]})]},T.student.id))})}),c.jsx(He,{title:"Deliverables",subtitle:"Assignments for this program",children:c.jsx("div",{className:"space-y-2",children:C.deliverables.map(T=>{const I=T.submissions??[],$=I.filter(Z=>Z.status==="graded").length,B=I.filter(Z=>Z.status==="submitted").length;return c.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border/50 bg-muted/30 p-3",children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-foreground",children:T.title}),c.jsxs("div",{className:"mt-1 text-sm text-muted-foreground",children:["Due: ",wr(T.dueDate)]})]}),c.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[c.jsxs("span",{className:"text-success-700",children:[" ",$," graded"]}),B>0&&c.jsxs("span",{className:"text-warning-700",children:[" ",B," pending"]})]})]},T.id)})})})]})]}):c.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:O.map(T=>{const I=M[T.id]??{};return c.jsx(He,{className:"cursor-pointer hover:border-primary/50",children:c.jsxs("div",{onClick:()=>S(T.id),className:"space-y-4",children:[c.jsxs("div",{className:"flex items-start justify-between gap-3",children:[c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsx("h3",{className:"font-semibold text-foreground",children:T.name}),c.jsx("p",{className:"mt-1 text-sm text-muted-foreground line-clamp-2",children:T.description})]}),c.jsx(Rr,{value:T.status})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[c.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[c.jsx(aa,{className:"h-4 w-4"}),c.jsxs("span",{children:[I.students," students"]})]}),c.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[c.jsx(en,{className:"h-4 w-4"}),c.jsxs("span",{children:[I.sessions," sessions"]})]}),c.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[c.jsx(Aa,{className:"h-4 w-4"}),c.jsxs("span",{children:[I.deliverables," deliverables"]})]}),c.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[c.jsx(mm,{className:"h-4 w-4"}),c.jsxs("span",{children:[I.submissionRate,"% graded"]})]})]}),c.jsxs("div",{className:"text-xs text-muted-foreground",children:[wr(T.startDate)," - ",wr(T.endDate)]})]})},T.id)})}),c.jsx(ar,{isOpen:N,onClose:Ae,title:W?`Instance: ${W.name}`:"Program Instance",children:V?c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"rounded-lg border border-border/50 bg-muted/20 p-4",children:[c.jsx("div",{className:"font-semibold text-foreground",children:"Student"}),c.jsx("div",{className:"text-sm text-muted-foreground",children:Se?.name??V.studentId}),c.jsxs("div",{className:"mt-2 text-xs text-muted-foreground",children:["Current stage: ",V.currentStageId??""]}),c.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[c.jsx("button",{type:"button",className:"btn-ghost",onClick:ce,children:"Advance Stage"}),c.jsx("button",{type:"button",className:"btn-ghost",onClick:we,children:"Inject Task"})]})]}),c.jsx("div",{className:"space-y-2",children:te.length===0?c.jsx("div",{className:"text-sm text-muted-foreground",children:"No tasks in this instance yet."}):te.map(T=>c.jsxs("div",{className:"rounded-lg border border-border/50 bg-muted/10 p-4",children:[c.jsxs("div",{className:"flex items-start justify-between gap-3",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"font-medium text-foreground",children:T.title}),T.description?c.jsx("div",{className:"mt-1 text-sm text-muted-foreground",children:T.description}):null,c.jsxs("div",{className:"mt-2 text-xs text-muted-foreground",children:["Status: ",T.status,T.deadline?`  Due: ${wr(T.deadline)}`:""]})]}),c.jsx(Rr,{value:T.status})]}),c.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[c.jsx("button",{type:"button",className:"btn-ghost",onClick:()=>Y(T.id,"up"),children:""}),c.jsx("button",{type:"button",className:"btn-ghost",onClick:()=>Y(T.id,"down"),children:""}),c.jsx("button",{type:"button",className:"btn-ghost",onClick:()=>G(T.id),children:"Extend"}),c.jsx("button",{type:"button",className:"btn",onClick:()=>ee(T.id,!0),children:"Approve"}),c.jsx("button",{type:"button",className:"btn-ghost",onClick:()=>ee(T.id,!1),children:"Reject"})]})]},T.id))})]}):c.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading instance"})})]})}function h7(){const{currentUser:e}=_t(),{data:t}=Pt(),[r,n]=y.useState("all"),a=y.useMemo(()=>{if(!e?.id||!t)return[];const h=(t.coachingSessions??[]).filter(x=>x.coachId===e.id),m=new Date,g=new Date(m.getFullYear(),m.getMonth(),m.getDate()),v=new Date(g);return v.setDate(v.getDate()+1),h.filter(x=>{const w=new Date(x.startsAt);return r==="upcoming"?w>=m&&x.status==="scheduled":r==="past"?w<m||x.status==="completed":r==="today"?w>=g&&w<v:!0}).sort((x,w)=>new Date(w.startsAt)-new Date(x.startsAt))},[e,t,r]),s=y.useMemo(()=>{const h={};return a.forEach(m=>{const g=new Date(m.startsAt),v=`${g.getFullYear()}-${String(g.getMonth()+1).padStart(2,"0")}`;h[v]||(h[v]=[]),h[v].push(m)}),h},[a]),l=y.useMemo(()=>{const h=new Date,m=a.filter(S=>new Date(S.startsAt)>=h&&S.status==="scheduled").length,g=a.filter(S=>new Date(S.startsAt)<h||S.status==="completed").length,v=new Date(h.getFullYear(),h.getMonth(),h.getDate()),x=new Date(v);x.setDate(x.getDate()+1);const w=a.filter(S=>{const N=new Date(S.startsAt);return N>=v&&N<x}).length;return{total:a.length,upcoming:m,past:g,today:w}},[a]),u=h=>(t?.programs??[]).find(g=>g.id===h)?.name??"Unknown Program",f=h=>{const[m,g]=h.split("-");return new Date(parseInt(m),parseInt(g)-1).toLocaleDateString("en-US",{month:"long",year:"numeric"})};return a.length===0&&r==="all"?c.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[c.jsx(en,{className:"h-16 w-16 text-muted-foreground"}),c.jsx("h2",{className:"mt-4 text-xl font-semibold text-foreground",children:"No Sessions Yet"}),c.jsx("p",{className:"mt-2 text-muted-foreground",children:"You don't have any coaching sessions scheduled."})]}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"My Sessions"}),c.jsx("p",{className:"mt-1 text-muted-foreground",children:"Manage your coaching sessions and track attendance"})]}),c.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[c.jsx(He,{children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"grid h-10 w-10 place-items-center rounded-xl bg-primary/10 text-primary",children:c.jsx(en,{className:"h-5 w-5"})}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Sessions"}),c.jsx("div",{className:"text-2xl font-bold text-foreground",children:l.total})]})]})}),c.jsx(He,{children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"grid h-10 w-10 place-items-center rounded-xl bg-secondary/10 text-secondary",children:c.jsx(Di,{className:"h-5 w-5"})}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Today"}),c.jsx("div",{className:"text-2xl font-bold text-foreground",children:l.today})]})]})}),c.jsx(He,{children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"grid h-10 w-10 place-items-center rounded-xl bg-success-500/10 text-success-700",children:c.jsx(en,{className:"h-5 w-5"})}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Upcoming"}),c.jsx("div",{className:"text-2xl font-bold text-foreground",children:l.upcoming})]})]})}),c.jsx(He,{children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"grid h-10 w-10 place-items-center rounded-xl bg-muted text-muted-foreground",children:c.jsx(en,{className:"h-5 w-5"})}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Completed"}),c.jsx("div",{className:"text-2xl font-bold text-foreground",children:l.past})]})]})})]}),c.jsxs(He,{children:[c.jsxs("div",{className:"flex items-center gap-2 border-b border-border pb-3",children:[c.jsx(P8,{className:"h-4 w-4 text-muted-foreground"}),c.jsx("span",{className:"text-sm font-medium text-foreground",children:"Filter:"}),c.jsx("div",{className:"flex gap-2",children:["all","today","upcoming","past"].map(h=>c.jsx("button",{type:"button",onClick:()=>n(h),className:`rounded-lg px-3 py-1 text-sm font-medium transition-colors ${r===h?"bg-primary text-white":"bg-muted text-muted-foreground hover:bg-muted/70"}`,children:h.charAt(0).toUpperCase()+h.slice(1)},h))})]}),a.length===0?c.jsx("div",{className:"py-8 text-center text-sm text-muted-foreground",children:"No sessions found for this filter"}):c.jsx("div",{className:"space-y-6",children:Object.entries(s).map(([h,m])=>c.jsxs("div",{children:[c.jsx("h3",{className:"mb-3 text-sm font-semibold text-muted-foreground",children:f(h)}),c.jsx("div",{className:"space-y-3",children:m.map(g=>{const v=new Date,x=new Date(g.startsAt)<v;return c.jsxs("div",{className:`flex items-start gap-4 rounded-lg border p-4 ${x?"border-border/30 bg-muted/20":"border-border/50 bg-muted/40"}`,children:[c.jsx("div",{className:"grid h-14 w-14 shrink-0 place-items-center rounded-lg bg-primary/10",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-xl font-bold text-primary",children:new Date(g.startsAt).getDate()}),c.jsx("div",{className:"text-[10px] uppercase text-primary",children:new Date(g.startsAt).toLocaleDateString("en-US",{month:"short"})})]})}),c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsxs("div",{className:"flex items-start justify-between gap-3",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-foreground",children:g.title}),c.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:u(g.programId)})]}),c.jsx(Rr,{value:g.status})]}),g.description&&c.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:g.description}),c.jsxs("div",{className:"mt-3 flex flex-wrap gap-4 text-sm text-muted-foreground",children:[c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx(Di,{className:"h-4 w-4"}),rn(g.startsAt)]}),g.location&&c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx(fM,{className:"h-4 w-4"}),g.location]}),c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx(aa,{className:"h-4 w-4"}),g.attendeeStudentIds.length," student",g.attendeeStudentIds.length===1?"":"s"]})]})]})]},g.id)})})]},h))})]})]})}function m7(){const{currentUser:e}=_t(),{data:t}=Pt(),{showToast:r}=Da(),[n,a]=y.useState("pending"),[s,l]=y.useState(null),[u,f]=y.useState(!1),[h,m]=y.useState("approve"),[g,v]=y.useState(""),[x,w]=y.useState(""),S=y.useMemo(()=>{if(!e?.id||!t)return[];const C=(t.programs??[]).filter(D=>D.coachIds.includes(e.id)).map(D=>D.id);return(t.deliverables??[]).filter(D=>C.includes(D.programId)).sort((D,L)=>new Date(L.dueDate)-new Date(D.dueDate))},[e,t]),N=y.useMemo(()=>S.flatMap(D=>(D.submissions??[]).map(L=>({...L,id:`${D.id}-${L.studentId}`,deliverable:D}))).filter(D=>n==="pending"?D.status==="submitted":n==="graded"?D.status==="graded":!0).sort((D,L)=>new Date(L.submittedAt)-new Date(D.submittedAt)),[S,n]),_=y.useMemo(()=>{const C=S.flatMap(W=>W.submissions??[]),D=C.filter(W=>W.status==="submitted").length,L=C.filter(W=>W.status==="graded").length,V=C.filter(W=>W.grade!==null&&W.grade!==void 0).map(W=>W.grade),te=V.length>0?Math.round(V.reduce((W,K)=>W+K,0)/V.length):null;return{total:C.length,pending:D,graded:L,avgGrade:te,deliverableCount:S.length}},[S]),A=C=>(t?.users??[]).find(L=>L.id===C)?.name??"Unknown Student",k=(C,D)=>{l(C),m(D),v(C.grade?.toString()??(D==="approve"?"100":"")),w(C.feedback??(D==="revision"?"Please revise...":"")),f(!0)},O=()=>{if(h==="approve"){const C=parseInt(g,10);if(isNaN(C)||C<0||C>100){r("Please enter a valid grade between 0 and 100","error");return}}r(`${h==="approve"?"Approved":"Revision requested"} successfully!`,"success"),f(!1),l(null),v(""),w("")},M=[{key:"student",header:"Student",searchable:!0,accessor:C=>A(C.studentId),render:C=>{const D=A(C.studentId);return c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-primary/10 text-primary text-xs font-bold",children:D.charAt(0)}),c.jsx("span",{className:"font-medium",children:D})]})}},{key:"deliverable",header:"Deliverable Title",searchable:!0,accessor:C=>C.deliverable.title},{key:"submitted",header:"Submission Date",accessor:C=>C.submittedAt,render:C=>c.jsx("span",{className:"text-sm",children:rn(C.submittedAt)})},{key:"status",header:"Status",accessor:C=>C.status,render:C=>c.jsx(Rr,{value:C.status})},{key:"actions",header:"Actions",accessor:()=>"",render:C=>C.status==="graded"?c.jsx("div",{className:"text-sm",children:c.jsxs("span",{className:"font-bold text-success-700",children:[C.grade,"%"]})}):c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:()=>k(C,"approve"),className:"flex items-center gap-1 rounded bg-success-600 px-2 py-1 text-xs font-medium text-white hover:bg-success-700",children:[c.jsx(_9,{className:"h-3 w-3"})," Approve"]}),c.jsxs("button",{onClick:()=>k(C,"revision"),className:"flex items-center gap-1 rounded bg-warning-500 px-2 py-1 text-xs font-medium text-white hover:bg-warning-600",children:[c.jsx(xM,{className:"h-3 w-3"})," Request Revision"]})]})}];return S.length===0?c.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[c.jsx(Aa,{className:"h-16 w-16 text-muted-foreground"}),c.jsx("h2",{className:"mt-4 text-xl font-semibold text-foreground",children:"No Deliverables Yet"}),c.jsx("p",{className:"mt-2 text-muted-foreground",children:"You haven't created any deliverables for your programs yet."})]}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Deliverables & Reviews"}),c.jsx("p",{className:"mt-1 text-muted-foreground",children:"Review and grade student submissions"})]}),c.jsxs("div",{className:"grid gap-4 md:grid-cols-5",children:[c.jsx(He,{children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"grid h-10 w-10 place-items-center rounded-xl bg-primary/10 text-primary",children:c.jsx(Aa,{className:"h-5 w-5"})}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Deliverables"}),c.jsx("div",{className:"text-2xl font-bold text-foreground",children:_.deliverableCount})]})]})}),c.jsx(He,{children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"grid h-10 w-10 place-items-center rounded-xl bg-secondary/10 text-secondary",children:c.jsx(Md,{className:"h-5 w-5"})}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Total"}),c.jsx("div",{className:"text-2xl font-bold text-foreground",children:_.total})]})]})}),c.jsx(He,{children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"grid h-10 w-10 place-items-center rounded-xl bg-warning-500/10 text-warning-700",children:c.jsx(Di,{className:"h-5 w-5"})}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Pending"}),c.jsx("div",{className:"text-2xl font-bold text-foreground",children:_.pending})]})]})}),c.jsx(He,{children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"grid h-10 w-10 place-items-center rounded-xl bg-success-500/10 text-success-700",children:c.jsx(Ai,{className:"h-5 w-5"})}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Graded"}),c.jsx("div",{className:"text-2xl font-bold text-foreground",children:_.graded})]})]})}),c.jsx(He,{children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"grid h-10 w-10 place-items-center rounded-xl bg-accent/10 text-accent",children:c.jsx(vM,{className:"h-5 w-5"})}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg Grade"}),c.jsx("div",{className:"text-2xl font-bold text-foreground",children:_.avgGrade!==null?`${_.avgGrade}%`:"N/A"})]})]})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"flex gap-2",children:["all","pending","graded"].map(C=>c.jsx("button",{type:"button",onClick:()=>a(C),className:`rounded-lg px-3 py-1 text-sm font-medium transition-colors ${n===C?"bg-primary text-white":"bg-muted text-muted-foreground hover:bg-muted/70"}`,children:C.charAt(0).toUpperCase()+C.slice(1)},C))}),c.jsx(Sp,{columns:M,rows:N,getRowId:C=>C.id,initialSort:{key:"submitted",dir:"desc"},exportFilename:"deliverables-review.csv"})]}),u&&s&&c.jsx(ar,{title:h==="approve"?"Approve Submission":"Request Revision",onClose:()=>f(!1),footer:c.jsxs(c.Fragment,{children:[c.jsx("button",{type:"button",className:"btn-ghost",onClick:()=>f(!1),children:"Cancel"}),c.jsx("button",{type:"button",className:`btn-${h==="approve"?"primary":"danger"}`,onClick:O,children:h==="approve"?"Approve & Grade":"Send Request"})]}),children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-foreground",children:s.deliverable.title}),c.jsxs("div",{className:"mt-1 text-sm text-muted-foreground",children:["Student: ",A(s.studentId)]})]}),c.jsxs("div",{className:"rounded-lg bg-muted/50 p-3",children:[c.jsx("div",{className:"text-xs font-medium text-muted-foreground",children:"Submission:"}),c.jsx("p",{className:"mt-1 text-sm text-foreground",children:s.content})]}),h==="approve"&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-foreground",children:"Grade (0-100)"}),c.jsx("input",{type:"number",min:"0",max:"100",className:"mt-2 w-full rounded-lg border border-border bg-background px-3 py-2 text-sm text-foreground focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary",placeholder:"Enter grade...",value:g,onChange:C=>v(C.target.value)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-foreground",children:h==="approve"?"Feedback (optional)":"Reason for Revision"}),c.jsx("textarea",{className:"mt-2 w-full rounded-lg border border-border bg-background px-3 py-2 text-sm text-foreground focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary",rows:4,placeholder:h==="approve"?"Great job...":"Please clarify...",value:x,onChange:C=>w(C.target.value)})]})]})})]})}function p7(){const{currentUser:e}=_t(),{data:t}=Pt(),r=y.useMemo(()=>{if(!e?.id||!t)return[];const a=(t.programs??[]).filter(u=>(u.coachIds??[]).includes(e.id)),s=new Set;return a.forEach(u=>{(u.participantStudentIds??[]).forEach(f=>s.add(f))}),(t.users??[]).filter(u=>s.has(u.id)).map(u=>{const f=a.find(_=>(_.participantStudentIds??[]).includes(u.id)),h=(t.coachingSessions??[]).filter(_=>(_.attendeeStudentIds??[]).includes(u.id)&&_.status==="completed").sort((_,A)=>new Date(A.startsAt)-new Date(_.startsAt)),m=h.length>0?h[0].startsAt:null,g=(t.deliverables??[]).filter(_=>(_.assignedStudentIds??[]).includes(u.id)),v=g.filter(_=>(_.submissions??[]).some(A=>String(A.studentId)===String(u.id))),x=g.length,w=v.length,S=x===0?0:Math.round(w/x*100),N=x>w?"Medium":"Low";return{id:u.id,name:u.name,email:u.email,avatar:u.avatar,programName:f?.name??"Unassigned",progress:S,lastSession:m,riskLevel:N}})},[e,t]),n=[{key:"name",header:"Student",searchable:!0,accessor:a=>a.name,render:a=>c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-full bg-primary/10 text-primary font-medium text-sm",children:a.name.charAt(0)}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-foreground",children:a.name}),c.jsx("div",{className:"text-xs text-muted-foreground",children:a.email})]})]})},{key:"program",header:"Project / Program",accessor:a=>a.programName,render:a=>c.jsx("span",{className:"text-sm text-foreground/80",children:a.programName})},{key:"progress",header:"Progress",accessor:a=>a.progress.toString(),render:a=>c.jsx("div",{className:"w-[120px]",children:c.jsx(TM,{value:a.progress})})},{key:"lastSession",header:"Last Session",accessor:a=>a.lastSession??"",render:a=>c.jsx("div",{className:"text-sm",children:a.lastSession?c.jsx("span",{className:"text-foreground",children:wr(a.lastSession)}):c.jsx("span",{className:"text-muted-foreground italic",children:"No sessions yet"})})},{key:"risk",header:"Risk Level",accessor:a=>a.riskLevel,render:a=>{let s="bg-success-50 text-success-700 border-success-200";return a.riskLevel==="High"&&(s="bg-danger-50 text-danger-700 border-danger-200"),a.riskLevel==="Medium"&&(s="bg-warning-50 text-warning-700 border-warning-200"),c.jsx("span",{className:`inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 ${s}`,children:a.riskLevel})}},{key:"actions",header:"",accessor:()=>"",render:()=>c.jsx("button",{className:"text-sm font-medium text-primary hover:underline",children:"View Details"})}];return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"My Students"}),c.jsx("p",{className:"text-muted-foreground",children:"Manage and track progress of your assigned students."})]}),c.jsx(Sp,{title:"Students List",rows:r,columns:n,getRowId:a=>a.id,initialSort:{key:"name",dir:"asc"}})]})}function _p(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function g7(e,t,r,n){function a(s){return s instanceof r?s:new r(function(l){l(s)})}return new(r||(r=Promise))(function(s,l){function u(m){try{h(n.next(m))}catch(g){l(g)}}function f(m){try{h(n.throw(m))}catch(g){l(g)}}function h(m){m.done?s(m.value):a(m.value).then(u,f)}h((n=n.apply(e,t||[])).next())})}const v7=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Jw extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class y7 extends Jw{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class H2 extends Jw{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class F2 extends Jw{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var lb;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(lb||(lb={}));class x7{constructor(t,{headers:r={},customFetch:n,region:a=lb.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=v7(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return g7(this,arguments,void 0,function*(r,n={}){var a;let s,l;try{const{headers:u,method:f,body:h,signal:m,timeout:g}=n;let v={},{region:x}=n;x||(x=this.region);const w=new URL(`${this.url}/${r}`);x&&x!=="any"&&(v["x-region"]=x,w.searchParams.set("forceFunctionRegion",x));let S;h&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",S=h):typeof h=="string"?(v["Content-Type"]="text/plain",S=h):typeof FormData<"u"&&h instanceof FormData?S=h:(v["Content-Type"]="application/json",S=JSON.stringify(h)):h&&typeof h!="string"&&!(typeof Blob<"u"&&h instanceof Blob)&&!(h instanceof ArrayBuffer)&&!(typeof FormData<"u"&&h instanceof FormData)?S=JSON.stringify(h):S=h;let N=m;g&&(l=new AbortController,s=setTimeout(()=>l.abort(),g),m?(N=l.signal,m.addEventListener("abort",()=>l.abort())):N=l.signal);const _=yield this.fetch(w.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),u),body:S,signal:N}).catch(M=>{throw new y7(M)}),A=_.headers.get("x-relay-error");if(A&&A==="true")throw new H2(_);if(!_.ok)throw new F2(_);let k=((a=_.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),O;return k==="application/json"?O=yield _.json():k==="application/octet-stream"||k==="application/pdf"?O=yield _.blob():k==="text/event-stream"?O=_:k==="multipart/form-data"?O=yield _.formData():O=yield _.text(),{data:O,error:null,response:_}}catch(u){return{data:null,error:u,response:u instanceof F2||u instanceof H2?u.context:void 0}}finally{s&&clearTimeout(s)}})}}var b7=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},w7=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let l=null,u=null,f=null,h=s.status,m=s.statusText;if(s.ok){var g,v;if(r.method!=="HEAD"){var x;const _=await s.text();_===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((x=r.headers.get("Accept"))===null||x===void 0)&&x.includes("application/vnd.pgrst.plan+text"))?u=_:u=JSON.parse(_))}const S=(g=r.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),N=(v=s.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");S&&N&&N.length>1&&(f=parseInt(N[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(u)&&(u.length>1?(l={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,f=null,h=406,m="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{var w;const S=await s.text();try{l=JSON.parse(S),Array.isArray(l)&&s.status===404&&(u=[],l=null,h=200,m="OK")}catch{s.status===404&&S===""?(h=204,m="No Content"):l={message:S}}if(l&&r.isMaybeSingle&&(!(l==null||(w=l.details)===null||w===void 0)&&w.includes("0 rows"))&&(l=null,h=200,m="OK"),l&&r.shouldThrowOnError)throw new b7(l)}return{error:l,data:u,count:f,status:h,statusText:m}});return this.shouldThrowOnError||(a=a.catch(s=>{var l;let u="";const f=s?.cause;if(f){var h,m,g,v;const w=(h=f?.message)!==null&&h!==void 0?h:"",S=(m=f?.code)!==null&&m!==void 0?m:"";u=`${(g=s?.name)!==null&&g!==void 0?g:"FetchError"}: ${s?.message}`,u+=`

Caused by: ${(v=f?.name)!==null&&v!==void 0?v:"Error"}: ${w}`,S&&(u+=` (${S})`),f?.stack&&(u+=`
${f.stack}`)}else{var x;u=(x=s?.stack)!==null&&x!==void 0?x:""}return{error:{message:`${(l=s?.name)!==null&&l!==void 0?l:"FetchError"}: ${s?.message}`,details:u,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(e,t)}returns(){return this}overrideTypes(){return this}},j7=class extends w7{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}={}){const s=a?`${a}.order`:"order",l=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${l?`${l},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"offset":`${n}.offset`,s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(s,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:s="text"}={}){var l;const u=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),f=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${f}"; options=${u};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const K2=new RegExp("[,()]");var zl=class extends j7{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&K2.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&K2.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let a="";n==="plain"?a="pl":n==="phrase"?a="ph":n==="websearch"&&(a="w");const s=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},S7=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},a=r?"HEAD":"GET";let s=!1;const l=(e??"*").split("").map(h=>/\s/.test(h)&&!s?"":(h==='"'&&(s=!s),h)).join(""),{url:u,headers:f}=this.cloneRequestState();return u.searchParams.set("select",l),n&&f.append("Prefer",`count=${n}`),new zl({method:a,url:u,headers:f,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const a="POST",{url:s,headers:l}=this.cloneRequestState();if(t&&l.append("Prefer",`count=${t}`),r||l.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(u.length>0){const f=[...new Set(u)].map(h=>`"${h}"`);s.searchParams.set("columns",f.join(","))}}return new zl({method:a,url:s,headers:l,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}={}){var s;const l="POST",{url:u,headers:f}=this.cloneRequestState();if(f.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&u.searchParams.set("on_conflict",t),n&&f.append("Prefer",`count=${n}`),a||f.append("Prefer","missing=default"),Array.isArray(e)){const h=e.reduce((m,g)=>m.concat(Object.keys(g)),[]);if(h.length>0){const m=[...new Set(h)].map(g=>`"${g}"`);u.searchParams.set("columns",m.join(","))}}return new zl({method:l,url:u,headers:f,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(e,{count:t}={}){var r;const n="PATCH",{url:a,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new zl({method:n,url:a,headers:s,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:a}=this.cloneRequestState();return e&&a.append("Prefer",`count=${e}`),new zl({method:r,url:n,headers:a,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},N7=class OM{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new S7(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new OM(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:s}={}){var l;let u;const f=new URL(`${this.url}/rpc/${t}`);let h;const m=x=>x!==null&&typeof x=="object"&&(!Array.isArray(x)||x.some(m)),g=n&&Object.values(r).some(m);g?(u="POST",h=r):n||a?(u=n?"HEAD":"GET",Object.entries(r).filter(([x,w])=>w!==void 0).map(([x,w])=>[x,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([x,w])=>{f.searchParams.append(x,w)})):(u="POST",h=r);const v=new Headers(this.headers);return g?v.set("Prefer",s?`count=${s},return=minimal`:"return=minimal"):s&&v.set("Prefer",`count=${s}`),new zl({method:u,url:f,headers:v,schema:this.schemaName,body:h,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};class _7{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const a=n.node,s=parseInt(a.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const k7="2.91.1",A7=`realtime-js/${k7}`,E7="1.0.0",CM="2.0.0",G2=CM,cb=1e4,T7=1e3,O7=100;var Ns;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ns||(Ns={}));var yr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(yr||(yr={}));var ya;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ya||(ya={}));var ub;(function(e){e.websocket="websocket"})(ub||(ub={}));var vo;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(vo||(vo={}));class C7{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},l=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(t,r,n){var a,s;const l=t.topic,u=(a=t.ref)!==null&&a!==void 0?a:"",f=(s=t.join_ref)!==null&&s!==void 0?s:"",h=t.payload.event,m=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},g=Object.keys(m).length===0?"":JSON.stringify(m);if(f.length>255)throw new Error(`joinRef length ${f.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`userEvent length ${h.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`metadata length ${g.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+u.length+l.length+h.length+g.length,x=new ArrayBuffer(this.HEADER_LENGTH+v);let w=new DataView(x),S=0;w.setUint8(S++,this.KINDS.userBroadcastPush),w.setUint8(S++,f.length),w.setUint8(S++,u.length),w.setUint8(S++,l.length),w.setUint8(S++,h.length),w.setUint8(S++,g.length),w.setUint8(S++,r),Array.from(f,_=>w.setUint8(S++,_.charCodeAt(0))),Array.from(u,_=>w.setUint8(S++,_.charCodeAt(0))),Array.from(l,_=>w.setUint8(S++,_.charCodeAt(0))),Array.from(h,_=>w.setUint8(S++,_.charCodeAt(0))),Array.from(g,_=>w.setUint8(S++,_.charCodeAt(0)));var N=new Uint8Array(x.byteLength+n.byteLength);return N.set(new Uint8Array(x),0),N.set(new Uint8Array(n),x.byteLength),N.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,s,l,u,f]=n;return r({join_ref:a,ref:s,topic:l,event:u,payload:f})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;if(n===this.KINDS.userBroadcast)return this._decodeUserBroadcast(t,r,a)}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),s=r.getUint8(2),l=r.getUint8(3),u=r.getUint8(4);let f=this.HEADER_LENGTH+4;const h=n.decode(t.slice(f,f+a));f=f+a;const m=n.decode(t.slice(f,f+s));f=f+s;const g=n.decode(t.slice(f,f+l));f=f+l;const v=t.slice(f,t.byteLength),x=u===this.JSON_ENCODING?JSON.parse(n.decode(v)):v,w={type:this.BROADCAST_EVENT,event:m,payload:x};return l>0&&(w.meta=JSON.parse(g)),{join_ref:null,ref:null,topic:h,event:this.BROADCAST_EVENT,payload:w}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class PM{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ot;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ot||(Ot={}));const W2=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((s,l)=>(s[l]=P7(l,e,t,a),s),{}):{}},P7=(e,t,r,n)=>{const a=t.find(u=>u.name===e),s=a?.type,l=r[e];return s&&!n.includes(s)?DM(s,l):db(l)},DM=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return I7(t,r)}switch(e){case Ot.bool:return D7(t);case Ot.float4:case Ot.float8:case Ot.int2:case Ot.int4:case Ot.int8:case Ot.numeric:case Ot.oid:return M7(t);case Ot.json:case Ot.jsonb:return R7(t);case Ot.timestamp:return L7(t);case Ot.abstime:case Ot.date:case Ot.daterange:case Ot.int4range:case Ot.int8range:case Ot.money:case Ot.reltime:case Ot.text:case Ot.time:case Ot.timestamptz:case Ot.timetz:case Ot.tsrange:case Ot.tstzrange:return db(t);default:return db(t)}},db=e=>e,D7=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},M7=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},R7=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},I7=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const l=e.slice(1,r);try{s=JSON.parse("["+l+"]")}catch{s=l?l.split(","):[]}return s.map(u=>DM(t,u))}return e},L7=e=>typeof e=="string"?e.replace(" ","T"):e,MM=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class V0{constructor(t,r,n={},a=cb){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Y2;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Y2||(Y2={}));class qu{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:s,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=qu.syncState(this.state,a,s,l),this.pendingDiffs.forEach(f=>{this.state=qu.syncDiff(this.state,f,s,l)}),this.pendingDiffs=[],u()}),this.channel._on(n.diff,{},a=>{const{onJoin:s,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=qu.syncDiff(this.state,a,s,l),u())}),this.onJoin((a,s,l)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:s,newPresences:l})}),this.onLeave((a,s,l)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:s,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const s=this.cloneDeep(t),l=this.transformState(r),u={},f={};return this.map(s,(h,m)=>{l[h]||(f[h]=m)}),this.map(l,(h,m)=>{const g=s[h];if(g){const v=m.map(N=>N.presence_ref),x=g.map(N=>N.presence_ref),w=m.filter(N=>x.indexOf(N.presence_ref)<0),S=g.filter(N=>v.indexOf(N.presence_ref)<0);w.length>0&&(u[h]=w),S.length>0&&(f[h]=S)}else u[h]=m}),this.syncDiff(s,{joins:u,leaves:f},n,a)}static syncDiff(t,r,n,a){const{joins:s,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(s,(u,f)=>{var h;const m=(h=t[u])!==null&&h!==void 0?h:[];if(t[u]=this.cloneDeep(f),m.length>0){const g=t[u].map(x=>x.presence_ref),v=m.filter(x=>g.indexOf(x.presence_ref)<0);t[u].unshift(...v)}n(u,m,f)}),this.map(l,(u,f)=>{let h=t[u];if(!h)return;const m=f.map(g=>g.presence_ref);h=h.filter(g=>m.indexOf(g.presence_ref)<0),t[u]=h,a(u,h,f),h.length===0&&delete t[u]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var X2;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(X2||(X2={}));var Vu;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Vu||(Vu={}));var wi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(wi||(wi={}));class Kl{constructor(t,r={config:{}},n){var a,s;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=yr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new V0(this,ya.join,this.params,this.timeout),this.rejoinTimer=new PM(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=yr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=yr.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=yr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=yr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=yr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ya.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new qu(this),this.broadcastEndpointURL=MM(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,s;if(this.socket.isConnected()||this.socket.connect(),this.state==yr.closed){const{config:{broadcast:l,presence:u,private:f}}=this.params,h=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(x=>x.filter))!==null&&a!==void 0?a:[],m=!!this.bindings[Vu.PRESENCE]&&this.bindings[Vu.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,g={},v={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:m}),postgres_changes:h,private:f};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(x=>t?.(wi.CHANNEL_ERROR,x)),this._onClose(()=>t?.(wi.CLOSED)),this.updateJoinPayload(Object.assign({config:v},g)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:x})=>{var w;if(this.socket._isManualToken()||this.socket.setAuth(),x===void 0){t?.(wi.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,N=(w=S?.length)!==null&&w!==void 0?w:0,_=[];for(let A=0;A<N;A++){const k=S[A],{filter:{event:O,schema:M,table:C,filter:D}}=k,L=x&&x[A];if(L&&L.event===O&&Kl.isFilterValueEqual(L.schema,M)&&Kl.isFilterValueEqual(L.table,C)&&Kl.isFilterValueEqual(L.filter,D))_.push(Object.assign(Object.assign({},k),{id:L.id}));else{this.unsubscribe(),this.state=yr.errored,t?.(wi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,t&&t(wi.SUBSCRIBED);return}}).receive("error",x=>{this.state=yr.errored,t?.(wi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{t?.(wi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===yr.joined&&t===Vu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;if(r==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(u.status===202)return{success:!0};let f=u.statusText;try{const h=await u.json();f=h.error||h.message||f}catch{}return Promise.reject(new Error(f))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:l}=t,u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=h.body)===null||a===void 0?void 0:a.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var l,u,f;const h=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((f=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||f===void 0)&&f.ack)&&s("ok"),h.receive("ok",()=>s("ok")),h.receive("error",()=>s("error")),h.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=yr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ya.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new V0(this,ya.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=yr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,s=setTimeout(()=>a.abort(),n),l=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(s),l}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new V0(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>O7){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,s;const l=t.toLocaleLowerCase(),{close:u,error:f,leave:h,join:m}=ya;if(n&&[u,f,h,m].indexOf(l)>=0&&n!==this._joinRef())return;let v=this._onMessage(l,r,n);if(r&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(x=>{var w,S,N;return((w=x.filter)===null||w===void 0?void 0:w.event)==="*"||((N=(S=x.filter)===null||S===void 0?void 0:S.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===l}).map(x=>x.callback(v,n)):(s=this.bindings[l])===null||s===void 0||s.filter(x=>{var w,S,N,_,A,k,O,M;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in x){const C=x.id,D=(w=x.filter)===null||w===void 0?void 0:w.event;return C&&((S=r.ids)===null||S===void 0?void 0:S.includes(C))&&(D==="*"||D?.toLocaleLowerCase()===((N=r.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))&&(!(!((_=x.filter)===null||_===void 0)&&_.table)||x.filter.table===((A=r.data)===null||A===void 0?void 0:A.table))}else{const C=(O=(k=x?.filter)===null||k===void 0?void 0:k.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return C==="*"||C===((M=r?.event)===null||M===void 0?void 0:M.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===l}).map(x=>{if(typeof v=="object"&&"ids"in v){const w=v.data,{schema:S,table:N,commit_timestamp:_,type:A,errors:k}=w;v=Object.assign(Object.assign({},{schema:S,table:N,commit_timestamp:_,eventType:A,new:{},old:{},errors:k}),this._getPayloadRecords(w))}x.callback(v,n)})}_isClosed(){return this.state===yr.closed}_isJoined(){return this.state===yr.joined}_isJoining(){return this.state===yr.joining}_isLeaving(){return this.state===yr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),s={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(s):this.bindings[a]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var s;return!(((s=a.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&Kl.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ya.close,{},t)}_onError(t){this._on(ya.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=yr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=W2(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=W2(t.columns,t.old_record)),r}}const H0=()=>{},kh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},$7=[1e3,2e3,5e3,1e4],U7=1e4,B7=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class z7{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=cb,this.transport=null,this.heartbeatIntervalMs=kh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=H0,this.ref=0,this.reconnectTimer=null,this.vsn=G2,this.logger=H0,this.conn=null,this.sendBuffer=[],this.serializer=new C7,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=a=>a?(...s)=>a(...s):(...s)=>fetch(...s),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${ub.websocket}`,this.httpEndpoint=MM(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=_7.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ns.connecting:return vo.Connecting;case Ns.open:return vo.Open;case Ns.closing:return vo.Closing;default:return vo.Closed}}isConnected(){return this.connectionState()===vo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(s=>s.topic===n);if(a)return a;{const s=new Kl(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:a,ref:s}=t,l=()=>{this.encode(t,u=>{var f;(f=this.conn)===null||f===void 0||f.send(u)})};this.log("push",`${r} ${n} (${s})`,a),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(T7,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},kh.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const h=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",h)}catch(m){this.log("error","error in heartbeat callback",m)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:a,payload:s,ref:l}=r,u=l?`(${l})`:"",f=s.status||"";this.log("receive",`${f} ${n} ${a} ${u}`.trim(),s),this.channels.filter(h=>h._isMember(n)).forEach(h=>h._trigger(a,s,l)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Ns.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ns.open||this.conn.readyState===Ns.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ya.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([B7],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const s={access_token:r,version:A7};r&&a.updateJoinPayload(s),a.joinedOnce&&a._isJoined()&&a._push(ya.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new PM(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},kh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,s,l,u,f,h,m,g,v,x;switch(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t?.timeout)!==null&&n!==void 0?n:cb,this.heartbeatIntervalMs=(a=t?.heartbeatIntervalMs)!==null&&a!==void 0?a:kh.HEARTBEAT_INTERVAL,this.worker=(s=t?.worker)!==null&&s!==void 0?s:!1,this.accessToken=(l=t?.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=t?.heartbeatCallback)!==null&&u!==void 0?u:H0,this.vsn=(f=t?.vsn)!==null&&f!==void 0?f:G2,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=t?.reconnectAfterMs)!==null&&h!==void 0?h:(w=>$7[w-1]||U7),this.vsn){case E7:this.encode=(m=t?.encode)!==null&&m!==void 0?m:((w,S)=>S(JSON.stringify(w))),this.decode=(g=t?.decode)!==null&&g!==void 0?g:((w,S)=>S(JSON.parse(w)));break;case CM:this.encode=(v=t?.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(x=t?.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}var rd=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function q7(e,t,r){const n=new URL(t,e);if(r)for(const[a,s]of Object.entries(r))s!==void 0&&n.searchParams.set(a,s);return n.toString()}async function V7(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function H7(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:s,headers:l}){const u=q7(e.baseUrl,n,a),f=await V7(e.auth),h=await t(u,{method:r,headers:{...s?{"Content-Type":"application/json"}:{},...f,...l},body:s?JSON.stringify(s):void 0}),m=await h.text(),g=(h.headers.get("content-type")||"").includes("application/json"),v=g&&m?JSON.parse(m):m;if(!h.ok){const x=g?v:void 0,w=x?.error;throw new rd(w?.message??`Request failed with status ${h.status}`,{status:h.status,icebergType:w?.type,icebergCode:w?.code,details:x})}return{status:h.status,headers:h.headers,data:v}}}}function Ah(e){return e.join("")}var F7=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Ah(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ah(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ah(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ah(e.namespace)}`}),!0}catch(t){if(t instanceof rd&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof rd&&r.status===409)return;throw r}}};function Cl(e){return e.join("")}var K7=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Cl(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Cl(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Cl(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Cl(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Cl(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Cl(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof rd&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof rd&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},G7=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=H7({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new F7(this.client,t),this.tableOps=new K7(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},kp=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Ht(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var W7=class extends kp{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},fb=class extends kp{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const ej=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Y7=()=>Response,hb=e=>{if(Array.isArray(e))return e.map(r=>hb(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[a]=hb(n)}),t},X7=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Z7=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function nd(e){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nd(e)}function Q7(e,t){if(nd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function J7(e){var t=Q7(e,"string");return nd(t)=="symbol"?t:t+""}function eq(e,t,r){return(t=J7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ke(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z2(Object(r),!0).forEach(function(n){eq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const F0=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},tq=async(e,t,r)=>{e instanceof await Y7()&&!r?.noResolveJson?e.json().then(n=>{const a=e.status||500,s=n?.statusCode||a+"";t(new W7(F0(n),a,s))}).catch(n=>{t(new fb(F0(n),n))}):t(new fb(F0(e),e))},rq=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"||!n?a:(X7(n)?(a.headers=Ke({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(n)):a.body=n,t?.duplex&&(a.duplex=t.duplex),Ke(Ke({},a),r))};async function Ld(e,t,r,n,a,s){return new Promise((l,u)=>{e(r,rq(t,n,a,s)).then(f=>{if(!f.ok)throw f;return n?.noResolveJson?f:f.json()}).then(f=>l(f)).catch(f=>tq(f,u,n))})}async function ad(e,t,r,n){return Ld(e,"GET",t,r,n)}async function ga(e,t,r,n,a){return Ld(e,"POST",t,n,a,r)}async function mb(e,t,r,n,a){return Ld(e,"PUT",t,n,a,r)}async function nq(e,t,r,n){return Ld(e,"HEAD",t,Ke(Ke({},r),{},{noResolveJson:!0}),n)}async function tj(e,t,r,n,a){return Ld(e,"DELETE",t,n,a,r)}var aq=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ht(t))return{data:null,error:t};throw t}}};let RM;RM=Symbol.toStringTag;var iq=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[RM]="BlobDownloadBuilder",this.promise=null}asStream(){return new aq(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ht(t))return{data:null,error:t};throw t}}};const sq={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Q2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var oq=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=ej(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,n){var a=this;try{let s;const l=Ke(Ke({},Q2),n);let u=Ke(Ke({},a.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const f=l.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",l.cacheControl),f&&s.append("metadata",a.encodeMetadata(f)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.has("cacheControl")||s.append("cacheControl",l.cacheControl),f&&!s.has("metadata")&&s.append("metadata",a.encodeMetadata(f))):(s=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,f&&(u["x-metadata"]=a.toBase64(a.encodeMetadata(f))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!l.duplex&&(l.duplex="half")),n?.headers&&(u=Ke(Ke({},u),n.headers));const h=a._removeEmptyFolders(t),m=a._getFinalPath(h),g=await(e=="PUT"?mb:ga)(a.fetch,`${a.url}/object/${m}`,s,Ke({headers:u},l?.duplex?{duplex:l.duplex}:{}));return{data:{path:h,id:g.Id,fullPath:g.Key},error:null}}catch(s){if(a.shouldThrowOnError)throw s;if(Ht(s))return{data:null,error:s};throw s}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var a=this;const s=a._removeEmptyFolders(e),l=a._getFinalPath(s),u=new URL(a.url+`/object/upload/sign/${l}`);u.searchParams.set("token",t);try{let f;const h=Ke({upsert:Q2.upsert},n),m=Ke(Ke({},a.headers),{"x-upsert":String(h.upsert)});return typeof Blob<"u"&&r instanceof Blob?(f=new FormData,f.append("cacheControl",h.cacheControl),f.append("",r)):typeof FormData<"u"&&r instanceof FormData?(f=r,f.append("cacheControl",h.cacheControl)):(f=r,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType),{data:{path:s,fullPath:(await mb(a.fetch,u.toString(),f,{headers:m})).Key},error:null}}catch(f){if(a.shouldThrowOnError)throw f;if(Ht(f))return{data:null,error:f};throw f}}async createSignedUploadUrl(e,t){var r=this;try{let n=r._getFinalPath(e);const a=Ke({},r.headers);t?.upsert&&(a["x-upsert"]="true");const s=await ga(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:a}),l=new URL(r.url+s.url),u=l.searchParams.get("token");if(!u)throw new kp("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:u},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;try{return{data:await ga(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Ht(a))return{data:null,error:a};throw a}}async copy(e,t,r){var n=this;try{return{data:{path:(await ga(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:n.headers})).Key},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Ht(a))return{data:null,error:a};throw a}}async createSignedUrl(e,t,r){var n=this;try{let a=n._getFinalPath(e),s=await ga(n.fetch,`${n.url}/object/sign/${a}`,Ke({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:n.headers});const l=r?.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${n.url}${s.signedURL}${l}`)},{data:s,error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Ht(a))return{data:null,error:a};throw a}}async createSignedUrls(e,t,r){var n=this;try{const a=await ga(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(l=>Ke(Ke({},l),{},{signedUrl:l.signedURL?encodeURI(`${n.url}${l.signedURL}${s}`):null})),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Ht(a))return{data:null,error:a};throw a}}download(e,t){const r=typeof t?.transform<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString(t?.transform||{}),a=n?`?${n}`:"",s=this._getFinalPath(e),l=()=>ad(this.fetch,`${this.url}/${r}/${s}${a}`,{headers:this.headers,noResolveJson:!0});return new iq(l,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:hb(await ad(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await nq(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Ht(n)&&n instanceof fb){const a=n.originalError;if([400,404].includes(a?.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],a=t?.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&n.push(a);const s=typeof t?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(t?.transform||{});l!==""&&n.push(l);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${u}`)}}}async remove(e){var t=this;try{return{data:await tj(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}}async list(e,t,r){var n=this;try{const a=Ke(Ke(Ke({},sq),t),{},{prefix:e||""});return{data:await ga(n.fetch,`${n.url}/object/list/${n.bucketId}`,a,{headers:n.headers},r),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Ht(a))return{data:null,error:a};throw a}}async listV2(e,t){var r=this;try{const n=Ke({},e);return{data:await ga(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const IM="2.91.1",LM={"X-Client-Info":`storage-js/${IM}`};var lq=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1;const a=new URL(e);n?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Ke(Ke({},LM),t),this.fetch=ej(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await ad(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await ad(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await ga(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}}async updateBucket(e,t){var r=this;try{return{data:await mb(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ht(n))return{data:null,error:n};throw n}}async emptyBucket(e){var t=this;try{return{data:await ga(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await tj(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},cq=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ke(Ke({},LM),t),this.fetch=ej(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await ga(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;e?.limit!==void 0&&r.set("limit",e.limit.toString()),e?.offset!==void 0&&r.set("offset",e.offset.toString()),e?.sortColumn&&r.set("sortColumn",e.sortColumn),e?.sortOrder&&r.set("sortOrder",e.sortOrder),e?.search&&r.set("search",e.search);const n=r.toString(),a=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return{data:await ad(t.fetch,a,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await tj(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!Z7(e))throw new kp("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new G7({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,s){const l=a[s];return typeof l!="function"?l:async(...u)=>{try{return{data:await l.apply(a,u),error:null}}catch(f){if(n)throw f;return{data:null,error:f}}}}})}};const rj={"X-Client-Info":`storage-js/${IM}`,"Content-Type":"application/json"};var $M=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Pn(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var K0=class extends $M{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},uq=class extends $M{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const nj=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),dq=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},J2=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),fq=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!r?.noResolveJson){const n=e.status||500,a=e;if(typeof a.json=="function")a.json().then(s=>{const l=s?.statusCode||s?.code||n+"";t(new K0(J2(s),n,l))}).catch(()=>{const s=n+"";t(new K0(a.statusText||`HTTP ${n} error`,n,s))});else{const s=n+"";t(new K0(a.statusText||`HTTP ${n} error`,n,s))}}else t(new uq(J2(e),e))},hq=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return n?(dq(n)?(a.headers=Ke({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(n)):a.body=n,Ke(Ke({},a),r)):a};async function mq(e,t,r,n,a,s){return new Promise((l,u)=>{e(r,hq(t,n,a,s)).then(f=>{if(!f.ok)throw f;if(n?.noResolveJson)return f;const h=f.headers.get("content-type");return!h||!h.includes("application/json")?{}:f.json()}).then(f=>l(f)).catch(f=>fq(f,u,n))})}async function Dn(e,t,r,n,a){return mq(e,"POST",t,n,a,r)}var pq=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ke(Ke({},rj),t),this.fetch=nj(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await Dn(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Pn(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await Dn(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Pn(n))return{data:null,error:n};throw n}}async listIndexes(e){var t=this;try{return{data:await Dn(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Pn(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await Dn(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Pn(n))return{data:null,error:n};throw n}}},gq=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ke(Ke({},rj),t),this.fetch=nj(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Dn(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Pn(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await Dn(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Pn(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await Dn(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Pn(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await Dn(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Pn(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Dn(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Pn(r))return{data:null,error:r};throw r}}},vq=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ke(Ke({},rj),t),this.fetch=nj(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Dn(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Pn(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Dn(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Pn(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await Dn(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Pn(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Dn(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Pn(r))return{data:null,error:r};throw r}}},yq=class extends vq{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new xq(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},xq=class extends pq{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,Ke(Ke({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,Ke(Ke({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new bq(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},bq=class extends gq{constructor(e,t,r,n,a){super(e,t,a),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,Ke(Ke({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,Ke(Ke({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,Ke(Ke({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,Ke(Ke({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,Ke(Ke({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},wq=class extends lq{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new oq(this.url,this.headers,e,this.fetch)}get vectors(){return new yq(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new cq(this.url+"/iceberg",this.headers,this.fetch)}};const UM="2.91.1",ql=30*1e3,pb=3,G0=pb*ql,jq="http://localhost:9999",Sq="supabase.auth.token",Nq={"X-Client-Info":`gotrue-js/${UM}`},gb="X-Supabase-Api-Version",BM={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},_q=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,kq=600*1e3;class id extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Le(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Aq extends id{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Eq(e){return Le(e)&&e.name==="AuthApiError"}class yo extends id{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Vi extends id{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Cn extends Vi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Tq(e){return Le(e)&&e.name==="AuthSessionMissingError"}class Pl extends Vi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Eh extends Vi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Th extends Vi{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Oq(e){return Le(e)&&e.name==="AuthImplicitGrantRedirectError"}class eA extends Vi{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Cq extends Vi{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class vb extends Vi{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function W0(e){return Le(e)&&e.name==="AuthRetryableFetchError"}class tA extends Vi{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class yb extends Vi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const gm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),rA=` 	
\r=`.split(""),Pq=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<rA.length;t+=1)e[rA[t].charCodeAt(0)]=-2;for(let t=0;t<gm.length;t+=1)e[gm[t].charCodeAt(0)]=t;return e})();function nA(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(gm[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(gm[n]),t.queuedBits-=6}}function zM(e,t,r){const n=Pq[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function aA(e){const t=[],r=l=>{t.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=l=>{Rq(l,n,r)};for(let l=0;l<e.length;l+=1)zM(e.charCodeAt(l),a,s);return t.join("")}function Dq(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Mq(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}Dq(n,t)}}function Rq(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function ec(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)zM(e.charCodeAt(a),r,n);return new Uint8Array(t)}function Iq(e){const t=[];return Mq(e,r=>t.push(r)),new Uint8Array(t)}function xo(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>nA(a,r,n)),nA(null,r,n),t.join("")}function Lq(e){return Math.round(Date.now()/1e3)+e}function $q(){return Symbol("auth-callback")}const Fr=()=>typeof window<"u"&&typeof document<"u",lo={tested:!1,writable:!1},qM=()=>{if(!Fr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(lo.tested)return lo.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),lo.tested=!0,lo.writable=!0}catch{lo.tested=!0,lo.writable=!1}return lo.writable};function Uq(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,s)=>{t[s]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const VM=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Bq=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Vl=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},co=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Hr=async(e,t)=>{await e.removeItem(t)};class Ap{constructor(){this.promise=new Ap.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Ap.promiseConstructor=Promise;function Y0(e){const t=e.split(".");if(t.length!==3)throw new yb("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!_q.test(t[n]))throw new yb("JWT not in base64url format");return{header:JSON.parse(aA(t[0])),payload:JSON.parse(aA(t[1])),signature:ec(t[2]),raw:{header:t[0],payload:t[1]}}}async function zq(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function qq(e,t){return new Promise((n,a)=>{(async()=>{for(let s=0;s<1/0;s++)try{const l=await e(s);if(!t(s,null,l)){n(l);return}}catch(l){if(!t(s,l)){a(l);return}}})()})}function Vq(e){return("0"+e.toString(16)).substr(-2)}function Hq(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let s=0;s<56;s++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,Vq).join("")}async function Fq(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(s=>String.fromCharCode(s)).join("")}async function Kq(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Fq(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Dl(e,t,r=!1){const n=Hq();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Vl(e,`${t}-code-verifier`,a);const s=await Kq(n);return[s,n===s?"plain":"s256"]}const Gq=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Wq(e){const t=e.headers.get(gb);if(!t||!t.match(Gq))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Yq(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Xq(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Zq=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ml(e){if(!Zq.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function X0(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Qq(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function iA(e){return JSON.parse(JSON.stringify(e))}const fo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Jq=[502,503,504];async function sA(e){var t;if(!Bq(e))throw new vb(fo(e),0);if(Jq.includes(e.status))throw new vb(fo(e),e.status);let r;try{r=await e.json()}catch(s){throw new yo(fo(s),s)}let n;const a=Wq(e);if(a&&a.getTime()>=BM["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new tA(fo(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Cn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,l)=>s&&typeof l=="string",!0))throw new tA(fo(r),e.status,r.weak_password.reasons);throw new Aq(fo(r),e.status||500,n)}const eV=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Fe(e,t,r,n){var a;const s=Object.assign({},n?.headers);s[gb]||(s[gb]=BM["2024-01-01"].name),n?.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const l=(a=n?.query)!==null&&a!==void 0?a:{};n?.redirectTo&&(l.redirect_to=n.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",f=await tV(e,t,r+u,{headers:s,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(f):{data:Object.assign({},f),error:null}}async function tV(e,t,r,n,a,s){const l=eV(t,n,a,s);let u;try{u=await e(r,Object.assign({},l))}catch(f){throw console.error(f),new vb(fo(f),0)}if(u.ok||await sA(u),n?.noResolveJson)return u;try{return await u.json()}catch(f){await sA(f)}}function ha(e){var t;let r=null;aV(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Lq(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function oA(e){const t=ha(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function As(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function rV(e){return{data:e,error:null}}function nV(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s}=e,l=_p(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s},f=Object.assign({},l);return{data:{properties:u,user:f},error:null}}function lA(e){return e}function aV(e){return e.access_token&&e.refresh_token&&e.expires_in}const Z0=["global","local","others"];class iV{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=VM(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Z0[0]){if(Z0.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Z0.join(", ")}`);try{return await Fe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Le(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Fe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:As})}catch(n){if(Le(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=_p(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n?.newEmail,delete a.newEmail),await Fe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:nV,redirectTo:r?.redirectTo})}catch(r){if(Le(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Fe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:As})}catch(r){if(Le(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,s,l,u,f;try{const h={nextPage:null,lastPage:0,total:0},m=await Fe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:lA});if(m.error)throw m.error;const g=await m.json(),v=(l=m.headers.get("x-total-count"))!==null&&l!==void 0?l:0,x=(f=(u=m.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&f!==void 0?f:[];return x.length>0&&(x.forEach(w=>{const S=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(w.split(";")[1].split("=")[1]);h[`${N}Page`]=S}),h.total=parseInt(v)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(Le(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){Ml(t);try{return await Fe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:As})}catch(r){if(Le(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Ml(t);try{return await Fe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:As})}catch(n){if(Le(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Ml(t);try{return await Fe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:As})}catch(n){if(Le(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Ml(t.userId);try{const{data:r,error:n}=await Fe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Le(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Ml(t.userId),Ml(t.id);try{return{data:await Fe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Le(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,s,l,u,f;try{const h={nextPage:null,lastPage:0,total:0},m=await Fe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:lA});if(m.error)throw m.error;const g=await m.json(),v=(l=m.headers.get("x-total-count"))!==null&&l!==void 0?l:0,x=(f=(u=m.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&f!==void 0?f:[];return x.length>0&&(x.forEach(w=>{const S=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(w.split(";")[1].split("=")[1]);h[`${N}Page`]=S}),h.total=parseInt(v)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(Le(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(t){try{return await Fe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Le(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Fe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Le(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Fe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Le(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Fe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Le(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Fe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Le(r))return{data:null,error:r};throw r}}}function cA(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Rl={debug:!!(globalThis&&qM()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class HM extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class sV extends HM{}async function oV(e,t,r){Rl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Rl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Rl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Rl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Rl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new sV(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Rl.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function lV(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function FM(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function cV(e){return parseInt(e,16)}function uV(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function dV(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:s=new Date,nonce:l,notBefore:u,requestId:f,resources:h,scheme:m,uri:g,version:v}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const x=FM(e.address),w=m?`${m}://${n}`:n,S=e.statement?`${e.statement}
`:"",N=`${w} wants you to sign in with your Ethereum account:
${x}

${S}`;let _=`URI: ${g}
Version: ${v}
Chain ID: ${r}${l?`
Nonce: ${l}`:""}
Issued At: ${s.toISOString()}`;if(a&&(_+=`
Expiration Time: ${a.toISOString()}`),u&&(_+=`
Not Before: ${u.toISOString()}`),f&&(_+=`
Request ID: ${f}`),h){let A=`
Resources:`;for(const k of h){if(!k||typeof k!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${k}`);A+=`
- ${k}`}_+=A}return`${N}
${_}`}class ur extends Error{constructor({message:t,code:r,cause:n,name:a}){var s;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=a??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class vm extends ur{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function fV({error:e,options:t}){var r,n,a;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ur({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ur({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new ur({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=s.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new ur({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ur({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ur({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new ur({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ur({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(KM(l)){if(s.rp.id!==l)return new ur({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ur({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new ur({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ur({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ur({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function hV({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ur({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ur({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(KM(n)){if(r.rpId!==n)return new ur({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ur({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ur({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ur({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class mV{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const pV=new mV;function gV(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=_p(e,["challenge","user","excludeCredentials"]),s=ec(t).buffer,l=Object.assign(Object.assign({},r),{id:ec(r.id).buffer}),u=Object.assign(Object.assign({},a),{challenge:s,user:l});if(n&&n.length>0){u.excludeCredentials=new Array(n.length);for(let f=0;f<n.length;f++){const h=n[f];u.excludeCredentials[f]=Object.assign(Object.assign({},h),{id:ec(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return u}function vV(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=_p(e,["challenge","allowCredentials"]),a=ec(t).buffer,s=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];s.allowCredentials[l]=Object.assign(Object.assign({},u),{id:ec(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function yV(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:xo(new Uint8Array(e.response.attestationObject)),clientDataJSON:xo(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function xV(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:xo(new Uint8Array(a.authenticatorData)),clientDataJSON:xo(new Uint8Array(a.clientDataJSON)),signature:xo(new Uint8Array(a.signature)),userHandle:a.userHandle?xo(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function KM(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function uA(){var e,t;return!!(Fr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function bV(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new vm("Browser returned unexpected credential type",t)}:{data:null,error:new vm("Empty credential response",t)}}catch(t){return{data:null,error:fV({error:t,options:e})}}}async function wV(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new vm("Browser returned unexpected credential type",t)}:{data:null,error:new vm("Empty credential response",t)}}catch(t){return{data:null,error:hV({error:t,options:e})}}}const jV={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},SV={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ym(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const s in a){const l=a[s];if(l!==void 0)if(Array.isArray(l))n[s]=l;else if(r(l))n[s]=l;else if(t(l)){const u=n[s];t(u)?n[s]=ym(u,l):n[s]=ym(l)}else n[s]=l}return n}function NV(e,t){return ym(jV,e,t||{})}function _V(e,t){return ym(SV,e,t||{})}class kV{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},s){try{const{data:l,error:u}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!l)return{data:null,error:u};const f=a??pV.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:h}=l.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${n}`),h.displayName||(h.displayName=h.name)}switch(l.webauthn.type){case"create":{const h=NV(l.webauthn.credential_options.publicKey,s?.create),{data:m,error:g}=await bV({publicKey:h,signal:f});return m?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:m}},error:null}:{data:null,error:g}}case"request":{const h=_V(l.webauthn.credential_options.publicKey,s?.request),{data:m,error:g}=await wV(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:h,signal:f}));return m?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:m}},error:null}:{data:null,error:g}}}}catch(l){return Le(l)?{data:null,error:l}:{data:null,error:new yo("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},s){if(!r)return{data:null,error:new id("rpId is required for WebAuthn authentication")};try{if(!uA())return{data:null,error:new yo("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:s});if(!l)return{data:null,error:u};const{webauthn:f}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:f.type,rpId:r,rpOrigins:n,credential_response:f.credential_response}})}catch(l){return Le(l)?{data:null,error:l}:{data:null,error:new yo("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},s){if(!r)return{data:null,error:new id("rpId is required for WebAuthn registration")};try{if(!uA())return{data:null,error:new yo("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(m=>{var g;return(g=m.data)===null||g===void 0?void 0:g.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===t&&v.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m?.id}):void 0),{data:null,error:u};const{data:f,error:h}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:s});return f?this._verify({factorId:l.id,challengeId:f.challengeId,webauthn:{rpId:r,rpOrigins:n,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:h}}catch(l){return Le(l)?{data:null,error:l}:{data:null,error:new yo("Unexpected error in register",l)}}}}lV();const AV={url:jq,storageKey:Sq,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Nq,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function dA(e,t,r){return await r()}const Il={};class sd{get jwks(){var t,r;return(r=(t=Il[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Il[this.storageKey]=Object.assign(Object.assign({},Il[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Il[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Il[this.storageKey]=Object.assign(Object.assign({},Il[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},AV),t);if(this.storageKey=s.storageKey,this.instanceID=(r=sd.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,sd.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Fr()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new iV({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=VM(s.fetch),this.lock=s.lock||dA,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&Fr()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=oV:this.lock=dA,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new kV(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:qM()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=cA(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=cA(this.memoryStorage)),Fr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${UM}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Fr()&&(r=Uq(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Fr()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Oq(s)){const f=(t=s.details)===null||t===void 0?void 0:t.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:s}}return{error:s}}const{session:l,redirectType:u}=a;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Le(r)?this._returnResult({error:r}):this._returnResult({error:new yo("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const s=await Fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t?.options)===null||a===void 0?void 0:a.captchaToken}},xform:ha}),{data:l,error:u}=s;if(u||!l)return this._returnResult({data:{user:null,session:null},error:u});const f=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(s){if(Le(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(t){var r,n,a;try{let s;if("email"in t){const{email:m,password:g,options:v}=t;let x=null,w=null;this.flowType==="pkce"&&([x,w]=await Dl(this.storage,this.storageKey)),s=await Fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:m,password:g,data:(r=v?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:x,code_challenge_method:w},xform:ha})}else if("phone"in t){const{phone:m,password:g,options:v}=t;s=await Fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:g,data:(n=v?.data)!==null&&n!==void 0?n:{},channel:(a=v?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:ha})}else throw new Eh("You must provide either an email or phone number and a password");const{data:l,error:u}=s;if(u||!l)return await Hr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const f=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(s){if(await Hr(this.storage,`${this.storageKey}-code-verifier`),Le(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:l,options:u}=t;r=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:oA})}else if("phone"in t){const{phone:s,password:l,options:u}=t;r=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:oA})}else throw new Eh("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const s=new Pl;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Le(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,s,l,u,f,h,m,g,v;let x,w;if("message"in t)x=t.message,w=t.signature;else{const{chain:S,wallet:N,statement:_,options:A}=t;let k;if(Fr())if(typeof N=="object")k=N;else{const V=window;if("ethereum"in V&&typeof V.ethereum=="object"&&"request"in V.ethereum&&typeof V.ethereum.request=="function")k=V.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=N}const O=new URL((r=A?.url)!==null&&r!==void 0?r:window.location.href),M=await k.request({method:"eth_requestAccounts"}).then(V=>V).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!M||M.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const C=FM(M[0]);let D=(n=A?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!D){const V=await k.request({method:"eth_chainId"});D=cV(V)}const L={domain:O.host,address:C,statement:_,uri:O.href,version:"1",chainId:D,nonce:(a=A?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(l=(s=A?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=A?.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(f=A?.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(h=A?.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(m=A?.signInWithEthereum)===null||m===void 0?void 0:m.resources};x=dV(L),w=await k.request({method:"personal_sign",params:[uV(x),C]})}try{const{data:S,error:N}=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:w},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:ha});if(N)throw N;if(!S||!S.session||!S.user){const _=new Pl;return this._returnResult({data:{user:null,session:null},error:_})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:N})}catch(S){if(Le(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async signInWithSolana(t){var r,n,a,s,l,u,f,h,m,g,v,x;let w,S;if("message"in t)w=t.message,S=t.signature;else{const{chain:N,wallet:_,statement:A,options:k}=t;let O;if(Fr())if(typeof _=="object")O=_;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))O=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!k?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=_}const M=new URL((r=k?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in O&&O.signIn){const C=await O.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},k?.signInWithSolana),{version:"1",domain:M.host,uri:M.href}),A?{statement:A}:null));let D;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")D=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)D=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in D&&"signature"in D&&(typeof D.signedMessage=="string"||D.signedMessage instanceof Uint8Array)&&D.signature instanceof Uint8Array)w=typeof D.signedMessage=="string"?D.signedMessage:new TextDecoder().decode(D.signedMessage),S=D.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in O)||typeof O.signMessage!="function"||!("publicKey"in O)||typeof O!="object"||!O.publicKey||!("toBase58"in O.publicKey)||typeof O.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${M.host} wants you to sign in with your Solana account:`,O.publicKey.toBase58(),...A?["",A,""]:[""],"Version: 1",`URI: ${M.href}`,`Issued At: ${(a=(n=k?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((s=k?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${k.signInWithSolana.notBefore}`]:[],...!((l=k?.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${k.signInWithSolana.expirationTime}`]:[],...!((u=k?.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${k.signInWithSolana.chainId}`]:[],...!((f=k?.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${k.signInWithSolana.nonce}`]:[],...!((h=k?.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${k.signInWithSolana.requestId}`]:[],...!((g=(m=k?.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||g===void 0)&&g.length?["Resources",...k.signInWithSolana.resources.map(D=>`- ${D}`)]:[]].join(`
`);const C=await O.signMessage(new TextEncoder().encode(w),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=C}}try{const{data:N,error:_}=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:xo(S)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:ha});if(_)throw _;if(!N||!N.session||!N.user){const A=new Pl;return this._returnResult({data:{user:null,session:null},error:A})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:_})}catch(N){if(Le(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async _exchangeCodeForSession(t){const r=await co(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new Cq;const{data:s,error:l}=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ha});if(await Hr(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!s||!s.session||!s.user){const u=new Pl;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:a??null}),error:l})}catch(s){if(await Hr(this.storage,`${this.storageKey}-code-verifier`),Le(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:s,nonce:l}=t,u=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:s,nonce:l,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:ha}),{data:f,error:h}=u;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!f||!f.session||!f.user){const m=new Pl;return this._returnResult({data:{user:null,session:null},error:m})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:h})}catch(r){if(Le(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,s,l;try{if("email"in t){const{email:u,options:f}=t;let h=null,m=null;this.flowType==="pkce"&&([h,m]=await Dl(this.storage,this.storageKey));const{error:g}=await Fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=f?.data)!==null&&r!==void 0?r:{},create_user:(n=f?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:h,code_challenge_method:m},redirectTo:f?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in t){const{phone:u,options:f}=t,{data:h,error:m}=await Fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(a=f?.data)!==null&&a!==void 0?a:{},create_user:(s=f?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(l=f?.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:m})}throw new Eh("You must provide either an email or phone number.")}catch(u){if(await Hr(this.storage,`${this.storageKey}-code-verifier`),Le(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(t){var r,n;try{let a,s;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:u}=await Fe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:a,xform:ha});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const f=l.session,h=l.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(a){if(Le(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,s,l;try{let u=null,f=null;this.flowType==="pkce"&&([u,f]=await Dl(this.storage,this.storageKey));const h=await Fe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:f}),headers:this.headers,xform:rV});return!((s=h.data)===null||s===void 0)&&s.url&&Fr()&&!(!((l=t.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(h.data.url),this._returnResult(h)}catch(u){if(await Hr(this.storage,`${this.storageKey}-code-verifier`),Le(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Cn;const{error:a}=await Fe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(Le(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:s}=t,{error:l}=await Fe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in t){const{phone:n,type:a,options:s}=t,{data:l,error:u}=await Fe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l?.message_id},error:u})}throw new Eh("You must provide either an email or phone number and a type")}catch(r){if(Le(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await co(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<G0:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const l=await co(this.userStorage,this.storageKey+"-user");l?.user?t.user=l.user:t.user=X0()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};t.user=Qq(t.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:As}):await this._useSession(async r=>{var n,a,s;const{data:l,error:u}=r;if(u)throw u;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Cn}:await Fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0,xform:As})})}catch(r){if(Le(r))return Tq(r)&&(await this._removeSession(),await Hr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:s}=n;if(s)throw s;if(!a.session)throw new Cn;const l=a.session;let u=null,f=null;this.flowType==="pkce"&&t.email!=null&&([u,f]=await Dl(this.storage,this.storageKey));const{data:h,error:m}=await Fe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:f}),jwt:l.access_token,xform:As});if(m)throw m;return l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(n){if(await Hr(this.storage,`${this.storageKey}-code-verifier`),Le(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Cn;const r=Date.now()/1e3;let n=r,a=!0,s=null;const{payload:l}=Y0(t.access_token);if(l.exp&&(n=l.exp,a=n<=r),a){const{data:u,error:f}=await this._callRefreshToken(t.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!u)return{data:{user:null,session:null},error:null};s=u}else{const{data:u,error:f}=await this._getUser(t.access_token);if(f)throw f;s={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(Le(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:l,error:u}=r;if(u)throw u;t=(n=l.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new Cn;const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Le(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Fr())throw new Th("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Th(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new eA("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Th("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new eA("No code detected.");const{data:A,error:k}=await this._exchangeCodeForSession(t.code);if(k)throw k;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:s,refresh_token:l,expires_in:u,expires_at:f,token_type:h}=t;if(!s||!u||!l||!h)throw new Th("No session defined in URL");const m=Math.round(Date.now()/1e3),g=parseInt(u);let v=m+g;f&&(v=parseInt(f));const x=v-m;x*1e3<=ql&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${g}s`);const w=v-g;m-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,v,m):m-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,v,m);const{data:S,error:N}=await this._getUser(s);if(N)throw N;const _={provider_token:n,provider_refresh_token:a,access_token:s,expires_in:g,expires_at:v,refresh_token:l,token_type:h,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:_,redirectType:t.type},error:null})}catch(n){if(Le(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await co(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({error:s});const l=(n=a.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:u}=await this.admin.signOut(l,t);if(u&&!(Eq(u)&&(u.status===404||u.status===401||u.status===403)))return this._returnResult({error:u})}return t!=="others"&&(await this._removeSession(),await Hr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=$q(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:s},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Dl(this.storage,this.storageKey,!0));try{return await Fe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(await Hr(this.storage,`${this.storageKey}-code-verifier`),Le(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Le(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async s=>{var l,u,f,h,m;const{data:g,error:v}=s;if(v)throw v;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(f=t.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Fe(this.fetch,"GET",x,{headers:this.headers,jwt:(m=(h=g.session)===null||h===void 0?void 0:h.access_token)!==null&&m!==void 0?m:void 0})});if(a)throw a;return Fr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:t.provider,url:n?.url},error:null})}catch(n){if(Le(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:s}}=r;if(a)throw a;const{options:l,provider:u,token:f,access_token:h,nonce:m}=t,g=await Fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:u,id_token:f,access_token:h,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:ha}),{data:v,error:x}=g;return x?this._returnResult({data:{user:null,session:null},error:x}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new Pl}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:x}))}catch(a){if(await Hr(this.storage,`${this.storageKey}-code-verifier`),Le(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:l}=r;if(l)throw l;return await Fe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Le(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await qq(async a=>(a>0&&await zq(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Fe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ha})),(a,s)=>{const l=200*Math.pow(2,a);return s&&W0(s)&&Date.now()+l-n<ql})}catch(n){if(this._debug(r,"error",n),Le(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Fr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await co(this.storage,this.storageKey);if(a&&this.userStorage){let l=await co(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:a.user},await Vl(this.userStorage,this.storageKey+"-user",l)),a.user=(t=l?.user)!==null&&t!==void 0?t:X0()}else if(a&&!a.user&&!a.user){const l=await co(this.storage,this.storageKey+"-user");l&&l?.user?(a.user=l.user,await Hr(this.storage,this.storageKey+"-user"),await Vl(this.storage,this.storageKey,a)):a.user=X0()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const s=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<G0;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${G0}s`),s){if(this.autoRefreshToken&&a.refresh_token){const{error:l}=await this._callRefreshToken(a.refresh_token);l&&(console.error(l),W0(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(a.access_token);!u&&l?.user?(a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(n,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Cn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Ap;const{data:s,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!s.session)throw new Cn;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const u={data:s.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(s){if(this._debug(a,"error",s),Le(s)){const l={data:null,error:s};return W0(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,r)}catch(f){s.push(f)}});if(await Promise.all(l),s.length>0){for(let u=0;u<s.length;u+=1)console.error(s[u]);throw s[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Hr(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Vl(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const s=iA(a);await Vl(this.storage,this.storageKey,s)}else{const a=iA(r);await Vl(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Hr(this.storage,this.storageKey),await Hr(this.storage,this.storageKey+"-code-verifier"),await Hr(this.storage,this.storageKey+"-user"),this.userStorage&&await Hr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Fr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ql);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/ql);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${ql}ms, refresh threshold is ${pb} ticks`),a<=pb&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof HM)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Fr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,l]=await Dl(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(l)}`});a.push(u.toString())}if(n?.queryParams){const s=new URLSearchParams(n.queryParams);a.push(s.toString())}return n?.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;return s?this._returnResult({data:null,error:s}):await Fe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Le(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:l}=r;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:f,error:h}=await Fe(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token});return h?this._returnResult({data:null,error:h}):(t.factorType==="totp"&&f.type==="totp"&&(!((a=f?.totp)===null||a===void 0)&&a.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(r){if(Le(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?yV(t.webauthn.credential_response):xV(t.webauthn.credential_response)})}:{code:t.code}),{data:u,error:f}=await Fe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:f}))})}catch(r){if(Le(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const l=await Fe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});if(l.error)return l;const{data:u}=l;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:gV(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:vV(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Le(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=r?.factors)!==null&&t!==void 0?t:[])a.all.push(s),s.status==="verified"&&a[s.factor_type].push(s);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Y0(n.access_token);let l=null;s.aal&&(l=s.aal);let u=l;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(m=>m.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const h=s.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await Fe(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Cn})})}catch(r){if(Le(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!a)return this._returnResult({data:null,error:new Cn});const l=await Fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&Fr()&&!r?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(n){if(Le(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!a)return this._returnResult({data:null,error:new Cn});const l=await Fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&Fr()&&!r?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(n){if(Le(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Fe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Cn})})}catch(t){if(Le(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await Fe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Cn})})}catch(r){if(Le(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(u=>u.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(u=>u.kid===t),n&&this.jwks_cached_at+kq>a)return n;const{data:s,error:l}=await Fe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=a,n=s.keys.find(u=>u.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:x,error:w}=await this.getSession();if(w||!x.session)return this._returnResult({data:null,error:w});n=x.session.access_token}const{header:a,payload:s,signature:l,raw:{header:u,payload:f}}=Y0(n);r?.allowExpired||Yq(s.exp);const h=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!h){const{error:x}=await this.getUser(n);if(x)throw x;return{data:{claims:s,header:a,signature:l},error:null}}const m=Xq(a.alg),g=await crypto.subtle.importKey("jwk",h,m,!0,["verify"]);if(!await crypto.subtle.verify(m,g,l,Iq(`${u}.${f}`)))throw new yb("Invalid JWT signature");return{data:{claims:s,header:a,signature:l},error:null}}catch(n){if(Le(n))return this._returnResult({data:null,error:n});throw n}}}sd.nextInstanceID={};const EV=sd,TV="2.91.1";let Iu="";typeof Deno<"u"?Iu="deno":typeof document<"u"?Iu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Iu="react-native":Iu="node";const OV={"X-Client-Info":`supabase-js-${Iu}/${TV}`},CV={headers:OV},PV={schema:"public"},DV={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},MV={};function od(e){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},od(e)}function RV(e,t){if(od(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IV(e){var t=RV(e,"string");return od(t)=="symbol"?t:t+""}function LV(e,t,r){return(t=IV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fA(Object(r),!0).forEach(function(n){LV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const $V=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),UV=()=>Headers,BV=(e,t,r)=>{const n=$V(r),a=UV();return async(s,l)=>{var u;const f=(u=await t())!==null&&u!==void 0?u:e;let h=new a(l?.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${f}`),n(s,Xt(Xt({},l),{},{headers:h}))}};function zV(e){return e.endsWith("/")?e:e+"/"}function qV(e,t){var r,n;const{db:a,auth:s,realtime:l,global:u}=e,{db:f,auth:h,realtime:m,global:g}=t,v={db:Xt(Xt({},f),a),auth:Xt(Xt({},h),s),realtime:Xt(Xt({},m),l),storage:{},global:Xt(Xt(Xt({},g),u),{},{headers:Xt(Xt({},(r=g?.headers)!==null&&r!==void 0?r:{}),(n=u?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?v.accessToken=e.accessToken:delete v.accessToken,v}function VV(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(zV(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var HV=class extends EV{constructor(e){super(e)}},FV=class{constructor(e,t,r){var n,a;this.supabaseUrl=e,this.supabaseKey=t;const s=VV(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const l=`sb-${s.hostname.split(".")[0]}-auth-token`,u={db:PV,realtime:MV,auth:Xt(Xt({},DV),{},{storageKey:l}),global:CV},f=qV(r??{},u);if(this.storageKey=(n=f.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=f.global.headers)!==null&&a!==void 0?a:{},f.accessToken)this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(m,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}});else{var h;this.auth=this._initSupabaseAuthClient((h=f.auth)!==null&&h!==void 0?h:{},this.headers,f.global.fetch)}this.fetch=BV(t,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Xt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(m=>this.realtime.setAuth(m)).catch(m=>console.warn("Failed to set initial Realtime auth token:",m)),this.rest=new N7(new URL("rest/v1",s).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new wq(this.storageUrl.href,this.headers,this.fetch,r?.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new x7(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,storageKey:s,flowType:l,lock:u,debug:f,throwOnError:h},m,g){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new HV({url:this.authUrl.href,headers:Xt(Xt({},v),m),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,flowType:l,lock:u,debug:f,throwOnError:h,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new z7(this.realtimeUrl.href,Xt(Xt({},e),{},{params:Xt(Xt({},{apikey:this.supabaseKey}),e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t?.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const KV=(e,t,r)=>new FV(e,t,r);function GV(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}GV()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const WV="https://mdgyxdfbxlnrvvemksck.supabase.co",YV="sb_publishable_ovShhliHWiJQpnpmasb6bCPJg_UV_P9XVo",ye=KV(WV,YV,{auth:{persistSession:!0,autoRefreshToken:!0}});let Q0=null;const GM=()=>{if(typeof window>"u")return null;const e=window.AudioContext||window.webkitAudioContext;return e?(Q0||(Q0=new e),Q0):null},WM=()=>{if(typeof window>"u")return;const e=GM();if(!e)return;const t=async()=>{try{e.state==="suspended"&&await e.resume()}catch{}finally{window.removeEventListener("pointerdown",t),window.removeEventListener("keydown",t)}};window.addEventListener("pointerdown",t,{once:!0}),window.addEventListener("keydown",t,{once:!0})},YM=async()=>{const e=GM();if(!e)return!1;try{if(e.state==="suspended")try{await e.resume()}catch(l){console.warn("AudioContext resume failed in playMessageSound:",l)}const t=e.currentTime,r=e.createOscillator(),n=e.createGain();r.type="sine",r.frequency.setValueAtTime(1200,t),n.gain.setValueAtTime(0,t),n.gain.linearRampToValueAtTime(.15,t+.01),n.gain.exponentialRampToValueAtTime(.001,t+.6),r.connect(n),n.connect(e.destination),r.start(t),r.stop(t+.6);const a=e.createOscillator(),s=e.createGain();return a.type="sine",a.frequency.setValueAtTime(2400,t),s.gain.setValueAtTime(0,t),s.gain.linearRampToValueAtTime(.05,t+.01),s.gain.exponentialRampToValueAtTime(.001,t+.3),a.connect(s),s.connect(e.destination),a.start(t),a.stop(t+.3),!0}catch{return!1}};function XM({open:e,status:t,direction:r,callType:n,peerName:a,error:s,muted:l,cameraOff:u,onAccept:f,onReject:h,onEnd:m,onToggleMute:g,onToggleCamera:v,localVideoRef:x,remoteVideoRef:w,remoteAudioRef:S}){if(!e)return null;const N=t==="incoming"?`Incoming ${n==="video"?"video":"audio"} call`:t==="in-call"?`${n==="video"?"Video":"Audio"} call`:"Calling",_=t==="incoming",A=t==="in-call"||t==="connecting"||t==="outgoing",k=n==="video";return c.jsx(ar,{isOpen:e,onClose:m,title:N,maxWidth:"max-w-lg",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:[c.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:a??"User"}),c.jsx("div",{className:"mt-1",children:r==="incoming"?"They are calling you.":"Ringing"}),s?c.jsx("div",{className:"mt-2 text-red-600 dark:text-red-400",children:String(s)}):null]}),k?c.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2",children:[c.jsx("div",{className:"rounded-lg bg-black/90 aspect-video overflow-hidden",children:c.jsx("video",{ref:w,autoPlay:!0,playsInline:!0,className:"h-full w-full object-cover"})}),c.jsx("div",{className:"rounded-lg bg-black/90 aspect-video overflow-hidden",children:c.jsx("video",{ref:x,autoPlay:!0,muted:!0,playsInline:!0,className:"h-full w-full object-cover"})})]}):c.jsxs("div",{className:"rounded-lg bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-800 p-4 text-sm text-gray-700 dark:text-gray-200",children:["Audio call",c.jsx("audio",{ref:S,autoPlay:!0})]}),c.jsxs("div",{className:"flex items-center justify-center gap-3",children:[_?c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:h,className:"px-4 py-2 rounded-lg bg-gray-100 hover:bg-gray-200 dark:bg-gray-800 dark:hover:bg-gray-700",children:"Decline"}),c.jsx("button",{onClick:f,className:"px-4 py-2 rounded-lg bg-green-600 text-white hover:bg-green-700",children:"Accept"})]}):null,A?c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:g,className:"px-3 py-2 rounded-lg bg-gray-100 hover:bg-gray-200 dark:bg-gray-800 dark:hover:bg-gray-700",title:l?"Unmute":"Mute",children:l?c.jsx(Q8,{className:"h-4 w-4"}):c.jsx(e9,{className:"h-4 w-4"})}),k?c.jsx("button",{onClick:v,className:"px-3 py-2 rounded-lg bg-gray-100 hover:bg-gray-200 dark:bg-gray-800 dark:hover:bg-gray-700",title:u?"Turn camera on":"Turn camera off",children:u?c.jsx(L9,{className:"h-4 w-4"}):c.jsx(Rd,{className:"h-4 w-4"})}):null,c.jsx("button",{onClick:m,className:"px-3 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700",title:"End call",children:c.jsx(a9,{className:"h-4 w-4"})})]}):null]}),c.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Note: Calls require working Supabase Realtime auth; if you still see 401s, signaling will not connect."})]})})}const XV={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:stun1.l.google.com:19302"]}]},Tt={idle:"idle",incoming:"incoming",outgoing:"outgoing",connecting:"connecting",inCall:"in-call",ended:"ended"};function ZM({currentUserId:e,peerId:t,conversationKey:r,rtcConfig:n}={}){const[a,s]=y.useState(Tt.idle),[l,u]=y.useState(null),[f,h]=y.useState(null),[m,g]=y.useState(null),[v,x]=y.useState(null),[w,S]=y.useState(null),[N,_]=y.useState(!1),[A,k]=y.useState(!1),O=y.useRef(Tt.idle),M=y.useRef(null),C=y.useRef(null),D=y.useRef(null),L=y.useRef(null),V=y.useRef(null),te=!!(e&&t&&r);y.useEffect(()=>{O.current=a},[a]);const W=y.useMemo(()=>r?`call:${r}`:null,[r]),K=y.useCallback(()=>{try{const I=C.current;if(I){I.onicecandidate=null,I.ontrack=null,I.onconnectionstatechange=null,I.oniceconnectionstatechange=null;try{I.close()}catch{}}}finally{C.current=null}try{const I=D.current;I&&I.getTracks().forEach($=>{try{$.stop()}catch{}})}finally{D.current=null,x(null)}try{const I=L.current;I&&I.getTracks().forEach($=>{try{$.stop()}catch{}})}finally{L.current=null,S(null)}V.current=null,_(!1),k(!1)},[]),Se=y.useCallback(async(I,$)=>{const B=M.current;if(B)try{await B.send({type:"broadcast",event:I,payload:$})}catch(Z){console.warn("Call signal send failed:",I,Z)}},[]),be=y.useCallback(async I=>{if(!navigator?.mediaDevices?.getUserMedia)throw new Error("getUserMedia is not supported in this browser");const $=I==="video"?{audio:!0,video:{width:1280,height:720}}:{audio:!0,video:!1},B=await navigator.mediaDevices.getUserMedia($);D.current=B,x(B);const Z=new MediaStream;return L.current=Z,S(Z),{stream:B,remote:Z}},[]),Ae=y.useCallback(async I=>{const $=n??XV,B=new RTCPeerConnection($);C.current=B,B.onicecandidate=je=>{je.candidate&&Se("ice",{from:e,to:t,candidate:je.candidate})},B.ontrack=je=>{const Oe=L.current;if(!Oe)return;if(je.track&&!Oe.getTracks().some(Ee=>Ee.id===je.track.id))try{Oe.addTrack(je.track)}catch{}const Q=je.streams?.[0];Q?.getTracks&&Q.getTracks().forEach(de=>{if(!Oe.getTracks().some(oe=>oe.id===de.id))try{Oe.addTrack(de)}catch{}}),S(new MediaStream(Oe.getTracks()))};const Z=()=>{const je=B.connectionState;je==="connected"&&s(Tt.inCall),(je==="failed"||je==="disconnected"||je==="closed")&&(s(Tt.ended),K())};B.onconnectionstatechange=Z,B.oniceconnectionstatechange=Z;const{stream:ue}=await be(I);return ue.getTracks().forEach(je=>{B.addTrack(je,ue)}),B},[K,e,be,t,n,Se]),Y=y.useCallback(async I=>{if(g(null),!te)return g("Call is not ready yet"),{success:!1,error:"Call is not ready yet"};if(a!==Tt.idle&&a!==Tt.ended)return{success:!1,error:"Already in a call"};try{h("outgoing"),u(I),s(Tt.outgoing);const $=await Ae(I);s(Tt.connecting);const B=await $.createOffer();return await $.setLocalDescription(B),await Se("offer",{from:e,to:t,callType:I,sdp:B}),{success:!0}}catch($){return console.error("startCall failed:",$),g($?.message??String($)),s(Tt.ended),K(),{success:!1,error:$}}},[K,e,Ae,t,te,Se,a]),ee=y.useCallback(async()=>{if(g(null),!te)return{success:!1,error:"Call is not ready yet"};if(a!==Tt.incoming)return{success:!1,error:"No incoming call"};const I=V.current;if(!I?.sdp||!I?.callType)return s(Tt.ended),{success:!1,error:"Missing offer payload"};try{h("incoming"),u(I.callType),s(Tt.connecting);const $=await Ae(I.callType);await $.setRemoteDescription(I.sdp);const B=await $.createAnswer();return await $.setLocalDescription(B),await Se("answer",{from:e,to:t,sdp:B}),{success:!0}}catch($){return console.error("acceptCall failed:",$),g($?.message??String($)),s(Tt.ended),K(),{success:!1,error:$}}},[K,e,Ae,t,te,Se,a]),ce=y.useCallback(async()=>{te&&a===Tt.incoming&&(await Se("reject",{from:e,to:t}),s(Tt.ended),K())},[K,e,t,te,Se,a]),we=y.useCallback(async()=>{te&&a!==Tt.idle&&(await Se("end",{from:e,to:t}),s(Tt.ended),K())},[K,e,t,te,Se,a]),G=y.useCallback(()=>{const I=D.current;if(!I)return;const $=!N;I.getAudioTracks().forEach(B=>{B.enabled=!$}),_($)},[N]),T=y.useCallback(()=>{const I=D.current;if(!I)return;const $=!A;I.getVideoTracks().forEach(B=>{B.enabled=!$}),k($)},[A]);return y.useEffect(()=>{if(!W||!e)return;const I=ye.channel(W).on("broadcast",{event:"offer"},$=>{const B=$?.payload;if(B&&B.to===e&&B.from===t){if(O.current!==Tt.idle&&O.current!==Tt.ended){Se("busy",{from:e,to:t});return}V.current=B,h("incoming"),u(B.callType),s(Tt.incoming)}}).on("broadcast",{event:"answer"},async $=>{const B=$?.payload;if(B&&B.to===e&&B.from===t)try{const Z=C.current;if(!Z)return;await Z.setRemoteDescription(B.sdp),s(Tt.inCall)}catch(Z){console.warn("Failed to apply answer:",Z),g(Z?.message??String(Z)),s(Tt.ended),K()}}).on("broadcast",{event:"ice"},async $=>{const B=$?.payload;if(B&&B.to===e&&B.from===t)try{const Z=C.current;if(!Z||!B.candidate)return;await Z.addIceCandidate(B.candidate)}catch(Z){console.warn("Failed to add ICE candidate:",Z)}}).on("broadcast",{event:"end"},$=>{const B=$?.payload;B&&B.to===e&&B.from===t&&(s(Tt.ended),K())}).on("broadcast",{event:"reject"},$=>{const B=$?.payload;B&&B.to===e&&B.from===t&&(s(Tt.ended),K())}).on("broadcast",{event:"busy"},$=>{const B=$?.payload;B&&B.to===e&&B.from===t&&(g("User is busy"),s(Tt.ended),K())}).subscribe($=>{$==="CHANNEL_ERROR"&&console.error("Signaling channel error (check Supabase Realtime auth/401):",W),$==="CLOSED"&&console.warn("Signaling channel closed:",W)});return M.current=I,()=>{try{M.current&&(ye.removeChannel(M.current),M.current=null)}catch{}}},[W,K,e,t,Se]),y.useEffect(()=>{s(Tt.idle),u(null),h(null),g(null),K()},[r,t,K]),{ready:te,status:a,direction:f,callType:l,error:m,localStream:v,remoteStream:w,muted:N,cameraOff:A,startAudioCall:()=>Y("audio"),startVideoCall:()=>Y("video"),acceptCall:ee,rejectCall:ce,endCall:we,toggleMute:G,toggleCamera:T}}function ZV(){const{currentUser:e,role:t}=_t(),{data:r,sendMessage:n,markAsRead:a,deleteMessageForMe:s,deleteMessageForEveryone:l,getUserById:u,getPresenceForUser:f}=Pt(),{showToast:h}=Da(),[m,g]=y.useState(null),[v,x]=y.useState(""),[w,S]=y.useState(""),[N,_]=y.useState(!1),[A,k]=y.useState(!1),[O,M]=y.useState(null),[C,D]=y.useState(!0),L=y.useRef(null),[V,te]=y.useState(!1),W=y.useRef(null),K=y.useRef(null),Se=y.useRef(null),be=y.useRef(0),Ae=y.useRef(null),Y=y.useRef(null),ee=y.useRef(null),ce=y.useRef(null);y.useEffect(()=>{WM()},[]);const we=y.useMemo(()=>!e?.id||!r?[]:(r.messages??[]).filter(he=>he.receiverId===e.id||he.senderId===e.id).sort((he,Re)=>new Date(he.sentAt)-new Date(Re.sentAt)),[e,r]),G=y.useMemo(()=>{if(!e)return new Map;const he=new Map;for(const Re of we){const Ge=Re.senderId===e.id,vt=Ge?Re.receiverId:Re.senderId;if(!he.has(vt)){const jn=u(vt);he.set(vt,{peerId:vt,peer:jn,peerName:jn?.name??"Unknown User",peerRole:jn?.role??"",messages:[],lastMessage:null,unreadCount:0})}const $r=he.get(vt);$r.messages.push(Re),$r.lastMessage=Re,!Ge&&!Re.readAt&&$r.unreadCount++}return he},[we,e,u]),T=y.useMemo(()=>{const he=Array.from(G.values());return(v.trim()?he.filter(Ge=>Ge.peerName.toLowerCase().includes(v.toLowerCase())):he).sort((Ge,vt)=>{const $r=Ge.lastMessage?new Date(Ge.lastMessage.sentAt):new Date(0);return(vt.lastMessage?new Date(vt.lastMessage.sentAt):new Date(0))-$r})},[G,v]),I=y.useMemo(()=>m?G.get(m)||{peerId:m,peer:u(m),peerName:u(m)?.name??"User",peerRole:u(m)?.role??"",messages:[],unreadCount:0}:null,[G,m,u]),$=y.useMemo(()=>{if(!r||!t)return[];if(t==="coach"){const he=(r.programs??[]).filter(Ge=>Ge.coachIds.includes(e?.id)).map(Ge=>Ge.id),Re=new Set((r.programs??[]).filter(Ge=>he.includes(Ge.id)).flatMap(Ge=>Ge.participantStudentIds));return(r.users??[]).filter(Ge=>Ge.role==="student"&&Re.has(Ge.id))}return[]},[r,t,e]);y.useEffect(()=>{L.current&&L.current.scrollIntoView({behavior:"smooth"})},[I?.messages,V]),y.useEffect(()=>{if(m&&e&&I){const he=I.messages.filter(Re=>Re.receiverId===e.id&&!Re.readAt).map(Re=>Re.id);he.length>0&&a({messageIds:he})}},[m,I,e,a]),y.useEffect(()=>{const he=I?.messages??[];if(he.length===0)return;const Re=he[he.length-1];if(Ae.current===null){Ae.current=Re.id;return}Re.id!==Ae.current&&(Ae.current=Re.id,Re.senderId===m&&YM().catch(Ge=>console.warn("Sound play failed",Ge)))},[I,m]);const B=y.useMemo(()=>{if(!e?.id||!m)return null;const he=String(e.id),Re=String(m);return he<Re?`${he}:${Re}`:`${Re}:${he}`},[e?.id,m]),Z=ZM({currentUserId:e?.id,peerId:m,conversationKey:B});y.useEffect(()=>{if(Y.current)try{Y.current.srcObject=Z.localStream??null}catch{}},[Z.localStream]),y.useEffect(()=>{if(ee.current)try{ee.current.srcObject=Z.remoteStream??null}catch{}if(ce.current)try{ce.current.srcObject=Z.remoteStream??null}catch{}},[Z.remoteStream]);const ue=async()=>Z.status==="incoming"?Z.rejectCall():Z.endCall(),je=async()=>{(await Z.startAudioCall())?.success||h("Call failed (check mic permission / Supabase auth)","error")},Oe=async()=>{(await Z.startVideoCall())?.success||h("Call failed (check camera permission / Supabase auth)","error")};y.useEffect(()=>{if(Promise.resolve().then(()=>te(!1)),W.current&&(ye.removeChannel(W.current),W.current=null),!B||!m)return;const he=ye.channel(`typing:${B}`).on("broadcast",{event:"typing"},Re=>{const Ge=Re?.payload?.from,vt=!!Re?.payload?.isTyping;!Ge||Ge!==m||(te(vt),K.current&&window.clearTimeout(K.current),vt&&(K.current=window.setTimeout(()=>te(!1),5e3)))}).subscribe();return W.current=he,()=>{ye.removeChannel(he),K.current&&window.clearTimeout(K.current),Se.current&&window.clearTimeout(Se.current)}},[B,m]);const Q=async he=>{if(he?.preventDefault(),!w.trim()||!m)return;const Re=w;S("");try{await n({senderId:e.id,receiverId:m,content:Re,subject:"Message"}),B&&W.current&&(W.current.send({type:"broadcast",event:"typing",payload:{from:e.id,isTyping:!1}}),be.current=0)}catch{h("Failed to send message","error"),S(Re)}},de=he=>{if(S(he.target.value),!B||!W.current)return;const Re=Date.now();Se.current&&clearTimeout(Se.current),Re-be.current>2e3&&(W.current.send({type:"broadcast",event:"typing",payload:{from:e.id,isTyping:!0}}),be.current=Re),Se.current=setTimeout(()=>{W.current?.send({type:"broadcast",event:"typing",payload:{from:e.id,isTyping:!1}}),be.current=0},1500)},Ee={recipientId:"",message:""},[oe,qe]=y.useState(Ee),Be=async()=>{if(!oe.recipientId)return h("Select a recipient","error");if(!oe.message.trim())return h("Enter a message","error");try{await n({senderId:e.id,receiverId:oe.recipientId,content:oe.message,subject:"New Conversation"}),_(!1),g(oe.recipientId),qe(Ee)}catch{h("Failed to start conversation","error")}};if(!e)return null;const pe=m?f(m):null,ke=he=>{he?.id&&(M({id:he.id,isMe:he.senderId===e?.id}),k(!0))};return c.jsxs("div",{className:"h-[calc(100vh-6rem)] w-full bg-slate-50 flex font-sans overflow-hidden",children:[c.jsxs("div",{className:"w-80 border-r border-slate-200 flex flex-col bg-white z-10",children:[c.jsxs("div",{className:"p-4 border-b border-slate-100",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"text-2xl font-heading font-bold text-slate-900",children:"Inbox"}),c.jsx("button",{onClick:()=>_(!0),className:"p-2 bg-emerald-50 text-emerald-600 rounded-lg hover:bg-emerald-100 transition-colors",children:c.jsx(Ei,{className:"h-5 w-5"})})]}),c.jsxs("div",{className:"relative",children:[c.jsx(qi,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),c.jsx("input",{type:"text",placeholder:"Search students...",className:"w-full pl-9 pr-4 py-2.5 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all text-slate-900 placeholder:text-slate-400",value:v,onChange:he=>x(he.target.value)})]})]}),c.jsx("div",{className:"flex-1 overflow-y-auto",children:T.length===0?c.jsxs("div",{className:"p-8 text-center text-slate-400 flex flex-col items-center",children:[c.jsx(Co,{className:"h-12 w-12 mb-2 opacity-10"}),c.jsx("p",{className:"text-sm",children:"No conversations"})]}):T.map(he=>c.jsxs("button",{onClick:()=>g(he.peerId),className:ft("w-full p-4 flex items-center gap-3 hover:bg-slate-50 transition-colors border-l-4 text-left",m===he.peerId?"bg-emerald-50/50 border-emerald-500":"border-transparent"),children:[c.jsxs("div",{className:"relative shrink-0",children:[c.jsx("div",{className:ft("w-12 h-12 rounded-full flex items-center justify-center text-white font-heading font-bold text-lg shadow-sm border-2 border-white",he.peerRole==="student"?"bg-indigo-500":"bg-slate-500"),children:he.peerName.charAt(0)}),f(he.peerId)?.online&&c.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-emerald-500 border-2 border-white rounded-full"})]}),c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[c.jsx("span",{className:ft("font-semibold truncate",m===he.peerId?"text-emerald-900":"text-slate-900"),children:he.peerName}),he.lastMessage&&c.jsx("span",{className:"text-[10px] text-slate-400 shrink-0 font-medium",children:rn(he.lastMessage.sentAt).split(",")[0]})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("p",{className:ft("text-sm truncate max-w-[140px]",he.unreadCount>0?"font-semibold text-slate-800":"text-slate-500"),children:he.lastMessage?.content??"No messages"}),he.unreadCount>0&&c.jsx("span",{className:"bg-emerald-500 text-white text-[10px] h-5 min-w-[20px] px-1.5 rounded-full flex items-center justify-center font-bold shadow-sm",children:he.unreadCount>9?"9+":he.unreadCount})]})]})]},he.peerId))})]}),c.jsx("div",{className:"flex-1 flex flex-col bg-white relative",children:m?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"h-16 px-6 border-b border-slate-100 flex items-center justify-between shrink-0 bg-white/80 backdrop-blur-sm sticky top-0 z-10",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"relative",children:c.jsx("div",{className:ft("w-10 h-10 rounded-full flex items-center justify-center text-white font-heading font-bold shadow-sm",I?.peerRole==="student"?"bg-indigo-500":"bg-slate-500"),children:I?.peerName.charAt(0)})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-heading font-bold text-slate-900 leading-none",children:I?.peerName}),c.jsx("div",{className:"text-xs text-slate-500 mt-1 flex items-center gap-1.5",children:pe?.online?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500"}),c.jsx("span",{className:"font-medium text-emerald-600",children:"Online"})]}):pe?.lastSeenAt?c.jsxs("span",{children:["Last seen ",new Date(pe.lastSeenAt).toLocaleString()]}):c.jsx("span",{className:"uppercase tracking-wider text-[10px]",children:I?.peerRole})})]})]}),c.jsxs("div",{className:"flex items-center gap-3 text-slate-400",children:[c.jsx("button",{onClick:()=>D(!C),className:ft("p-2 rounded-lg transition-colors",C?"bg-slate-100 text-slate-800":"hover:bg-slate-100"),title:"Toggle Info",children:c.jsx($8,{className:"h-5 w-5"})}),c.jsx("div",{className:"h-4 w-px bg-slate-200 mx-1"}),c.jsx("button",{type:"button",onClick:je,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",title:"Audio call",children:c.jsx(hM,{className:"h-5 w-5"})}),c.jsx("button",{type:"button",onClick:Oe,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",title:"Video call",children:c.jsx(Rd,{className:"h-5 w-5"})}),c.jsx("button",{className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:c.jsx(Ju,{className:"h-5 w-5"})})]})]}),c.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-slate-50/50",children:c.jsxs("div",{className:"flex flex-col gap-4 max-w-3xl mx-auto",children:[I.messages.map((he,Re)=>{const Ge=he.senderId===e.id,vt=!Ge&&(Re===0||I.messages[Re-1].senderId!==he.senderId),$r=!!he.readAt;return c.jsxs("div",{className:ft("flex w-full items-end gap-2 group",Ge?"justify-end":"justify-start"),children:[!Ge&&c.jsx("div",{className:"w-8 h-8 shrink-0 mb-1",children:vt&&c.jsx("div",{className:ft("w-8 h-8 rounded-full flex items-center justify-center text-white text-xs font-bold",I?.peerRole==="student"?"bg-indigo-500":"bg-slate-500"),children:I?.peerName.charAt(0)})}),c.jsxs("div",{className:ft("max-w-[75%] px-4 py-2.5 rounded-2xl shadow-sm text-sm leading-relaxed relative pr-12 group/bubble transition-all",Ge?"bg-emerald-600 text-white rounded-br-sm":"bg-white text-slate-800 border border-slate-100 rounded-bl-sm"),children:[c.jsx("div",{className:"break-words font-normal whitespace-pre-wrap",children:he.content}),c.jsxs("div",{className:ft("text-[10px] mt-1 text-right flex items-center justify-end gap-1 select-none",Ge?"text-emerald-100/90":"text-slate-400"),children:[new Date(he.sentAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),Ge&&($r?c.jsx("div",{className:"flex items-center gap-0.5",title:`Seen at ${new Date(he.readAt).toLocaleTimeString()}`,children:c.jsx(dm,{className:"h-3.5 w-3.5 text-emerald-200"})}):c.jsx(oM,{className:"h-3.5 w-3.5 text-emerald-200/70"}))]}),c.jsx("button",{type:"button",onClick:jn=>{jn.stopPropagation(),ke(he)},className:ft("absolute top-1 right-1 opacity-0 group-hover/bubble:opacity-100 transition-opacity p-1 rounded-full",Ge?"hover:bg-emerald-700 text-emerald-100":"hover:bg-slate-100 text-slate-400"),title:"Options",children:c.jsx(Ju,{className:"h-3.5 w-3.5"})})]})]},he.id)}),V&&c.jsxs("div",{className:"flex w-full items-end gap-2 justify-start",children:[c.jsx("div",{className:"w-8 h-8 shrink-0 mb-1",children:c.jsx("div",{className:ft("w-8 h-8 rounded-full flex items-center justify-center text-white text-xs font-bold",I?.peerRole==="student"?"bg-indigo-500":"bg-slate-500"),children:I?.peerName.charAt(0)})}),c.jsxs("div",{className:"bg-white px-4 py-3 rounded-2xl rounded-bl-none shadow-sm border border-slate-100 flex gap-1 items-center",children:[c.jsx("span",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce"}),c.jsx("span",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce [animation-delay:0.1s]"}),c.jsx("span",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce [animation-delay:0.2s]"})]})]}),c.jsx("div",{ref:L})]})}),c.jsx("div",{className:"p-4 bg-white border-t border-slate-100",children:c.jsxs("div",{className:"max-w-3xl mx-auto flex gap-3 items-end",children:[c.jsx("div",{className:"flex-1 bg-slate-50 rounded-2xl px-4 py-3 focus-within:ring-2 focus-within:ring-emerald-100 focus-within:bg-white transition-all border border-slate-200 focus-within:border-emerald-200",children:c.jsx("form",{onSubmit:Q,children:c.jsx("input",{type:"text",className:"w-full bg-transparent border-none focus:outline-none text-slate-800 placeholder:text-slate-400 text-sm max-h-32",placeholder:`Message ${I?.peerName}...`,value:w,onChange:de})})}),c.jsx("button",{type:"button",onClick:Q,disabled:!w.trim(),className:"p-3 bg-emerald-600 text-white rounded-xl hover:bg-emerald-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-sm active:scale-95 flex items-center justify-center",children:c.jsx(mM,{className:"h-5 w-5"})})]})}),c.jsx(XM,{open:Z.status!=="idle"&&Z.status!=="ended",status:Z.status,direction:Z.direction,callType:Z.callType,peerName:I?.peerName,error:Z.error,muted:Z.muted,cameraOff:Z.cameraOff,onAccept:Z.acceptCall,onReject:Z.rejectCall,onEnd:ue,onToggleMute:Z.toggleMute,onToggleCamera:Z.toggleCamera,localVideoRef:Y,remoteVideoRef:ee,remoteAudioRef:ce})]}):c.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-slate-300 p-8 bg-slate-50/30",children:[c.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mb-4 shadow-sm",children:c.jsx(td,{className:"h-10 w-10 text-emerald-200"})}),c.jsx("h3",{className:"text-xl font-heading font-semibold text-slate-900 mb-1",children:"Coach Messenger"}),c.jsx("p",{className:"text-slate-500 text-center max-w-sm text-sm",children:"Select a student communication channel from the sidebar to view history or start a new session."}),c.jsx("button",{onClick:()=>_(!0),className:"mt-8 px-6 py-3 bg-emerald-600 text-white rounded-xl font-semibold hover:bg-emerald-700 transition-colors shadow-lg shadow-emerald-200",children:"New Message"})]})}),m&&C&&c.jsxs("div",{className:"w-72 border-l border-slate-200 bg-white hidden xl:flex flex-col",children:[c.jsxs("div",{className:"p-6 border-b border-slate-100 flex flex-col items-center",children:[c.jsx("div",{className:ft("w-20 h-20 rounded-full flex items-center justify-center text-white font-heading font-bold text-3xl mb-3 shadow-md",I?.peerRole==="student"?"bg-indigo-500":"bg-slate-500"),children:I?.peerName.charAt(0)}),c.jsx("h3",{className:"text-lg font-bold text-slate-900",children:I?.peerName}),c.jsx("span",{className:"text-xs font-semibold text-indigo-600 px-2.5 py-0.5 rounded-full bg-indigo-50 mt-1 uppercase tracking-wide",children:I?.peerRole})]}),c.jsx("div",{className:"p-4 flex-1 overflow-y-auto",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-3",children:"Quick Actions"}),c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsxs("button",{className:"flex flex-col items-center justify-center p-3 rounded-xl bg-slate-50 hover:bg-slate-100 text-slate-600 transition-colors",children:[c.jsx(en,{className:"h-5 w-5 mb-1 text-slate-400"}),c.jsx("span",{className:"text-xs font-medium",children:"Session"})]}),c.jsxs("button",{className:"flex flex-col items-center justify-center p-3 rounded-xl bg-slate-50 hover:bg-slate-100 text-slate-600 transition-colors",children:[c.jsx(dm,{className:"h-5 w-5 mb-1 text-slate-400"}),c.jsx("span",{className:"text-xs font-medium",children:"Task"})]})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Student Details"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"text-sm",children:[c.jsx("p",{className:"text-slate-500 text-xs",children:"Email"}),c.jsx("p",{className:"text-slate-900 font-medium",children:"student@example.com"})]}),c.jsxs("div",{className:"text-sm",children:[c.jsx("p",{className:"text-slate-500 text-xs",children:"Program"}),c.jsx("p",{className:"text-slate-900 font-medium",children:"Full Stack Web Dev"})]}),c.jsxs("div",{className:"text-sm",children:[c.jsx("p",{className:"text-slate-500 text-xs",children:"Progress"}),c.jsx("div",{className:"w-full bg-slate-100 h-2 rounded-full mt-1 overflow-hidden",children:c.jsx("div",{className:"bg-indigo-500 h-full w-[65%]"})}),c.jsx("p",{className:"text-xs text-right mt-0.5 text-slate-400",children:"65%"})]})]})]})]})})]}),N&&c.jsx(ar,{title:"New Message",onClose:()=>_(!1),footer:c.jsxs(c.Fragment,{children:[c.jsx("button",{className:"btn-ghost",onClick:()=>_(!1),children:"Cancel"}),c.jsx("button",{className:"btn-primary bg-emerald-600 hover:bg-emerald-700 border-emerald-600",onClick:Be,children:"Send Message"})]}),children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Recipient"}),c.jsxs("select",{className:"w-full rounded-lg border-slate-200 text-sm focus:ring-emerald-500",value:oe.recipientId,onChange:he=>qe({...oe,recipientId:he.target.value}),children:[c.jsx("option",{value:"",children:"Select a student..."}),$.map(he=>c.jsx("option",{value:he.id,children:he.name},he.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Message"}),c.jsx("textarea",{className:"w-full rounded-lg border-slate-200 text-sm focus:ring-emerald-500",rows:4,placeholder:"Type your first message...",value:oe.message,onChange:he=>qe({...oe,message:he.target.value})})]})]})}),c.jsx(ar,{isOpen:A&&!!O,title:"Delete Message",onClose:()=>{k(!1),M(null)},footer:c.jsxs("div",{className:"flex flex-col gap-2 w-full sm:flex-row sm:justify-end",children:[c.jsx("button",{className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg text-sm font-medium transition-colors",onClick:()=>{k(!1),M(null)},children:"Cancel"}),c.jsx("button",{className:"px-4 py-2 text-red-600 bg-red-50 hover:bg-red-100 rounded-lg text-sm font-medium transition-colors",onClick:async()=>{(await s?.({messageId:O.id}))?.success||h("Failed to delete","error"),k(!1),M(null)},children:"Delete for me"}),O?.isMe&&c.jsx("button",{className:"px-4 py-2 bg-red-600 text-white hover:bg-red-700 rounded-lg text-sm font-medium shadow-sm transition-colors",onClick:async()=>{(await l?.({messageId:O.id}))?.success||h("Failed to delete","error"),k(!1),M(null)},children:"Delete for everyone"})]}),children:c.jsxs("div",{className:"text-sm text-slate-600 leading-relaxed",children:["Are you sure you want to delete this message?",O?.isMe&&c.jsx("p",{className:"mt-2 text-xs text-slate-500 bg-slate-50 p-3 rounded-lg border border-slate-100",children:'"Delete for everyone" will remove the message for all participants. "Delete for me" only removes it from your view.'})]})})]})}const QV={[at.text]:D9,[at.file]:Md,[at.link]:uM,[at.checklist]:hm};function QM({task:e,primaryAction:t,secondaryAction:r,children:n}){const a=QV[String(e?.taskType??"").toUpperCase()]??hm;return c.jsx(He,{title:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"h-9 w-9 rounded-xl bg-slate-100 flex items-center justify-center text-slate-700 flex-shrink-0",children:c.jsx(a,{className:"h-5 w-5"})}),c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"font-heading font-bold text-slate-900 truncate",children:e?.title}),c.jsxs("div",{className:"text-xs text-slate-500",children:[Xw(e?.taskType),"  ",Zw(e?.status)]})]})]}),actions:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(EM,{status:e?.status}),t,r]}),children:c.jsxs("div",{className:"space-y-3",children:[e?.description?c.jsx("div",{className:"text-sm text-slate-700 whitespace-pre-wrap",children:e.description}):c.jsx("div",{className:"text-sm text-slate-500",children:"No description."}),c.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs text-slate-500",children:[e?.deadline?c.jsxs("div",{className:"inline-flex items-center gap-1",children:[c.jsx(en,{className:"h-4 w-4"}),c.jsxs("span",{children:["Deadline: ",rn(e.deadline)]})]}):null,e?.createdAt?c.jsxs("span",{children:["Created: ",rn(e.createdAt)]}):null]}),n]})})}const Va=(e="id")=>{const t=Math.random().toString(16).slice(2),r=Date.now().toString(16);return`${e}_${r}_${t}`},JV=[at.text,at.file,at.link,at.checklist];function eH({items:e,onChange:t}){return c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-xs font-bold uppercase tracking-wider text-slate-400",children:"Checklist items"}),(e??[]).map(r=>c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{className:"input flex-1",placeholder:"Checklist item",value:r.text,onChange:n=>{const a=(e??[]).map(s=>s.id===r.id?{...s,text:n.target.value}:s);t(a)}}),c.jsx("button",{type:"button",className:"btn-ghost",onClick:()=>t((e??[]).filter(n=>n.id!==r.id)),title:"Remove item",children:"Remove"})]},r.id)),c.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>t([...e??[],{id:Va("chk"),text:""}]),children:"+ Add item"})]})}function tH({open:e,project:t,submissions:r,onClose:n,onCreate:a}){const[s,l]=y.useState(""),[u,f]=y.useState(""),[h,m]=y.useState(at.text),[g,v]=y.useState(""),[x,w]=y.useState(""),[S,N]=y.useState([{id:Va("chk"),text:""}]),[_,A]=y.useState(!1),[k,O]=y.useState(null),M=t?.title??"Project",C=y.useMemo(()=>_||!t?.id?!1:!!String(s).trim(),[_,t?.id,s]),D=()=>{l(""),f(""),m(at.text),v(""),w(""),N([{id:Va("chk"),text:""}]),A(!1),O(null)},L=y.useMemo(()=>{if(!g)return null;const W=new Date(g);return Number.isNaN(W.getTime())?null:W.toISOString()},[g]),V=async()=>{if(t?.id){O(null),A(!0);try{await a?.({projectId:t.id,submissionId:x||null,title:s,description:u,taskType:h,deadline:L,checklistItems:h===at.checklist?S:null}),D(),n?.()}catch(W){O(W?.message??"Failed to create task")}finally{A(!1)}}},te=Array.isArray(r)?r:[];return c.jsxs(ar,{open:e,title:`Create Task  ${M}`,onClose:()=>{D(),n?.()},children:[k?c.jsx("div",{className:"mb-4 rounded-xl border border-red-200 bg-red-50 p-4 text-sm text-red-700",children:k}):null,c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-xs font-bold uppercase tracking-wider text-slate-400",children:"Title"}),c.jsx("input",{className:"input mt-1",value:s,onChange:W=>l(W.target.value),placeholder:"Task title"})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs font-bold uppercase tracking-wider text-slate-400",children:"Description"}),c.jsx("textarea",{className:"input mt-1 min-h-[120px]",value:u,onChange:W=>f(W.target.value),placeholder:"Optional details"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-xs font-bold uppercase tracking-wider text-slate-400",children:"Task type"}),c.jsx("select",{className:"input mt-1",value:h,onChange:W=>m(W.target.value),children:JV.map(W=>c.jsx("option",{value:W,children:Xw(W)},W))})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs font-bold uppercase tracking-wider text-slate-400",children:"Deadline"}),c.jsx("input",{className:"input mt-1",type:"datetime-local",value:g,onChange:W=>v(W.target.value)})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs font-bold uppercase tracking-wider text-slate-400",children:"Link to submission (optional)"}),c.jsxs("select",{className:"input mt-1",value:x,onChange:W=>w(W.target.value),children:[c.jsx("option",{value:"",children:"None"}),te.map(W=>c.jsxs("option",{value:W.id,children:[W.type,"  ",new Date(W.createdAt).toLocaleString()]},W.id))]})]}),String(h).toUpperCase()===at.checklist?c.jsx(eH,{items:S,onChange:N}):null,c.jsxs("div",{className:"flex items-center justify-end gap-2",children:[c.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>n?.(),disabled:_,children:"Cancel"}),c.jsx("button",{type:"button",className:"btn-primary",onClick:V,disabled:!C,children:_?"Creating":"Create Task"})]})]})]})}function rH(){const{currentUser:e}=_t(),{getUserById:t,listProjects:r,listProjectSubmissions:n,listTasks:a,createTask:s,reviewTask:l}=Pt(),u=e?.id?r?.({coachId:e.id})??[]:[],[f,h]=y.useState(null),[m,g]=y.useState(!1),v=f&&u.some(k=>k.id===f)?f:u[0]?.id??null,x=v?u.find(k=>k.id===v)??null:null,w=x?.id?a?.({projectId:x.id})??[]:[],S=x?.id?n?.({projectId:x.id})??[]:[],[N,_]=y.useState({}),A=(k,O)=>{_(M=>({...M,[k]:O}))};return c.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-heading font-bold text-slate-900 dark:text-white",children:"Tasks"}),c.jsx("p",{className:"mt-2 text-lg text-slate-500 font-medium",children:"Create tasks per project and review student submissions."})]}),c.jsxs("button",{type:"button",className:"btn-primary",onClick:()=>g(!0),disabled:!x,title:x?"Create a new task":"Select a project first",children:[c.jsx(Ei,{className:"h-4 w-4"}),"Create task"]})]}),u.length===0?c.jsx(Ds,{icon:Bo,title:"No projects",message:"Once you have students with projects, you can create tasks here."}):c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[c.jsx("div",{className:"lg:col-span-1",children:c.jsx(He,{title:"Projects",children:c.jsx("div",{className:"space-y-2",children:u.map(k=>{const O=x?.id===k.id,M=t?.(k.studentId);return c.jsxs("button",{type:"button",onClick:()=>h(k.id),className:["w-full text-left rounded-xl border p-4 transition-colors",O?"border-coach-primary/30 bg-white":"border-slate-200 bg-white hover:bg-slate-50"].join(" "),children:[c.jsxs("div",{className:"flex items-center justify-between gap-3",children:[c.jsx("div",{className:"font-heading font-bold text-slate-900 truncate",children:k.title}),c.jsx("div",{className:"text-xs font-bold uppercase tracking-wider text-slate-500",children:k.stage})]}),c.jsxs("div",{className:"mt-1 text-xs text-slate-500 truncate",children:["Student: ",M?.name??"Student"]})]},k.id)})})})}),c.jsx("div",{className:"lg:col-span-3",children:x?c.jsx(He,{title:x.title,subtitle:`Student: ${t?.(x.studentId)?.name??"Student"}  Stage: ${x.stage}`,children:w.length===0?c.jsx(Ds,{icon:Ei,title:"No tasks for this project",message:"Create the first task to guide the student through the project.",action:c.jsxs("button",{type:"button",className:"btn-primary",onClick:()=>g(!0),children:[c.jsx(Ei,{className:"h-4 w-4"}),"Create task"]})}):c.jsx("div",{className:"space-y-4",children:w.map(k=>{const O=i7(k.status),M=N[k.id]??k.coachFeedback??"";return c.jsx(QM,{task:k,primaryAction:O?c.jsxs("button",{type:"button",className:"btn-primary",onClick:async()=>{await l?.({taskId:k.id,status:jr.approved,feedback:M})},children:[c.jsx(ab,{className:"h-4 w-4"}),"Approve"]}):null,secondaryAction:O?c.jsxs("button",{type:"button",className:"btn-secondary",onClick:async()=>{await l?.({taskId:k.id,status:jr.revision,feedback:M})},children:[c.jsx(u9,{className:"h-4 w-4"}),"Revision"]}):null,children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-4",children:[c.jsx("div",{className:"text-xs font-bold uppercase tracking-wider text-slate-400",children:"Student submission"}),c.jsx("div",{className:"mt-2 text-sm text-slate-700",children:k.studentSubmission?"Submitted":"Not submitted yet."})]}),c.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4",children:[c.jsx("div",{className:"text-xs font-bold uppercase tracking-wider text-slate-400",children:"Coach feedback"}),c.jsx("textarea",{className:"input mt-2 min-h-[88px]",placeholder:"Optional feedback",value:M,onChange:C=>A(k.id,C.target.value)}),c.jsx("div",{className:"mt-2 text-xs text-slate-500",children:"Actions enabled when status is SUBMITTED."})]})]})},k.id)})})}):c.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 text-sm text-slate-500",children:"Select a project to manage tasks."})})]}),c.jsx(tH,{open:m,project:x,submissions:S,onClose:()=>g(!1),onCreate:async k=>{await s?.(k)}})]})}const J0=["Ideation","Validation","MVP","Growth"],ey={u_student_1:{name:"EcoEat",phaseIndex:2,nextMilestone:"Prototype Demo"},u_student_2:{name:"FinHacks",phaseIndex:1,nextMilestone:"Customer Interviews"},default:{name:"New Venture",phaseIndex:0,nextMilestone:"Problem Statement"}};function nH(){const{currentUser:e}=_t(),{data:t}=Pt(),r=Ja(),n=y.useMemo(()=>{if(!e?.id||!t)return null;const m=(t.users??[]).find(w=>w.id===e.id)??null,g=ey[e.id]||ey[m?.id]||ey.default,v=J0[g.phaseIndex],x=(g.phaseIndex+.5)/J0.length*100;return{student:m,project:g,phaseName:v,progressPercent:x}},[e,t]),a=y.useMemo(()=>{if(!e?.id||!t)return[];const m=[],g=new Date,v=new Date(g.getTime()+2880*60*1e3);return(t.coachingSessions??[]).filter(S=>(S.attendeeStudentIds??[]).includes(e.id)).filter(S=>{const N=new Date(S.startsAt);return N>=g&&N<=v}).slice(0,1).forEach(S=>{m.push({id:S.id,type:"session",title:`Coaching Session: ${S.title}`,time:S.startsAt,icon:en,actionLabel:"Join Room",actionUrl:"/student/sessions"})}),(t.deliverables??[]).filter(S=>(S.assignedStudentIds??[]).includes(e.id)).filter(S=>(S.submissions??[]).find(A=>A.studentId===e.id)?!1:new Date(S.dueDate)<=v).slice(0,2).forEach(S=>{m.push({id:S.id,type:"deliverable",title:`Submit: ${S.title}`,time:S.dueDate,icon:ab,actionLabel:"Complete",actionUrl:"/student/deliverables"})}),m.length===0&&m.push({id:"default-1",type:"review",title:"Review your project plan",time:null,icon:mm,actionLabel:"View Project",actionUrl:"/student/programs"}),m.sort((S,N)=>S.time&&N.time?new Date(S.time)-new Date(N.time):0)},[e,t]),s=y.useMemo(()=>{if(!e?.id||!t)return null;const m=t.users??[],v=(t.messages??[]).filter(w=>w.receiverId===e.id).sort((w,S)=>new Date(S.sentAt)-new Date(w.sentAt)).find(w=>m.find(N=>N.id===w.senderId)?.role==="coach");if(!v)return null;const x=m.find(w=>w.id===v.senderId);return{id:v.id,senderName:x?.name||"Coach",senderAvatar:(x?.name||"C").charAt(0),text:v.content??"",time:v.sentAt,isRead:!!v.readAt}},[e,t]);if(!n)return c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsx("div",{className:"text-muted-foreground",children:"Loading dashboard"})});const{student:l,project:u,phaseName:f}=n,h=(l?.name||e?.name||"Student").split(" ")[0];return c.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-5 duration-500",children:[c.jsxs("header",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-br from-student-primary to-blue-600 px-8 py-10 shadow-xl text-white",children:[c.jsxs("div",{className:"relative z-10",children:[c.jsxs("h1",{className:"text-4xl font-heading font-bold tracking-tight mb-3",children:["Hello, ",h,". "]}),c.jsxs("p",{className:"text-lg text-blue-50 font-medium max-w-xl leading-relaxed",children:["You're making solid progress on ",c.jsx("span",{className:"font-bold text-white bg-white/20 px-2 py-0.5 rounded-lg",children:u.name}),". Let's continue pushing the boundaries today."]}),c.jsx("div",{className:"mt-8 flex items-center gap-4",children:c.jsxs("div",{className:"inline-flex items-center gap-2 rounded-xl bg-white/10 border border-white/20 px-4 py-2backdrop-blur-sm",children:[c.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-blue-100",children:"Current Phase"}),c.jsx("span",{className:"font-heading font-bold",children:f})]})})]}),c.jsx("div",{className:"absolute top-0 right-0 -mr-20 -mt-20 h-96 w-96 rounded-full bg-white/10 blur-3xl pointer-events-none"}),c.jsx("div",{className:"absolute bottom-0 left-0 -ml-20 -mb-20 h-64 w-64 rounded-full bg-white/10 blur-3xl pointer-events-none"})]}),c.jsxs("div",{className:"grid gap-8 md:grid-cols-5",children:[c.jsxs("div",{className:"md:col-span-3 space-y-8",children:[c.jsxs("section",{children:[c.jsxs("div",{className:"mb-5 flex items-center justify-between",children:[c.jsxs("h2",{className:"text-xl font-heading font-bold text-slate-800 flex items-center gap-2",children:[c.jsx(ab,{className:"h-5 w-5 text-student-primary"}),"Priority Tasks"]}),c.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-slate-400 bg-slate-100 px-3 py-1 rounded-full",children:new Date().toLocaleDateString(void 0,{weekday:"short",day:"numeric"})})]}),c.jsx("div",{className:"space-y-4",children:a.map(m=>{const g=m.icon;return c.jsxs("div",{className:"group relative flex items-center gap-5 rounded-2xl bg-white p-5 shadow-sm border border-slate-100 transition-all hover:shadow-lg hover:border-student-primary/30 hover:-translate-y-0.5 px-6",children:[c.jsx("div",{className:`flex h-14 w-14 shrink-0 items-center justify-center rounded-2xl shadow-inner ${m.type==="session"?"bg-blue-50 text-blue-600":"bg-emerald-50 text-emerald-600"}`,children:c.jsx(g,{className:"h-7 w-7"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx("span",{className:`text-[10px] uppercase font-bold tracking-wider px-2 py-0.5 rounded-full ${m.type==="session"?"bg-blue-100 text-blue-700":"bg-emerald-100 text-emerald-700"}`,children:m.type}),m.time&&c.jsxs("span",{className:"text-xs text-slate-400 font-medium flex items-center gap-1",children:[" ",rn(m.time)]})]}),c.jsx("h3",{className:"font-semibold font-heading text-slate-800 text-lg truncate",children:m.title})]}),c.jsx("button",{onClick:()=>r(m.actionUrl),className:"shrink-0 rounded-xl bg-slate-50 px-5 py-2.5 text-sm font-bold text-slate-600 transition-all hover:bg-student-primary hover:text-white hover:shadow-md active:scale-95",children:m.actionLabel})]},m.id)})})]}),c.jsxs("section",{children:[c.jsxs("h2",{className:"mb-4 text-xl font-semibold",children:["Current Phase: ",f]}),c.jsxs("div",{className:"rounded-2xl bg-white p-6 shadow-sm border border-slate-100 dark:bg-card dark:border-border",children:[c.jsxs("div",{className:"mb-6 flex justify-between text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:"Start"}),c.jsxs("span",{className:"font-semibold text-primary",children:[u.nextMilestone," next"]})]}),c.jsxs("div",{className:"relative mb-2 h-4 w-full rounded-full bg-slate-100 dark:bg-slate-800",children:[c.jsx("div",{className:"absolute left-0 top-0 h-full rounded-full bg-primary transition-all duration-1000",style:{width:`${n.progressPercent}%`}}),c.jsx("div",{className:"absolute top-1/2 -ml-1 h-3 w-3 -translate-y-1/2 rounded-full border-2 border-white bg-primary",style:{left:"0%"}}),c.jsx("div",{className:"absolute top-1/2 -ml-1 h-3 w-3 -translate-y-1/2 rounded-full border-2 border-white bg-primary",style:{left:"25%"}}),c.jsx("div",{className:"absolute top-1/2 -ml-1 h-3 w-3 -translate-y-1/2 rounded-full border-2 border-white bg-primary",style:{left:"50%"}}),c.jsx("div",{className:"absolute top-1/2 -ml-1 h-3 w-3 -translate-y-1/2 rounded-full border-2 border-white bg-slate-300",style:{left:"75%"}}),c.jsx("div",{className:"absolute top-1/2 -ml-1 h-3 w-3 -translate-y-1/2 rounded-full border-2 border-white bg-slate-300",style:{left:"100%"}})]}),c.jsx("div",{className:"mt-4 flex justify-between text-xs font-medium text-slate-400",children:J0.map((m,g)=>c.jsx("div",{className:g<=u.phaseIndex?"text-primary":"",children:m},m))})]})]})]}),c.jsxs("div",{className:"md:col-span-2 space-y-6",children:[c.jsxs("div",{className:"rounded-2xl bg-gradient-to-br from-indigo-500 to-purple-600 p-6 text-white shadow-lg",children:[c.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[c.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-white/20 text-lg font-bold backdrop-blur-sm",children:s?.senderAvatar??"C"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-semibold",children:"Your Coach"}),c.jsx("div",{className:"text-sm opacity-90",children:"Usually replies in 1h"})]})]}),s?c.jsxs("div",{className:"mb-6 rounded-xl bg-white/10 p-4 backdrop-blur-sm",children:[c.jsx("div",{className:"mb-1 text-xs opacity-75",children:"Latest message received:"}),c.jsxs("p",{className:"line-clamp-2 text-sm italic",children:['"',s.text,'"']})]}):c.jsx("div",{className:"mb-6 h-12"}),c.jsxs("button",{onClick:()=>{},className:"group flex w-full items-center justify-center gap-2 rounded-xl bg-white px-4 py-3 font-semibold text-indigo-600 transition-all hover:bg-indigo-50 active:scale-95",children:[c.jsx(td,{className:"h-5 w-5"}),"Message My Coach"]})]}),c.jsxs("div",{className:"rounded-2xl border border-border bg-card p-6",children:[c.jsx("h3",{className:"mb-3 font-semibold text-foreground",children:"Tip of the week"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:`"Don't worry about scalability yet. Do things that don't scale to learn faster from your first customers."`}),c.jsxs("div",{className:"mt-4 flex items-center gap-2 text-xs text-primary font-medium cursor-pointer hover:underline",children:["Read article ",c.jsx(Qz,{className:"h-3 w-3"})]})]})]})]})]})}function aH({initialValue:e,onSubmit:t,onCancel:r,submitLabel:n="Create project"}){const[a,s]=y.useState(()=>({title:e?.title??"",problemStatement:e?.problemStatement??"",targetUsers:e?.targetUsers??"",proposedSolution:e?.proposedSolution??"",stage:e?.stage??ba.idea})),l=y.useMemo(()=>ob(a),[a]),u=(h,m)=>s(g=>({...g,[h]:m})),f=h=>{h.preventDefault(),ob(a).ok&&t?.(a)};return c.jsxs("form",{className:"space-y-4",onSubmit:f,children:[c.jsxs("div",{children:[c.jsx("label",{className:"label",htmlFor:"projectTitle",children:"Project title"}),c.jsx("input",{id:"projectTitle",className:"input",value:a.title,onChange:h=>u("title",h.target.value),placeholder:"e.g., EcoEat",autoComplete:"off",required:!0}),l.errors?.title?c.jsx("p",{className:"mt-1 text-xs text-red-600",children:l.errors.title}):null]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",htmlFor:"problemStatement",children:"Problem statement"}),c.jsx("textarea",{id:"problemStatement",className:"input min-h-[96px]",value:a.problemStatement,onChange:h=>u("problemStatement",h.target.value),placeholder:"What problem are you solving?",required:!0}),l.errors?.problemStatement?c.jsx("p",{className:"mt-1 text-xs text-red-600",children:l.errors.problemStatement}):null]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",htmlFor:"targetUsers",children:"Target users"}),c.jsx("textarea",{id:"targetUsers",className:"input min-h-[80px]",value:a.targetUsers,onChange:h=>u("targetUsers",h.target.value),placeholder:"Who will benefit from this project?",required:!0}),l.errors?.targetUsers?c.jsx("p",{className:"mt-1 text-xs text-red-600",children:l.errors.targetUsers}):null]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",htmlFor:"proposedSolution",children:"Proposed solution"}),c.jsx("textarea",{id:"proposedSolution",className:"input min-h-[96px]",value:a.proposedSolution,onChange:h=>u("proposedSolution",h.target.value),placeholder:"Describe your solution at a high level.",required:!0}),l.errors?.proposedSolution?c.jsx("p",{className:"mt-1 text-xs text-red-600",children:l.errors.proposedSolution}):null]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",htmlFor:"stage",children:"Project stage"}),c.jsxs("select",{id:"stage",className:"input",value:a.stage,onChange:h=>u("stage",h.target.value),required:!0,children:[c.jsx("option",{value:ba.idea,children:"Idea"}),c.jsx("option",{value:ba.prototype,children:"Prototype"}),c.jsx("option",{value:ba.mvp,children:"MVP"})]}),l.errors?.stage?c.jsx("p",{className:"mt-1 text-xs text-red-600",children:l.errors.stage}):null]}),c.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2",children:[r?c.jsx("button",{type:"button",className:"btn-secondary",onClick:r,children:"Cancel"}):null,c.jsx("button",{type:"submit",className:"btn-primary",disabled:!l.ok,children:n})]})]})}const hA=(e,t)=>e?{fileName:e.name,fileType:e.type,fileSize:e.size,lastModified:e.lastModified,localUrl:t}:null;function iH({open:e,onClose:t,onSubmit:r,ideaSubmitted:n}){const[a,s]=y.useState(ot.document),[l,u]=y.useState(!1),[f,h]=y.useState(null),[m,g]=y.useState(""),[v,x]=y.useState(""),[w,S]=y.useState(null),N=y.useMemo(()=>n?a===ot.document?!!f:a===ot.demoLink?String(m).trim().length>0:a===ot.video?String(v).trim().length>0||!!w:!1:!1,[n,a,f,m,v,w]),_=()=>{h(null),g(""),x(""),S(null),s(ot.document)},A=async()=>{if(!(!N||l)){u(!0);try{const k=new Date().toISOString();if(a===ot.document){const O=URL.createObjectURL(f);await r?.({type:a,payload:{uploadedAt:k,file:hA(f,O),note:"Stored locally in the browser (prototype mode)."}})}if(a===ot.demoLink&&await r?.({type:a,payload:{url:String(m).trim(),addedAt:k}}),a===ot.video)if(String(v).trim())await r?.({type:a,payload:{url:String(v).trim(),addedAt:k}});else{const O=URL.createObjectURL(w);await r?.({type:a,payload:{uploadedAt:k,file:hA(w,O),note:"Stored locally in the browser (prototype mode)."}})}_(),t?.()}finally{u(!1)}}};return c.jsxs(ar,{open:e,title:"Add submission",onClose:()=>{_(),t?.()},footer:c.jsxs(c.Fragment,{children:[c.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>{_(),t?.()},children:"Cancel"}),c.jsx("button",{type:"button",className:"btn-primary",disabled:!N||l,onClick:A,children:"Add"})]}),children:[n?null:c.jsx("div",{className:"rounded-xl border border-amber-200 bg-amber-50 p-4 text-sm text-amber-800",children:"Submit your IDEA first before adding other submission types."}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label",htmlFor:"submissionType",children:"Submission type"}),c.jsxs("select",{id:"submissionType",className:"input",value:a,onChange:k=>s(k.target.value),disabled:!n,children:[c.jsx("option",{value:ot.document,children:Jh(ot.document)}),c.jsx("option",{value:ot.demoLink,children:Jh(ot.demoLink)}),c.jsx("option",{value:ot.video,children:Jh(ot.video)})]})]}),a===ot.document?c.jsxs("div",{children:[c.jsx("label",{className:"label",htmlFor:"docFile",children:"PDF document"}),c.jsx("input",{id:"docFile",className:"input",type:"file",accept:"application/pdf",onChange:k=>h(k.target.files?.[0]??null),disabled:!n}),c.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"PDF is stored locally for now (no database/storage yet)."})]}):null,a===ot.demoLink?c.jsxs("div",{children:[c.jsx("label",{className:"label",htmlFor:"demoUrl",children:"Demo URL"}),c.jsx("input",{id:"demoUrl",className:"input",type:"url",placeholder:"https://your-demo.example",value:m,onChange:k=>g(k.target.value),disabled:!n})]}):null,a===ot.video?c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label",htmlFor:"videoUrl",children:"Video URL (recommended)"}),c.jsx("input",{id:"videoUrl",className:"input",type:"url",placeholder:"https://youtube.com/... or https://drive.google.com/...",value:v,onChange:k=>x(k.target.value),disabled:!n})]}),c.jsx("div",{className:"text-xs text-slate-500",children:"Or upload a video file (stored locally for now)."}),c.jsxs("div",{children:[c.jsx("label",{className:"label",htmlFor:"videoFile",children:"Video file"}),c.jsx("input",{id:"videoFile",className:"input",type:"file",accept:"video/*",onChange:k=>S(k.target.files?.[0]??null),disabled:!n})]})]}):null]})]})}function sH(){const{currentUser:e}=_t(),{push:t}=Da(),{getUserById:r,listProjects:n,listProjectSubmissions:a,listTasks:s,createProjectWithIdea:l,addProjectSubmission:u}=Pt(),[f,h]=y.useState(!1),[m,g]=y.useState(!1),[v,x]=y.useState(null),[w,S]=y.useState(null),N=e?.id?n({studentId:e.id}):[],_=v?N.find(D=>D.id===v)??null:null,A=_?.id?a({projectId:_.id}):[],k=_?.id?s?.({projectId:_.id})??[]:[],O=AM(A),M=async D=>{S(null);const L=await l({studentId:e.id,idea:D});if(!L.success){S(L.errors??{form:L.error??"Please fix the errors and try again."});return}if(L.localFallback){let V="";try{V=new URL("https://mdgyxdfbxlnrvvemksck.supabase.co").host}catch{V=""}t({type:"warning",title:"Saved locally (Supabase not ready)",message:`This project was saved in your browser only, so admin will not see it until Supabase tables are installed and your app is connected to that Supabase project.${V?` Connected Supabase: ${V}.`:""}`})}h(!1),x(L.project.id)},C=async({type:D,payload:L})=>{_?.id&&await u({projectId:_.id,type:D,payload:L})};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-start justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-heading font-bold text-slate-900",children:"Projects"}),c.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Submit progressively: Idea  document  demo  video."})]}),c.jsxs("button",{type:"button",className:"btn-primary",onClick:()=>h(!0),children:[c.jsx(Ei,{className:"h-4 w-4"}),"Create Project"]})]}),c.jsxs("div",{className:"grid gap-6 lg:grid-cols-5",children:[c.jsx("div",{className:"lg:col-span-2",children:c.jsx(He,{title:"My projects",subtitle:N.length?`${N.length} total`:"Start by submitting your IDEA",children:N.length===0?c.jsx(Ds,{title:"No projects yet",message:"Create your first project by submitting the IDEA form.",icon:Bo}):c.jsx("div",{className:"space-y-2",children:N.map(D=>c.jsxs("button",{type:"button",onClick:()=>x(D.id),className:["w-full text-left rounded-xl border p-4 transition-colors",v===D.id?"border-blue-200 bg-blue-50":"border-slate-200 bg-white hover:bg-slate-50"].join(" "),children:[c.jsxs("div",{className:"flex items-center justify-between gap-3",children:[c.jsx("div",{className:"font-heading font-bold text-slate-900 truncate",children:D.title}),c.jsx("div",{className:"text-xs font-bold uppercase tracking-wider text-slate-500",children:D.stage})]}),c.jsxs("div",{className:"mt-1 text-xs text-slate-500",children:["Last updated: ",new Date(D.updatedAt).toLocaleString()]})]},D.id))})})}),c.jsx("div",{className:"lg:col-span-3",children:_?c.jsxs(He,{title:_.title,subtitle:`Stage: ${_.stage}`,actions:c.jsxs("button",{type:"button",className:"btn-secondary",onClick:()=>g(!0),disabled:!O,title:O?"Add a submission":"Submit IDEA first",children:[c.jsx(Ei,{className:"h-4 w-4"}),"Add submission"]}),children:[O?null:c.jsx("div",{className:"mb-4 rounded-xl border border-amber-200 bg-amber-50 p-4 text-sm text-amber-800",children:"You must submit the IDEA first before adding documents, demos, or videos."}),c.jsx(Qw,{submissions:A,tasks:k,getUserById:r,allowComment:!1,allowReview:!1,currentUserId:e?.id})]}):c.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 text-sm text-slate-500",children:"Select a project to view its submission timeline."})})]}),c.jsxs(ar,{open:f,title:"Create Project (IDEA submission)",onClose:()=>{S(null),h(!1)},children:[w?.form?c.jsx("div",{className:"mb-4 rounded-xl border border-red-200 bg-red-50 p-4 text-sm text-red-700",children:w.form}):null,c.jsx(aH,{onSubmit:M,onCancel:()=>{S(null),h(!1)},submitLabel:"Create project"})]}),c.jsx(iH,{open:m,onClose:()=>g(!1),ideaSubmitted:O,onSubmit:C})]})}function oH(){const{currentUser:e}=_t(),{data:t,createApplication:r}=Pt(),{showToast:n}=Da(),{templates:a,instances:s,templateDetailsById:l,instanceDetailsById:u,fetchTemplateDetails:f,fetchInstanceDetails:h,createInstanceFromTemplate:m,submitInstanceTask:g,subscribeToInstanceTasks:v}=Np(),[x,w]=y.useState(null),[S,N]=y.useState(!1),[_,A]=y.useState(!1),[k,O]=y.useState(null),{enrolledPrograms:M,availablePrograms:C}=y.useMemo(()=>{if(!e?.id||!t)return{enrolledPrograms:[],availablePrograms:[]};const T=(t.programs??[]).filter($=>$.participantStudentIds.includes(e.id)),I=(t.programs??[]).filter($=>!$.participantStudentIds.includes(e.id)&&$.status==="active");return{enrolledPrograms:T,availablePrograms:I}},[e,t]),D=y.useMemo(()=>{if(!t)return{};const T={};return[...M,...C].forEach($=>{const B=(t.coachingSessions??[]).filter(je=>je.programId===$.id).length,Z=(t.deliverables??[]).filter(je=>je.programId===$.id).length,ue=(t.users??[]).filter(je=>$.coachIds.includes(je.id));T[$.id]={sessions:B,deliverables:Z,students:$.participantStudentIds.length,coaches:ue}}),T},[M,C,t]),L=y.useMemo(()=>a.filter(T=>T.isActive),[a]),V=y.useMemo(()=>e?.id?(s??[]).filter(T=>T.studentId===e.id):[],[e?.id,s]),te=y.useMemo(()=>k?u[k]??null:null,[u,k]),W=te?.instance??null,K=te?.tasks??[],Se=W?l[W.templateId]??null:null;y.useEffect(()=>{if(!_||!k)return;let T=!1;return(async()=>{try{const I=await h(k);if(T)return;I?.instance?.templateId&&await f(I.instance.templateId),await v(k)}catch(I){n(I?.message??"Failed to load roadmap","error")}})(),()=>{T=!0}},[h,f,_,k,n,v]);const be=T=>{O(T),A(!0)},Ae=()=>{A(!1),O(null)},Y=async T=>{try{const I=await m({templateId:T});n("Program started! Your roadmap is ready.","success"),I&&be(I)}catch(I){n(I?.message??"Failed to start program","error")}},ee=async T=>{const I=window.prompt("Paste a submission link or note for your coach:","");if(I!==null)try{await g({taskId:T,submission:{note:I}}),n("Submitted for review.","success")}catch($){n($?.message??"Failed to submit task","error")}},ce=T=>{w(T),N(!0)},we=async()=>{if(!(!e?.id||!x?.id))try{await r({programId:x.id,studentId:e.id}),n("Application submitted successfully!","success")}catch(T){const I=T?.message||"Failed to submit application.";n(I,"error")}finally{N(!1),w(null)}},G=T=>{if(!e?.id)return 0;const I=(t?.deliverables??[]).filter(B=>B.programId===T&&B.assignedStudentIds.includes(e.id));if(I.length===0)return 0;const $=I.filter(B=>B.submissions?.find(ue=>ue.studentId===e.id)?.status==="graded").length;return Math.round($/I.length*100)};return c.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-xl font-heading font-bold text-slate-800 dark:text-white",children:"My Roadmaps"}),V.length===0?c.jsx(He,{className:"bg-slate-50 border-dashed dark:bg-slate-900/30",children:c.jsxs("div",{className:"py-10 text-center",children:[c.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"No active roadmap yet"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Start a template program below to get your personalized tasks and courses."})]})}):c.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:V.map(T=>{const I=a.find($=>$.id===T.templateId);return c.jsx(He,{children:c.jsxs("div",{className:"flex items-start justify-between gap-4",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"text-lg font-bold text-slate-900 dark:text-white",children:I?.name??"Program"}),c.jsx("div",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400 line-clamp-2",children:I?.description??""}),c.jsxs("div",{className:"mt-2 text-xs text-slate-400",children:["Started: ",wr(T.startedAt)]})]}),c.jsx("button",{type:"button",className:"px-4 py-2 rounded-xl bg-student-primary text-white text-sm font-bold hover:bg-blue-600 transition-colors",onClick:()=>be(T.id),children:"Open"})]})},T.id)})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-xl font-heading font-bold text-slate-800 dark:text-white",children:"Browse Programs"}),L.length===0?c.jsx(He,{className:"bg-slate-50 border-dashed dark:bg-slate-900/30",children:c.jsxs("div",{className:"py-10 text-center",children:[c.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"No templates published"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Ask an admin to publish a program template with courses and tasks."})]})}):c.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:L.map(T=>c.jsx(He,{children:c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-start justify-between gap-3",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"font-bold text-slate-900 dark:text-white",children:T.name}),c.jsx("div",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400 line-clamp-2",children:T.description})]}),c.jsx(Rr,{value:T.isActive?"active":"archived"})]}),c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsx("button",{type:"button",className:"px-4 py-2 rounded-xl bg-slate-900 text-white text-sm font-bold hover:bg-slate-800 transition-colors dark:bg-white dark:text-slate-900",onClick:()=>Y(T.id),children:"Start"}),c.jsx("button",{type:"button",className:"px-4 py-2 rounded-xl border border-slate-200 text-slate-600 text-sm font-bold hover:bg-slate-50 transition-colors dark:border-slate-700 dark:text-slate-200",onClick:async()=>{try{await f(T.id),n("Template loaded. Start it to get a roadmap.","info")}catch(I){n(I?.message??"Failed to load template","error")}},children:"Preview"})]})]})},T.id))})]}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-heading font-bold text-slate-900 dark:text-white",children:"Programs"}),c.jsx("p",{className:"mt-2 text-lg text-slate-500 font-medium",children:"Browse and enroll in world-class entrepreneurship programs designed to help you scale."})]}),M.length>0&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("h2",{className:"text-xl font-heading font-bold text-slate-800 flex items-center gap-2",children:[c.jsx(Ai,{className:"h-5 w-5 text-student-primary"}),"My Programs"]}),c.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:M.map(T=>{const I=D[T.id]??{},$=G(T.id);return c.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-white p-6 shadow-sm border border-slate-100 transition-all hover:shadow-lg dark:bg-slate-800 dark:border-slate-700",children:[c.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 pointer-events-none",children:c.jsx(Aa,{className:"h-32 w-32 rotate-12"})}),c.jsxs("div",{className:"flex items-start gap-4 relative z-10",children:[c.jsx("div",{className:"grid h-14 w-14 shrink-0 place-items-center rounded-2xl bg-gradient-to-br from-blue-500 to-indigo-600 text-white shadow-md",children:c.jsx(Zu,{className:"h-7 w-7"})}),c.jsxs("div",{className:"min-w-0 flex-1 space-y-3",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-start justify-between gap-2",children:[c.jsx("h3",{className:"text-lg font-heading font-bold text-slate-900 dark:text-white group-hover:text-student-primary transition-colors",children:T.name}),c.jsx(Rr,{value:T.status})]}),c.jsx("p",{className:"mt-2 text-sm text-slate-500 leading-relaxed line-clamp-2 dark:text-slate-400",children:T.description})]}),c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex justify-between text-xs font-bold uppercase text-slate-500",children:[c.jsx("span",{children:"Progress"}),c.jsxs("span",{children:[$,"%"]})]}),c.jsx("div",{className:"h-2 w-full rounded-full bg-slate-100 overflow-hidden",children:c.jsx("div",{className:"h-full bg-student-primary rounded-full transition-all duration-1000",style:{width:`${$}%`}})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs font-medium text-slate-500 mt-2",children:[c.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 p-2 rounded-lg",children:[c.jsx(en,{className:"h-3.5 w-3.5 text-slate-400"}),I.sessions," sessions"]}),c.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 p-2 rounded-lg",children:[c.jsx(Aa,{className:"h-3.5 w-3.5 text-slate-400"}),I.deliverables," deliverables"]})]}),c.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400 pt-2 border-t border-slate-50 mt-2",children:[c.jsx(aa,{className:"h-3 w-3"}),I.coaches&&I.coaches.length>0?c.jsxs("span",{children:["Mapped Coach: ",c.jsx("span",{className:"text-slate-700 font-bold",children:I.coaches.map(B=>B.name).join(", ")})]}):"No coach assigned"]})]})]})]},T.id)})})]}),c.jsxs("div",{className:"space-y-6 pt-4",children:[c.jsxs("h2",{className:"text-xl font-heading font-bold text-slate-800 flex items-center gap-2",children:[c.jsx(Aa,{className:"h-5 w-5 text-indigo-500"}),"Available Programs ",c.jsx("span",{className:"text-sm font-medium text-slate-400 ml-2 bg-slate-100 px-2 py-0.5 rounded-full",children:C.length})]}),C.length===0?c.jsx(He,{className:"bg-slate-50 border-dashed",children:c.jsxs("div",{className:"py-12 text-center",children:[c.jsx("div",{className:"mx-auto h-16 w-16 bg-slate-100 rounded-full flex items-center justify-center text-slate-400 mb-4",children:c.jsx(Zu,{className:"h-8 w-8"})}),c.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"No programs available"}),c.jsx("p",{className:"text-slate-500",children:"Check back later for new enrollment opportunities!"})]})}):c.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:C.map(T=>{const I=D[T.id]??{},$=(t?.applications??[]).find(ue=>ue.programId===T.id&&ue.studentId===e?.id),B=!!$,Z=B?$.status==="pending"?"Application Submitted":$.status==="accepted"?"Accepted":$.status==="rejected"?"Rejected":"Applied":"Apply Now";return c.jsxs("div",{className:"flex flex-col rounded-2xl bg-white p-6 shadow-sm border border-slate-200 transition-all hover:shadow-xl hover:-translate-y-1",children:[c.jsxs("div",{className:"flex-1 space-y-4",children:[c.jsxs("div",{className:"flex items-start justify-between gap-2",children:[c.jsx("div",{className:"h-12 w-12 rounded-xl bg-slate-900 text-white flex items-center justify-center shadow-lg",children:c.jsx("span",{className:"font-heading font-bold text-xl",children:T.name.charAt(0)})}),c.jsx(Rr,{value:T.status})]}),c.jsxs("div",{children:[_&&c.jsx(ar,{isOpen:_,onClose:Ae,title:a.find(ue=>ue.id===W?.templateId)?.name??"Program Roadmap",children:W?c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-4 dark:border-slate-700 dark:bg-slate-900/30",children:c.jsxs("div",{className:"flex items-center justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-bold text-slate-900 dark:text-white",children:"Progress"}),c.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Tasks approved drive milestones"})]}),c.jsxs("div",{className:"text-sm font-bold text-slate-900 dark:text-white",children:[K.filter(ue=>ue.status==="approved").length," / ",K.length," approved"]})]})}),Se?.stages?.length?c.jsx("div",{className:"space-y-6",children:Se.stages.map(ue=>{const je=(Se.contents??[]).filter(de=>de.stageId===ue.id),Oe=K.filter(de=>de.stageId===ue.id),Q=Oe.filter(de=>de.status==="approved").length;return c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-start justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-lg font-bold text-slate-900 dark:text-white",children:ue.name}),ue.description?c.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:ue.description}):null]}),c.jsxs("div",{className:"text-sm font-bold text-slate-700 dark:text-slate-200",children:[Q,"/",Oe.length," approved"]})]}),je.length>0&&c.jsxs("div",{className:"rounded-xl border border-slate-200 p-4 dark:border-slate-700",children:[c.jsx("div",{className:"text-sm font-bold text-slate-900 dark:text-white",children:"Courses & Videos"}),c.jsx("div",{className:"mt-3 space-y-2",children:je.map(de=>c.jsx("a",{href:de.url,target:"_blank",rel:"noreferrer",className:"block rounded-lg border border-slate-200 p-3 hover:bg-slate-50 transition-colors dark:border-slate-700 dark:hover:bg-slate-800",children:c.jsxs("div",{className:"flex items-center justify-between gap-3",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"font-bold text-slate-900 dark:text-white truncate",children:de.title}),c.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:[de.contentType.toUpperCase(),de.provider?`  ${de.provider}`:"",de.durationMinutes?`  ${de.durationMinutes}m`:""]})]}),c.jsx("div",{className:"text-xs font-bold text-student-primary",children:"Open"})]})},de.id))})]}),c.jsx("div",{className:"space-y-2",children:Oe.length===0?c.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:"No tasks in this stage yet."}):Oe.map(de=>c.jsxs("div",{className:"flex items-start justify-between gap-4 rounded-xl border border-slate-200 p-4 dark:border-slate-700",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"font-bold text-slate-900 dark:text-white",children:de.title}),de.description?c.jsx("div",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:de.description}):null,c.jsxs("div",{className:"mt-2 text-xs text-slate-400",children:["Status: ",c.jsx("span",{className:"font-bold",children:de.status}),de.deadline?`  Due: ${wr(de.deadline)}`:""]})]}),c.jsxs("div",{className:"shrink-0 flex items-center gap-2",children:[c.jsx(Rr,{value:de.status}),de.status!=="approved"&&c.jsx("button",{type:"button",className:"px-3 py-2 rounded-xl bg-slate-900 text-white text-xs font-bold hover:bg-slate-800 transition-colors dark:bg-white dark:text-slate-900",onClick:()=>ee(de.id),children:"Submit"})]})]},de.id))})]},ue.id)})}):c.jsx("div",{className:"text-sm text-slate-500",children:"Loading template stages"})]}):c.jsx("div",{className:"text-sm text-slate-500",children:"Loading instance"})}),c.jsx("h3",{className:"text-lg font-heading font-bold text-slate-900 mb-2",children:T.name}),c.jsx("p",{className:"text-sm text-slate-500 line-clamp-3 leading-relaxed",children:T.description})]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg bg-slate-50 text-xs font-bold text-slate-600",children:[c.jsx(en,{className:"h-3.5 w-3.5"}),I.sessions," Sessions"]}),c.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg bg-slate-50 text-xs font-bold text-slate-600",children:[c.jsx(aa,{className:"h-3.5 w-3.5"}),I.students," Enrolled"]})]}),c.jsxs("div",{className:"text-xs font-medium text-slate-400 flex items-center gap-2 pt-2 border-t border-slate-100",children:[c.jsx("span",{children:wr(T.startDate)}),c.jsx("span",{className:"h-1 w-1 bg-slate-300 rounded-full"}),c.jsx("span",{children:wr(T.endDate)})]})]}),c.jsx("button",{type:"button",className:`mt-6 w-full rounded-xl py-3 text-sm font-bold text-white shadow-lg transition-all active:scale-95 ${B?"bg-slate-400 cursor-not-allowed shadow-slate-400/20":"bg-slate-900 shadow-slate-900/20 hover:bg-slate-800 hover:shadow-xl"}`,onClick:()=>ce(T),disabled:B,children:Z})]},T.id)})})]}),S&&x&&c.jsx(ar,{title:`Apply to ${x.name}`,onClose:()=>N(!1),footer:c.jsxs("div",{className:"flex gap-3 w-full sm:w-auto",children:[c.jsx("button",{type:"button",className:"flex-1 rounded-xl px-4 py-2.5 text-sm font-bold text-slate-600 hover:bg-slate-100 transition-colors",onClick:()=>N(!1),children:"Cancel"}),c.jsx("button",{type:"button",className:"flex-1 rounded-xl bg-student-primary px-6 py-2.5 text-sm font-bold text-white shadow-lg hover:bg-blue-600 active:scale-95 transition-all",onClick:we,children:"Confirm Application"})]}),children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"rounded-xl bg-slate-50 p-6 border border-slate-100",children:[c.jsx("h3",{className:"font-heading font-bold text-slate-900 text-lg mb-2",children:x.name}),c.jsx("p",{className:"text-sm text-slate-600 leading-relaxed",children:x.description})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex gap-3 items-start",children:[c.jsx(Ai,{className:"h-5 w-5 text-student-primary shrink-0 mt-0.5"}),c.jsx("p",{className:"text-sm text-slate-600",children:"I confirm that I can attend the scheduled sessions."})]}),c.jsxs("div",{className:"flex gap-3 items-start",children:[c.jsx(Ai,{className:"h-5 w-5 text-student-primary shrink-0 mt-0.5"}),c.jsx("p",{className:"text-sm text-slate-600",children:"I am committed to completing all required deliverables."})]})]})]})})]})}function lH(){const{currentUser:e}=_t(),{data:t}=Pt(),r=Ja(),n=y.useMemo(()=>!e?.id||!t?[]:(t.applications??[]).filter(u=>u.studentId===e.id).sort((u,f)=>new Date(f.submittedAt)-new Date(u.submittedAt)),[e,t]),a=y.useMemo(()=>{const u=n.filter(m=>m.status==="pending").length,f=n.filter(m=>m.status==="approved").length,h=n.filter(m=>m.status==="rejected").length;return{total:n.length,pending:u,approved:f,rejected:h}},[n]),s=u=>(t?.programs??[]).find(h=>h.id===u)?.name??"Unknown Program",l=u=>{switch(u){case"approved":return c.jsx(Ai,{className:"h-5 w-5"});case"rejected":return c.jsx(lM,{className:"h-5 w-5"});default:return c.jsx(Di,{className:"h-5 w-5"})}};return n.length===0?c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-heading font-bold text-slate-900 dark:text-white",children:"My Applications"}),c.jsx("p",{className:"mt-2 text-lg text-slate-500 font-medium",children:"Track the status of your program applications."})]}),c.jsx(Ds,{icon:ib,title:"No Applications Found",description:"You haven't applied to any programs yet. Browse available programs to get started.",actionLabel:"Browse Programs",onAction:()=>r("/student/programs")})]}):c.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-heading font-bold text-slate-900 dark:text-white",children:"My Applications"}),c.jsx("p",{className:"mt-2 text-lg text-slate-500 font-medium",children:"Track the status of your program applications."})]}),c.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[c.jsxs("div",{className:"rounded-2xl bg-white p-6 shadow-sm border border-slate-200 flex items-center gap-4 dark:bg-slate-800 dark:border-slate-700",children:[c.jsx("div",{className:"rounded-xl bg-blue-50 p-3 text-blue-600 dark:bg-blue-900/20",children:c.jsx(ib,{className:"h-6 w-6"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-bold uppercase tracking-wider text-slate-400",children:"Total"}),c.jsx("h3",{className:"text-2xl font-heading font-bold text-slate-900 dark:text-white",children:a.total})]})]}),c.jsxs("div",{className:"rounded-2xl bg-white p-6 shadow-sm border border-slate-200 flex items-center gap-4 dark:bg-slate-800 dark:border-slate-700",children:[c.jsx("div",{className:"rounded-xl bg-amber-50 p-3 text-amber-600 dark:bg-amber-900/20",children:c.jsx(Di,{className:"h-6 w-6"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-bold uppercase tracking-wider text-slate-400",children:"Pending"}),c.jsx("h3",{className:"text-2xl font-heading font-bold text-slate-900 dark:text-white",children:a.pending})]})]}),c.jsxs("div",{className:"rounded-2xl bg-white p-6 shadow-sm border border-slate-200 flex items-center gap-4 dark:bg-slate-800 dark:border-slate-700",children:[c.jsx("div",{className:"rounded-xl bg-emerald-50 p-3 text-emerald-600 dark:bg-emerald-900/20",children:c.jsx(Ai,{className:"h-6 w-6"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-bold uppercase tracking-wider text-slate-400",children:"Approved"}),c.jsx("h3",{className:"text-2xl font-heading font-bold text-slate-900 dark:text-white",children:a.approved})]})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-xl font-heading font-bold text-slate-900 dark:text-white",children:"Recent Applications"}),c.jsx("div",{className:"grid gap-4",children:n.map(u=>c.jsx("div",{className:"group relative overflow-hidden rounded-2xl bg-white p-6 shadow-sm border border-slate-200 transition-all hover:shadow-md hover:border-blue-200 dark:bg-slate-800 dark:border-slate-700",children:c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"hidden md:flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-slate-100 text-slate-500 font-bold text-lg dark:bg-slate-700",children:s(u.programId).charAt(0)}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[c.jsx("h3",{className:"font-heading font-bold text-lg text-slate-900 dark:text-white",children:s(u.programId)}),c.jsxs("div",{className:`px-2.5 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-wide border flex items-center gap-1 ${u.status==="approved"?"bg-emerald-50 text-emerald-700 border-emerald-200":u.status==="rejected"?"bg-red-50 text-red-700 border-red-200":"bg-amber-50 text-amber-700 border-amber-200"}`,children:[l(u.status),u.status]})]}),c.jsxs("p",{className:"text-sm text-slate-500 font-medium",children:["Submitted on ",wr(u.submittedAt)]})]})]}),c.jsxs("div",{className:"flex items-center gap-4 md:ml-auto",children:[u.status==="approved"&&c.jsx("button",{onClick:()=>r("/student/programs"),className:"rounded-xl bg-student-primary px-5 py-2 text-sm font-bold text-white shadow-sm hover:bg-blue-600 transition-colors",children:"View Program"}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-xs font-bold uppercase tracking-wider text-slate-400",children:"Application ID"}),c.jsx("div",{className:"text-sm font-mono text-slate-600",children:u.id.slice(0,8)})]})]})]})},u.id))})]})]})}function cH(){const{currentUser:e}=_t(),{data:t}=Pt(),[r,n]=y.useState(null),[a,s]=y.useState(""),l=y.useMemo(()=>!e?.id||!t?[]:(t.deliverables??[]).filter(h=>h.assignedStudentIds.includes(e.id)).map(h=>{const m=h.submissions?.find(x=>x.studentId===e.id);let g="Pending",v=null;return m&&(m.status==="graded"?(g=m.grade>=80?"Approved":"Needs Revision",v=m.feedback):m.status==="submitted"&&(g="Submitted")),{id:h.id,title:h.title,description:h.description,deadline:h.dueDate,programName:(t.programs??[]).find(x=>x.id===h.programId)?.name||"Unknown Program",status:g,score:m?.status==="graded"?m.grade:null,feedback:v,submittedAt:m?.submittedAt}}).sort((h,m)=>new Date(h.deadline)-new Date(m.deadline)),[e,t]),u=y.useMemo(()=>{if(!a)return l;const f=a.toLowerCase();return l.filter(h=>h.title.toLowerCase().includes(f)||h.programName.toLowerCase().includes(f))},[l,a]);return c.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-heading font-bold text-slate-900 dark:text-white",children:"Deliverables"}),c.jsx("p",{className:"mt-2 text-lg text-slate-500 font-medium",children:"Manage your assignments and project submissions."})]}),c.jsxs("div",{className:"hidden md:flex gap-4",children:[c.jsxs("div",{className:"rounded-2xl bg-white px-5 py-3 shadow-sm border border-slate-100 dark:bg-slate-800 dark:border-slate-700",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx(Md,{className:"h-4 w-4 text-slate-400"}),c.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-slate-400",children:"Total"})]}),c.jsx("div",{className:"text-2xl font-heading font-bold text-slate-900 dark:text-white",children:l.length})]}),c.jsxs("div",{className:"rounded-2xl bg-white px-5 py-3 shadow-sm border border-slate-100 dark:bg-slate-800 dark:border-slate-700",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx(Di,{className:"h-4 w-4 text-amber-500"}),c.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-slate-400",children:"Pending"})]}),c.jsx("div",{className:"text-2xl font-heading font-bold text-amber-600",children:l.filter(f=>f.status==="Pending"||f.status==="Needs Revision").length})]}),c.jsxs("div",{className:"rounded-2xl bg-white px-5 py-3 shadow-sm border border-slate-100 dark:bg-slate-800 dark:border-slate-700",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx(Ai,{className:"h-4 w-4 text-emerald-500"}),c.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-slate-400",children:"Approved"})]}),c.jsx("div",{className:"text-2xl font-heading font-bold text-emerald-600",children:l.filter(f=>f.status==="Approved").length})]})]})]}),c.jsxs("div",{className:"relative",children:[c.jsx(qi,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"}),c.jsx("input",{type:"text",placeholder:"Search deliverables...",value:a,onChange:f=>s(f.target.value),className:"w-full pl-12 pr-4 py-3 rounded-2xl border border-slate-200 bg-white text-sm outline-none focus:ring-2 focus:ring-slate-100 focus:border-slate-300 transition-all dark:bg-slate-800 dark:border-slate-700"})]}),c.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white shadow-sm overflow-hidden dark:bg-slate-800 dark:border-slate-700",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-sm text-left",children:[c.jsx("thead",{className:"bg-slate-50 text-slate-500 font-bold font-heading uppercase tracking-wider text-xs border-b border-slate-200 dark:bg-slate-900/50 dark:border-slate-700 dark:text-slate-400",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-4",children:"Deliverable"}),c.jsx("th",{className:"px-6 py-4",children:"Due Date"}),c.jsx("th",{className:"px-6 py-4",children:"Status"}),c.jsx("th",{className:"px-6 py-4",children:"Score"}),c.jsx("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),c.jsxs("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:[u.map(f=>c.jsxs("tr",{className:"group hover:bg-slate-50/80 transition-colors dark:hover:bg-slate-700/50",children:[c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{children:[c.jsx("div",{className:"font-bold text-slate-900 text-base dark:text-white",children:f.title}),c.jsx("div",{className:"text-xs text-slate-500 mt-1 max-w-md truncate",children:f.description}),c.jsx("div",{className:"text-[10px] uppercase font-bold text-slate-400 tracking-wide mt-1",children:f.programName})]})}),c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center gap-2 text-slate-600 dark:text-slate-300",children:[c.jsx(en,{className:"h-4 w-4 text-slate-400"}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"font-medium text-sm",children:wr(f.deadline)}),c.jsx("span",{className:"text-xs text-slate-400",children:rn(f.deadline).split(",")[1]})]})]})}),c.jsx("td",{className:"px-6 py-4",children:c.jsx(Rr,{value:f.status})}),c.jsx("td",{className:"px-6 py-4",children:f.score!==null?c.jsxs("div",{className:`font-bold ${f.score>=80?"text-emerald-600":"text-amber-600"}`,children:[f.score,"/100"]}):c.jsx("span",{className:"text-slate-300",children:"-"})}),c.jsx("td",{className:"px-6 py-4 text-right",children:c.jsxs("div",{className:"flex items-center justify-end gap-2",children:[f.feedback&&c.jsx("button",{onClick:()=>n(f),className:"p-2 rounded-lg text-slate-400 hover:bg-blue-50 hover:text-blue-600 transition-colors",title:"View Feedback",children:c.jsx(ac,{className:"h-4 w-4"})}),c.jsx("button",{className:"rounded-lg bg-slate-900 px-4 py-2 text-xs font-bold text-white shadow-sm hover:bg-slate-800 transition-colors dark:bg-white dark:text-slate-900",children:f.status==="Pending"||f.status==="Needs Revision"?"Submit":"View"})]})})]},f.id)),u.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-slate-400",children:"No deliverables found."})})]})]})})}),r&&c.jsx(ar,{isOpen:!!r,onClose:()=>n(null),title:"Coach Feedback",footer:c.jsx("button",{className:"btn-primary w-full",onClick:()=>n(null),children:"Close"}),children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"h-10 w-10 bg-slate-100 rounded-full flex items-center justify-center text-slate-500",children:c.jsx(ac,{className:"h-5 w-5"})}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-slate-900",children:r.title}),c.jsx("p",{className:"text-xs text-slate-500",children:"Feedback from Coach"})]})]}),c.jsx("div",{className:"rounded-xl bg-blue-50 p-5 text-sm text-blue-900 leading-relaxed border border-blue-100",children:r.feedback}),r.score&&c.jsxs("div",{className:"flex justify-end",children:[c.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-slate-400 mr-2 mt-1",children:"Grade"}),c.jsxs("span",{className:`text-xl font-bold ${r.score>=80?"text-emerald-600":"text-amber-600"}`,children:[r.score,"/100"]})]})]})})]})}function uH({templateItems:e,value:t,onChange:r}){const n=Array.isArray(e)?e:[],a=new Set(Array.isArray(t)?t:[]);return c.jsx("div",{className:"space-y-2",children:n.length===0?c.jsx("div",{className:"text-sm text-slate-500",children:"No checklist items."}):n.map(s=>c.jsxs("label",{className:"flex items-center gap-2 rounded-xl border border-slate-200 bg-white p-3",children:[c.jsx("input",{type:"checkbox",checked:a.has(s.id),onChange:l=>{const u=new Set(a);l.target.checked?u.add(s.id):u.delete(s.id),r(Array.from(u))}}),c.jsx("span",{className:"text-sm text-slate-800",children:s.text})]},s.id))})}function dH({open:e,task:t,onClose:r,onSubmit:n}){const a=String(t?.taskType??"").toUpperCase(),[s,l]=y.useState(""),[u,f]=y.useState(""),[h,m]=y.useState(null),[g,v]=y.useState([]),[x,w]=y.useState(!1),[S,N]=y.useState(null),_=y.useMemo(()=>x||!t?!1:a===at.text?!!s.trim():a===at.link?!!u.trim():a===at.file?!!h:a===at.checklist,[x,h,t,a,s,u]),A=()=>{l(""),f(""),m(null),v([]),N(null)},k=()=>t?a===at.text?c.jsx("textarea",{className:"input min-h-[140px]",placeholder:"Write your response",value:s,onChange:M=>l(M.target.value)}):a===at.link?c.jsx("input",{className:"input",placeholder:"https://",value:u,onChange:M=>f(M.target.value)}):a===at.file?c.jsxs("div",{className:"space-y-2",children:[c.jsx("input",{type:"file",onChange:M=>{const C=M.target.files?.[0]??null;m(C)}}),h?c.jsxs("div",{className:"text-xs text-slate-600",children:["Selected: ",h.name]}):null,c.jsx("div",{className:"text-xs text-slate-500",children:"(Mock-only) File is stored as name + local preview URL."})]}):a===at.checklist?c.jsx(uH,{templateItems:t?.checklistItems,value:g,onChange:v}):c.jsx("div",{className:"text-sm text-slate-500",children:"Unsupported task type."}):null,O=async()=>{if(t){N(null),w(!0);try{const M=(()=>{if(a===at.text)return{text:s.trim()};if(a===at.link)return{url:u.trim()};if(a===at.file){const C=h?URL.createObjectURL(h):null;return{fileName:h?.name??null,localUrl:C}}return a===at.checklist?{checkedItemIds:g}:null})();await n?.({taskId:t.id,submission:M}),A(),r?.()}catch(M){N(M?.message??"Failed to submit task")}finally{w(!1)}}};return c.jsxs(ar,{open:e,title:t?`Submit task: ${t.title}`:"Submit task",onClose:()=>{A(),r?.()},children:[S?c.jsx("div",{className:"mb-4 rounded-xl border border-red-200 bg-red-50 p-4 text-sm text-red-700",children:S}):null,c.jsxs("div",{className:"space-y-4",children:[k(),c.jsxs("div",{className:"flex items-center justify-end gap-2",children:[c.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>r?.(),disabled:x,children:"Cancel"}),c.jsx("button",{type:"button",className:"btn-primary",onClick:O,disabled:!_,children:x?"Submitting":"Submit Task"})]})]})]})}function fH({task:e}){const t=String(e?.taskType??"").toUpperCase(),r=e?.studentSubmission??null;if(!r)return c.jsx("div",{className:"text-sm text-slate-500",children:"No submission yet."});if(t===at.text)return c.jsx("div",{className:"text-sm text-slate-700 whitespace-pre-wrap",children:r.text});if(t===at.link)return c.jsx("a",{className:"text-sm font-semibold text-blue-600 hover:underline",href:r.url,target:"_blank",rel:"noreferrer",children:r.url});if(t===at.file)return c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-sm text-slate-700",children:r.fileName??"File"}),r.localUrl?c.jsx("a",{className:"text-sm font-semibold text-blue-600 hover:underline",href:r.localUrl,target:"_blank",rel:"noreferrer",children:"Open file"}):null]});if(t===at.checklist){const n=new Set(r.checkedItemIds??[]),a=e?.checklistItems??[];return c.jsx("div",{className:"space-y-2",children:a.map(s=>c.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-700",children:[c.jsx("input",{type:"checkbox",checked:n.has(s.id),readOnly:!0}),c.jsx("span",{children:s.text})]},s.id))})}return c.jsx("div",{className:"text-sm text-slate-500",children:"Submission details unavailable."})}function hH(){const{currentUser:e}=_t(),{getUserById:t,listTasksGroupedByProject:r,submitTask:n}=Pt(),[a,s]=y.useState(null),l=e?.id?r?.({studentId:e.id})??[]:[],u=l.flatMap(m=>m.tasks??[]),f=l.flatMap(m=>m.tasks??[]).find(m=>m.id===a)??null,h=u.filter(m=>{const g=String(m.status??jr.pending).toUpperCase();return g===jr.pending||g===jr.revision}).length;return c.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-heading font-bold text-slate-900 dark:text-white",children:"My Tasks"}),c.jsx("p",{className:"mt-2 text-lg text-slate-500 font-medium",children:"Submit work requested by your coach, per project."})]}),c.jsxs("div",{className:"hidden md:flex gap-4",children:[c.jsxs("div",{className:"rounded-2xl bg-white px-5 py-3 shadow-sm border border-slate-100 dark:bg-slate-800 dark:border-slate-700",children:[c.jsx("div",{className:"text-xs font-bold uppercase tracking-wider text-slate-400",children:"Total"}),c.jsx("div",{className:"text-2xl font-heading font-bold text-slate-900 dark:text-white",children:u.length})]}),c.jsxs("div",{className:"rounded-2xl bg-white px-5 py-3 shadow-sm border border-slate-100 dark:bg-slate-800 dark:border-slate-700",children:[c.jsx("div",{className:"text-xs font-bold uppercase tracking-wider text-slate-400",children:"Needs action"}),c.jsx("div",{className:"text-2xl font-heading font-bold text-amber-600",children:h})]})]})]}),u.length===0?c.jsx(Ds,{icon:Aa,title:"No tasks yet",message:"When your coach creates tasks for your projects, they will appear here."}):c.jsx("div",{className:"space-y-6",children:l.map(({project:m,tasks:g})=>c.jsx(He,{title:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Bo,{className:"h-5 w-5 text-slate-500"}),c.jsx("span",{className:"font-heading font-bold text-slate-900",children:m?.title??"Project"})]}),subtitle:m?.studentId?`Student: ${t?.(m.studentId)?.name??m.studentId}`:null,children:(g??[]).length===0?c.jsx("div",{className:"text-sm text-slate-500",children:"No tasks for this project."}):c.jsx("div",{className:"space-y-4",children:(g??[]).map(v=>{const x=a7(v.status),w=Zw(v.status);return c.jsxs(QM,{task:v,primaryAction:c.jsx("button",{type:"button",className:x?"btn-primary":"btn-secondary",onClick:()=>s(v.id),title:x?"Submit your work":"View task details",children:x?"Submit":"View"}),children:[c.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-4",children:[c.jsx("div",{className:"text-xs font-bold uppercase tracking-wider text-slate-400",children:"Your submission"}),c.jsx("div",{className:"mt-2",children:c.jsx(fH,{task:v})})]}),v.coachFeedback?c.jsxs("div",{className:"rounded-xl border border-blue-200 bg-blue-50 p-4",children:[c.jsxs("div",{className:"text-xs font-bold uppercase tracking-wider text-blue-700",children:["Coach feedback (",w,")"]}),c.jsx("div",{className:"mt-2 text-sm text-blue-900 whitespace-pre-wrap",children:v.coachFeedback})]}):null]},v.id)})})},m?.id??"project"))}),c.jsx(dH,{open:!!a,task:f,onClose:()=>s(null),onSubmit:async({taskId:m,submission:g})=>{await n?.({taskId:m,submission:g})}})]})}const mA={present:{label:"Present",icon:Ai,color:"text-success-700 bg-success-50 border-success-200"},absent:{label:"Absent",icon:lM,color:"text-danger-700 bg-danger-50 border-danger-200"},late:{label:"Late",icon:Qu,color:"text-warning-700 bg-warning-50 border-warning-200"},pending:{label:"Upcoming",icon:Di,color:"text-muted-foreground bg-muted border-border"}};function mH(){const{currentUser:e}=_t(),{data:t}=Pt(),[r,n]=y.useState("all"),a=y.useMemo(()=>!e?.id||!t?[]:(t.coachingSessions??[]).filter(u=>u.attendeeStudentIds.includes(e.id)).map(u=>{const f=(t.users??[]).find(x=>x.id===u.coachId);let h="pending";if(u.status==="completed"){const x=u.attendance?.find(w=>w.studentId===e.id);x?h=x.status:h="present"}else new Date(u.startsAt)<new Date&&u.status!=="completed"&&(h="pending");const m=new Date(u.startsAt),g=new Date(u.endsAt),v=Math.round((g-m)/6e4);return{...u,coachName:f?.name??"Unknown Coach",duration:`${v} min`,attendanceStatus:h,isUpcoming:new Date(u.startsAt)>new Date}}).sort((u,f)=>new Date(u.startsAt)-new Date(f.startsAt)),[e,t]),s=y.useMemo(()=>{const l=new Date;return a.filter(u=>r==="upcoming"?new Date(u.startsAt)>=l:r==="past"?new Date(u.startsAt)<l:!0)},[a,r]);return a.length===0?c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-heading font-bold text-slate-900 dark:text-white",children:"Coaching Sessions"}),c.jsx("p",{className:"mt-1 text-slate-500 font-medium",children:"Your schedule and attendance history"})]}),c.jsx(Ds,{icon:en,title:"No Sessions Scheduled",description:"You don't have any coaching sessions scheduled yet."})]}):c.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-heading font-bold text-slate-900 dark:text-white",children:"Coaching Sessions"}),c.jsx("p",{className:"mt-2 text-slate-500 font-medium max-w-2xl",children:"Track your upcoming meetings with coaches and review your past attendance interaction records."})]}),c.jsxs("div",{className:"flex gap-4",children:[c.jsxs("div",{className:"rounded-2xl bg-white px-5 py-3 shadow-sm border border-slate-100 dark:bg-slate-800 dark:border-slate-700",children:[c.jsx("div",{className:"text-xs font-bold uppercase tracking-wider text-slate-400",children:"Upcoming"}),c.jsx("div",{className:"text-2xl font-heading font-bold text-student-primary",children:a.filter(l=>new Date(l.startsAt)>new Date).length})]}),c.jsxs("div",{className:"rounded-2xl bg-white px-5 py-3 shadow-sm border border-slate-100 dark:bg-slate-800 dark:border-slate-700",children:[c.jsx("div",{className:"text-xs font-bold uppercase tracking-wider text-slate-400",children:"Attendance"}),c.jsxs("div",{className:"text-2xl font-heading font-bold text-emerald-600",children:[Math.round(a.reduce((l,u)=>l+(u.status==="completed"?1:0),0)/Math.max(1,a.length)*100),"%"]})]})]})]}),c.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white shadow-sm overflow-hidden dark:bg-slate-800 dark:border-slate-700",children:[c.jsx("div",{className:"border-b border-slate-100 bg-slate-50/50 px-6 py-4 dark:border-slate-700 dark:bg-slate-800",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:"Filter Status:"}),c.jsx("div",{className:"flex bg-slate-200/50 p-1 rounded-xl dark:bg-slate-900/50",children:["all","upcoming","past"].map(l=>c.jsx("button",{onClick:()=>n(l),className:`px-4 py-1.5 rounded-lg text-xs font-bold uppercase tracking-wide transition-all ${r===l?"bg-white text-student-primary shadow-sm ring-1 ring-slate-200 dark:bg-slate-700 dark:ring-slate-600 dark:text-white":"text-slate-500 hover:text-slate-700 hover:bg-slate-200/50 dark:text-slate-400 dark:hover:bg-slate-800"}`,children:l},l))})]})}),c.jsx("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:s.length===0?c.jsxs("div",{className:"p-12 text-center",children:[c.jsx("div",{className:"inline-flex h-12 w-12 items-center justify-center rounded-full bg-slate-100 text-slate-400 mb-3",children:c.jsx(en,{className:"h-6 w-6"})}),c.jsx("div",{className:"text-slate-900 font-semibold",children:"No sessions found"}),c.jsx("div",{className:"text-slate-500 text-sm",children:"Try adjusting your filters"})]}):s.map(l=>{const u=mA[l.attendanceStatus]||mA.pending,f=u.icon;return c.jsx("div",{className:"group p-6 hover:bg-slate-50 transition-colors dark:hover:bg-slate-800/50",children:c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-6",children:[c.jsxs("div",{className:"flex-shrink-0 w-32 flex flex-col items-center justify-center rounded-2xl bg-blue-50/50 p-3 border border-blue-100 dark:bg-blue-900/10 dark:border-blue-800",children:[c.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-blue-600 dark:text-blue-400",children:wr(l.startsAt).split(",")[0]}),c.jsx("span",{className:"text-2xl font-heading font-bold text-slate-800 dark:text-white",children:new Date(l.startsAt).getDate()}),c.jsx("span",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:rn(l.startsAt).split(",")[1].trim()})]}),c.jsxs("div",{className:"flex-1 min-w-0 py-1",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[c.jsx("h3",{className:"text-lg font-heading font-bold text-slate-800 dark:text-white group-hover:text-student-primary transition-colors",children:l.title}),l.isUpcoming&&c.jsx("span",{className:"inline-flex items-center gap-1 rounded-full bg-blue-600 px-2.5 py-0.5 text-[10px] font-bold uppercase text-white shadow-sm",children:"Upcoming"})]}),c.jsxs("div",{className:"flex flex-wrap gap-x-6 gap-y-2 text-sm text-slate-500 dark:text-slate-400 mb-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"h-6 w-6 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600",children:c.jsx(Co,{className:"h-3.5 w-3.5"})}),c.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300",children:l.coachName})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"h-6 w-6 rounded-full bg-slate-100 flex items-center justify-center text-slate-500",children:c.jsx(Di,{className:"h-3.5 w-3.5"})}),c.jsx("span",{children:l.duration})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"h-6 w-6 rounded-full bg-slate-100 flex items-center justify-center text-slate-500",children:c.jsx(fM,{className:"h-3.5 w-3.5"})}),c.jsx("span",{children:l.location})]})]}),l.description&&c.jsx("p",{className:"text-sm text-slate-500 line-clamp-1 pl-1 border-l-2 border-slate-200 dark:border-slate-700",children:l.description})]}),c.jsx("div",{className:"flex-shrink-0 flex flex-col items-end gap-3 min-w-[140px]",children:l.status==="completed"?c.jsxs("div",{className:`flex w-full items-center justify-center gap-2 px-4 py-2 rounded-xl text-sm font-bold shadow-sm ring-1 ring-inset ${u.color} bg-opacity-10 ring-opacity-20`,children:[c.jsx(f,{className:"h-4 w-4"}),u.label]}):c.jsx("div",{children:l.isUpcoming?c.jsxs("button",{className:"flex w-full items-center justify-center gap-2 rounded-xl bg-student-primary px-4 py-2 text-sm font-bold text-white shadow-md hover:bg-blue-600 active:scale-95 transition-all",children:[c.jsx(Rd,{className:"h-4 w-4"}),"Join Room"]}):c.jsx(Rr,{value:l.status})})})]})},l.id)})})]})]})}const pH=[{id:"badge_first_step",name:"First Step",description:"Completed your first task",icon_key:"flag",category:"milestone",rarity:"common",criteria_type:"tasks_completed",criteria_value:1},{id:"badge_on_fire",name:"On Fire",description:"Reached a 3-day split streak",icon_key:"fire",category:"streak",rarity:"rare",criteria_type:"daily_streak",criteria_value:3},{id:"badge_qa_master",name:"Quality Master",description:"Achieved high quality scores on 5 tasks",icon_key:"star",category:"skill",rarity:"epic",criteria_type:"high_quality_tasks",criteria_value:5}];function gH(e,t=[]){if(!e)return[];const r=[],n=new Set(t);return pH.forEach(a=>{if(n.has(a.id))return;let s=!1;switch(a.criteria_type){case"tasks_completed":(e.tasksCompleted||0)>=a.criteria_value&&(s=!0);break;case"daily_streak":(e.currentStreak||0)>=a.criteria_value&&(s=!0);break;case"high_quality_tasks":(e.highQualityCount||0)>=a.criteria_value&&(s=!0);break}s&&r.push(a)}),r}function vH(e){switch(e){case"fire":return z9;case"trophy":return bM;case"star":return vM;case"users":return aa;default:return nb}}function yH({userStats:e,earnedBadges:t=[]}){const r=e?.currentStreak||0;return c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[c.jsxs(He,{className:"bg-gradient-to-br from-orange-500 to-red-600 text-white border-none overflow-hidden relative",children:[c.jsx("div",{className:"absolute right-[-20px] top-[-20px] opacity-20",children:c.jsx(I2,{size:120})}),c.jsxs("div",{className:"p-6 relative z-10",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2 opacity-90",children:[c.jsx(I2,{size:20}),c.jsx("span",{className:"font-semibold uppercase tracking-wider text-xs",children:"Daily Streak"})]}),c.jsx("div",{className:"text-5xl font-bold mb-1",children:r}),c.jsx("div",{className:"text-sm opacity-80",children:"Days on fire! Keep it up."})]})]}),c.jsxs(He,{className:"md:col-span-2 p-6 flex flex-col justify-center",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("h3",{className:"font-bold text-lg text-slate-800 dark:text-white flex items-center gap-2",children:[c.jsx(bM,{className:"text-yellow-500",size:20}),"Achievements"]}),c.jsxs("span",{className:"text-xs font-medium bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded-full text-slate-600 dark:text-slate-300",children:[t.length," Earned"]})]}),c.jsxs("div",{className:"flex gap-3 overflow-x-auto pb-2 scrollbar-hide",children:[t.length===0?c.jsx("div",{className:"text-sm text-slate-500 italic py-2",children:"Complete tasks to earn your first badge!"}):t.map((n,a)=>{const s=vH(n.icon_key);return c.jsxs("div",{className:"flex-shrink-0 flex flex-col items-center gap-1 w-20 group",children:[c.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-100 dark:bg-slate-700 flex items-center justify-center text-slate-400 group-hover:bg-yellow-100 group-hover:text-yellow-600 transition-colors",children:c.jsx(s,{size:24})}),c.jsx("span",{className:"text-[10px] text-center font-medium text-slate-600 dark:text-slate-300 line-clamp-1",children:n.name})]},a)}),c.jsxs("div",{className:"flex-shrink-0 flex flex-col items-center gap-1 w-20 opacity-50",children:[c.jsx("div",{className:"w-12 h-12 rounded-full border-2 border-dashed border-slate-300 dark:border-slate-600 flex items-center justify-center text-slate-300",children:c.jsx(xH,{size:20})}),c.jsx("span",{className:"text-[10px] text-center text-slate-400",children:"Locked"})]})]})]})]})}function xH({size:e}){return c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[c.jsx("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),c.jsx("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]})}var bH=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function aj(e){if(typeof e!="string")return!1;var t=bH;return t.includes(e)}var wH=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],jH=new Set(wH);function JM(e){return typeof e!="string"?!1:jH.has(e)}function eR(e){return typeof e=="string"&&e.startsWith("data-")}function ir(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(JM(r)||eR(r))&&(t[r]=e[r]);return t}function gc(e){if(e==null)return null;if(y.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return ir(t)}return typeof e=="object"&&!Array.isArray(e)?ir(e):null}function fr(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(JM(r)||eR(r)||aj(r))&&(t[r]=e[r]);return t}function SH(e){return e==null?null:y.isValidElement(e)?fr(e.props):typeof e=="object"&&!Array.isArray(e)?fr(e):null}var NH=["children","width","height","viewBox","className","style","title","desc"];function xb(){return xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xb.apply(null,arguments)}function _H(e,t){if(e==null)return{};var r,n,a=kH(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function kH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var tR=y.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:s,className:l,style:u,title:f,desc:h}=e,m=_H(e,NH),g=s||{width:n,height:a,x:0,y:0},v=it("recharts-surface",l);return y.createElement("svg",xb({},fr(m),{className:v,width:n,height:a,style:u,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:t}),y.createElement("title",null,f),y.createElement("desc",null,h),r)}),AH=["children","className"];function bb(){return bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bb.apply(null,arguments)}function EH(e,t){if(e==null)return{};var r,n,a=TH(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function TH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var nn=y.forwardRef((e,t)=>{var{children:r,className:n}=e,a=EH(e,AH),s=it("recharts-layer",n);return y.createElement("g",bb({className:s},fr(a),{ref:t}),r)}),OH=y.createContext(null);function Ct(e){return function(){return e}}const rR=Math.cos,xm=Math.sin,Ma=Math.sqrt,bm=Math.PI,Ep=2*bm,wb=Math.PI,jb=2*wb,ho=1e-6,CH=jb-ho;function nR(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function PH(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return nR;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class DH{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?nR:PH(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,l){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+l}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,u=this._y1,f=n-t,h=a-r,m=l-t,g=u-r,v=m*m+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(v>ho)if(!(Math.abs(g*f-h*m)>ho)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let x=n-l,w=a-u,S=f*f+h*h,N=x*x+w*w,_=Math.sqrt(S),A=Math.sqrt(v),k=s*Math.tan((wb-Math.acos((S+v-N)/(2*_*A)))/2),O=k/A,M=k/_;Math.abs(O-1)>ho&&this._append`L${t+O*m},${r+O*g}`,this._append`A${s},${s},0,0,${+(g*x>m*w)},${this._x1=t+M*f},${this._y1=r+M*h}`}}arc(t,r,n,a,s,l){if(t=+t,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(a),f=n*Math.sin(a),h=t+u,m=r+f,g=1^l,v=l?a-s:s-a;this._x1===null?this._append`M${h},${m}`:(Math.abs(this._x1-h)>ho||Math.abs(this._y1-m)>ho)&&this._append`L${h},${m}`,n&&(v<0&&(v=v%jb+jb),v>CH?this._append`A${n},${n},0,1,${g},${t-u},${r-f}A${n},${n},0,1,${g},${this._x1=h},${this._y1=m}`:v>ho&&this._append`A${n},${n},0,${+(v>=wb)},${g},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function ij(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new DH(t)}function sj(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function aR(e){this._context=e}aR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Tp(e){return new aR(e)}function iR(e){return e[0]}function sR(e){return e[1]}function oR(e,t){var r=Ct(!0),n=null,a=Tp,s=null,l=ij(u);e=typeof e=="function"?e:e===void 0?iR:Ct(e),t=typeof t=="function"?t:t===void 0?sR:Ct(t);function u(f){var h,m=(f=sj(f)).length,g,v=!1,x;for(n==null&&(s=a(x=l())),h=0;h<=m;++h)!(h<m&&r(g=f[h],h,f))===v&&((v=!v)?s.lineStart():s.lineEnd()),v&&s.point(+e(g,h,f),+t(g,h,f));if(x)return s=null,x+""||null}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ct(+f),u):e},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ct(+f),u):t},u.defined=function(f){return arguments.length?(r=typeof f=="function"?f:Ct(!!f),u):r},u.curve=function(f){return arguments.length?(a=f,n!=null&&(s=a(n)),u):a},u.context=function(f){return arguments.length?(f==null?n=s=null:s=a(n=f),u):n},u}function Oh(e,t,r){var n=null,a=Ct(!0),s=null,l=Tp,u=null,f=ij(h);e=typeof e=="function"?e:e===void 0?iR:Ct(+e),t=typeof t=="function"?t:Ct(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?sR:Ct(+r);function h(g){var v,x,w,S=(g=sj(g)).length,N,_=!1,A,k=new Array(S),O=new Array(S);for(s==null&&(u=l(A=f())),v=0;v<=S;++v){if(!(v<S&&a(N=g[v],v,g))===_)if(_=!_)x=v,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),w=v-1;w>=x;--w)u.point(k[w],O[w]);u.lineEnd(),u.areaEnd()}_&&(k[v]=+e(N,v,g),O[v]=+t(N,v,g),u.point(n?+n(N,v,g):k[v],r?+r(N,v,g):O[v]))}if(A)return u=null,A+""||null}function m(){return oR().defined(a).curve(l).context(s)}return h.x=function(g){return arguments.length?(e=typeof g=="function"?g:Ct(+g),n=null,h):e},h.x0=function(g){return arguments.length?(e=typeof g=="function"?g:Ct(+g),h):e},h.x1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:Ct(+g),h):n},h.y=function(g){return arguments.length?(t=typeof g=="function"?g:Ct(+g),r=null,h):t},h.y0=function(g){return arguments.length?(t=typeof g=="function"?g:Ct(+g),h):t},h.y1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:Ct(+g),h):r},h.lineX0=h.lineY0=function(){return m().x(e).y(t)},h.lineY1=function(){return m().x(e).y(r)},h.lineX1=function(){return m().x(n).y(t)},h.defined=function(g){return arguments.length?(a=typeof g=="function"?g:Ct(!!g),h):a},h.curve=function(g){return arguments.length?(l=g,s!=null&&(u=l(s)),h):l},h.context=function(g){return arguments.length?(g==null?s=u=null:u=l(s=g),h):s},h}class lR{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function MH(e){return new lR(e,!0)}function RH(e){return new lR(e,!1)}const oj={draw(e,t){const r=Ma(t/bm);e.moveTo(r,0),e.arc(0,0,r,0,Ep)}},IH={draw(e,t){const r=Ma(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},cR=Ma(1/3),LH=cR*2,$H={draw(e,t){const r=Ma(t/LH),n=r*cR;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},UH={draw(e,t){const r=Ma(t),n=-r/2;e.rect(n,n,r,r)}},BH=.8908130915292852,uR=xm(bm/10)/xm(7*bm/10),zH=xm(Ep/10)*uR,qH=-rR(Ep/10)*uR,VH={draw(e,t){const r=Ma(t*BH),n=zH*r,a=qH*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const l=Ep*s/5,u=rR(l),f=xm(l);e.lineTo(f*r,-u*r),e.lineTo(u*n-f*a,f*n+u*a)}e.closePath()}},ty=Ma(3),HH={draw(e,t){const r=-Ma(t/(ty*3));e.moveTo(0,r*2),e.lineTo(-ty*r,-r),e.lineTo(ty*r,-r),e.closePath()}},Xn=-.5,Zn=Ma(3)/2,Sb=1/Ma(12),FH=(Sb/2+1)*3,KH={draw(e,t){const r=Ma(t/FH),n=r/2,a=r*Sb,s=n,l=r*Sb+r,u=-s,f=l;e.moveTo(n,a),e.lineTo(s,l),e.lineTo(u,f),e.lineTo(Xn*n-Zn*a,Zn*n+Xn*a),e.lineTo(Xn*s-Zn*l,Zn*s+Xn*l),e.lineTo(Xn*u-Zn*f,Zn*u+Xn*f),e.lineTo(Xn*n+Zn*a,Xn*a-Zn*n),e.lineTo(Xn*s+Zn*l,Xn*l-Zn*s),e.lineTo(Xn*u+Zn*f,Xn*f-Zn*u),e.closePath()}};function GH(e,t){let r=null,n=ij(a);e=typeof e=="function"?e:Ct(e||oj),t=typeof t=="function"?t:Ct(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:Ct(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:Ct(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function wm(){}function jm(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function dR(e){this._context=e}dR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:jm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:jm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function WH(e){return new dR(e)}function fR(e){this._context=e}fR.prototype={areaStart:wm,areaEnd:wm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:jm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function YH(e){return new fR(e)}function hR(e){this._context=e}hR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:jm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function XH(e){return new hR(e)}function mR(e){this._context=e}mR.prototype={areaStart:wm,areaEnd:wm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function ZH(e){return new mR(e)}function pA(e){return e<0?-1:1}function gA(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),l=(r-e._y1)/(a||n<0&&-0),u=(s*a+l*n)/(n+a);return(pA(s)+pA(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(u))||0}function vA(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function ry(e,t,r){var n=e._x0,a=e._y0,s=e._x1,l=e._y1,u=(s-n)/3;e._context.bezierCurveTo(n+u,a+u*t,s-u,l-u*r,s,l)}function Sm(e){this._context=e}Sm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ry(this,this._t0,vA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ry(this,vA(this,r=gA(this,e,t)),r);break;default:ry(this,this._t0,r=gA(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function pR(e){this._context=new gR(e)}(pR.prototype=Object.create(Sm.prototype)).point=function(e,t){Sm.prototype.point.call(this,t,e)};function gR(e){this._context=e}gR.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function QH(e){return new Sm(e)}function JH(e){return new pR(e)}function vR(e){this._context=e}vR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=yA(e),a=yA(t),s=0,l=1;l<r;++s,++l)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function yA(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),l=new Array(r);for(a[0]=0,s[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,l[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,l[t]-=n*l[t-1];for(a[r-1]=l[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(l[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function eF(e){return new vR(e)}function Op(e,t){this._context=e,this._t=t}Op.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function tF(e){return new Op(e,.5)}function rF(e){return new Op(e,0)}function nF(e){return new Op(e,1)}function Po(e,t){if((l=e.length)>1)for(var r=1,n,a,s=e[t[0]],l,u=s.length;r<l;++r)for(a=s,s=e[t[r]],n=0;n<u;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Nb(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function aF(e,t){return e[t]}function iF(e){const t=[];return t.key=e,t}function sF(){var e=Ct([]),t=Nb,r=Po,n=aF;function a(s){var l=Array.from(e.apply(this,arguments),iF),u,f=l.length,h=-1,m;for(const g of s)for(u=0,++h;u<f;++u)(l[u][h]=[0,+n(g,l[u].key,h,s)]).data=g;for(u=0,m=sj(t(l));u<f;++u)l[m[u]].index=u;return r(l,m),l}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Ct(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:Ct(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?Nb:typeof s=="function"?s:Ct(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??Po,a):r},a}function oF(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,l;a<s;++a){for(l=r=0;r<n;++r)l+=e[r][a][1]||0;if(l)for(r=0;r<n;++r)e[r][a][1]/=l}Po(e,t)}}function lF(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var l=0,u=0;l<a;++l)u+=e[l][r][1]||0;n[r][1]+=n[r][0]=-u/2}Po(e,t)}}function cF(e,t){if(!(!((l=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,l;n<s;++n){for(var u=0,f=0,h=0;u<l;++u){for(var m=e[t[u]],g=m[n][1]||0,v=m[n-1][1]||0,x=(g-v)/2,w=0;w<u;++w){var S=e[t[w]],N=S[n][1]||0,_=S[n-1][1]||0;x+=N-_}f+=g,h+=x*g}a[n-1][1]+=a[n-1][0]=r,f&&(r-=h/f)}a[n-1][1]+=a[n-1][0]=r,Po(e,t)}}var ny={},ay={},xA;function uF(){return xA||(xA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(ay)),ay}var iy={},bA;function yR(){return bA||(bA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(iy)),iy}var sy={},wA;function lj(){return wA||(wA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(sy)),sy}var oy={},ly={},jA;function dF(){return jA||(jA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(ly)),ly}var SA;function cj(){return SA||(SA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dF(),r=lj();function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const s=[],l=a.length;if(l===0)return s;let u=0,f="",h="",m=!1;for(a.charCodeAt(0)===46&&(s.push(""),u++);u<l;){const g=a[u];h?g==="\\"&&u+1<l?(u++,f+=a[u]):g===h?h="":f+=g:m?g==='"'||g==="'"?h=g:g==="]"?(m=!1,s.push(f),f=""):f+=g:g==="["?(m=!0,f&&(s.push(f),f="")):g==="."?f&&(s.push(f),f=""):f+=g,u++}return f&&s.push(f),s}e.toPath=n})(oy)),oy}var NA;function uj(){return NA||(NA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uF(),r=yR(),n=lj(),a=cj();function s(u,f,h){if(u==null)return h;switch(typeof f){case"string":{if(t.isUnsafeProperty(f))return h;const m=u[f];return m===void 0?r.isDeepKey(f)?s(u,a.toPath(f),h):h:m}case"number":case"symbol":{typeof f=="number"&&(f=n.toKey(f));const m=u[f];return m===void 0?h:m}default:{if(Array.isArray(f))return l(u,f,h);if(Object.is(f?.valueOf(),-0)?f="-0":f=String(f),t.isUnsafeProperty(f))return h;const m=u[f];return m===void 0?h:m}}}function l(u,f,h){if(f.length===0)return h;let m=u;for(let g=0;g<f.length;g++){if(m==null||t.isUnsafeProperty(f[g]))return h;m=m[f[g]]}return m===void 0?h:m}e.get=s})(ny)),ny}var cy,_A;function fF(){return _A||(_A=1,cy=uj().get),cy}var hF=fF();const Cp=Ca(hF);var mF=4;function Ts(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:mF,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function Ft(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((a,s,l)=>{var u=r[l-1];return typeof u=="string"?a+u+s:u!==void 0?a+Ts(u)+s:a+s},"")}var ta=e=>e===0?0:e>0?1:-1,Mi=e=>typeof e=="number"&&e!=+e,Do=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,$e=e=>(typeof e=="number"||e instanceof Number)&&!Mi(e),Ya=e=>$e(e)||typeof e=="string",pF=0,ld=e=>{var t=++pF;return"".concat(e||"").concat(t)},Ms=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!$e(t)&&typeof t!="string")return n;var s;if(Do(t)){if(r==null)return n;var l=t.indexOf("%");s=r*parseFloat(t.slice(0,l))/100}else s=+t;return Mi(s)&&(s=n),a&&r!=null&&s>r&&(s=r),s},xR=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function Mr(e,t,r){return $e(e)&&$e(t)?Ts(e+r*(t-e)):t}function bR(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Cp(n,t))===r)}var Nr=e=>e===null||typeof e>"u",$d=e=>Nr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function yn(e){return e!=null}function Hi(){}var gF=["type","size","sizeType"];function _b(){return _b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_b.apply(null,arguments)}function kA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function AA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kA(Object(r),!0).forEach(function(n){vF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vF(e,t,r){return(t=yF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yF(e){var t=xF(e,"string");return typeof t=="symbol"?t:t+""}function xF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bF(e,t){if(e==null)return{};var r,n,a=wF(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function wF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var wR={symbolCircle:oj,symbolCross:IH,symbolDiamond:$H,symbolSquare:UH,symbolStar:VH,symbolTriangle:HH,symbolWye:KH},jF=Math.PI/180,SF=e=>{var t="symbol".concat($d(e));return wR[t]||oj},NF=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*jF;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},_F=(e,t)=>{wR["symbol".concat($d(e))]=t},jR=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=bF(e,gF),s=AA(AA({},a),{},{type:t,size:r,sizeType:n}),l="circle";typeof t=="string"&&(l=t);var u=()=>{var v=SF(l),x=GH().type(v).size(NF(r,n,l)),w=x();if(w!==null)return w},{className:f,cx:h,cy:m}=s,g=fr(s);return $e(h)&&$e(m)&&$e(r)?y.createElement("path",_b({},g,{className:it("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:u()})):null};jR.registerSymbol=_F;var SR=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,dj=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(y.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{aj(a)&&(n[a]=(s=>r[a](r,s)))}),n},kF=(e,t,r)=>n=>(e(t,r,n),null),fj=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var s=e[a];aj(a)&&typeof s=="function"&&(n||(n={}),n[a]=kF(s,t,r))}),n};function EA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function AF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EA(Object(r),!0).forEach(function(n){EF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EF(e,t,r){return(t=TF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TF(e){var t=OF(e,"string");return typeof t=="symbol"?t:t+""}function OF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mr(e,t){var r=AF({},e),n=t,a=Object.keys(t),s=a.reduce((l,u)=>(l[u]===void 0&&n[u]!==void 0&&(l[u]=n[u]),l),r);return s}var uy={},dy={},TA;function CF(){return TA||(TA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let s=0;s<r.length;s++){const l=r[s],u=n(l,s,r);a.has(u)||a.set(u,l)}return Array.from(a.values())}e.uniqBy=t})(dy)),dy}var fy={},OA;function PF(){return OA||(OA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return function(...a){return r.apply(this,a.slice(0,n))}}e.ary=t})(fy)),fy}var hy={},CA;function Pp(){return CA||(CA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(hy)),hy}var my={},py={},gy={},PA;function DF(){return PA||(PA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(gy)),gy}var DA;function hj(){return DA||(DA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DF();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(py)),py}var vy={},MA;function MF(){return MA||(MA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(vy)),vy}var RA;function RF(){return RA||(RA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hj(),r=MF();function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(my)),my}var yy={},xy={},IA;function IF(){return IA||(IA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uj();function r(n){return function(a){return t.get(a,n)}}e.property=r})(xy)),xy}var by={},wy={},jy={},Sy={},LA;function NR(){return LA||(LA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Sy)),Sy}var Ny={},$A;function _R(){return $A||($A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Ny)),Ny}var _y={},UA;function kR(){return UA||(UA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.isEqualsSameValueZero=t})(_y)),_y}var BA;function LF(){return BA||(BA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NR(),r=_R(),n=kR();function a(m,g,v){return typeof v!="function"?a(m,g,()=>{}):s(m,g,function x(w,S,N,_,A,k){const O=v(w,S,N,_,A,k);return O!==void 0?!!O:s(w,S,x,k)},new Map)}function s(m,g,v,x){if(g===m)return!0;switch(typeof g){case"object":return l(m,g,v,x);case"function":return Object.keys(g).length>0?s(m,{...g},v,x):n.isEqualsSameValueZero(m,g);default:return t.isObject(m)?typeof g=="string"?g==="":!0:n.isEqualsSameValueZero(m,g)}}function l(m,g,v,x){if(g==null)return!0;if(Array.isArray(g))return f(m,g,v,x);if(g instanceof Map)return u(m,g,v,x);if(g instanceof Set)return h(m,g,v,x);const w=Object.keys(g);if(m==null||r.isPrimitive(m))return w.length===0;if(w.length===0)return!0;if(x?.has(g))return x.get(g)===m;x?.set(g,m);try{for(let S=0;S<w.length;S++){const N=w[S];if(!r.isPrimitive(m)&&!(N in m)||g[N]===void 0&&m[N]!==void 0||g[N]===null&&m[N]!==null||!v(m[N],g[N],N,m,g,x))return!1}return!0}finally{x?.delete(g)}}function u(m,g,v,x){if(g.size===0)return!0;if(!(m instanceof Map))return!1;for(const[w,S]of g.entries()){const N=m.get(w);if(v(N,S,w,m,g,x)===!1)return!1}return!0}function f(m,g,v,x){if(g.length===0)return!0;if(!Array.isArray(m))return!1;const w=new Set;for(let S=0;S<g.length;S++){const N=g[S];let _=!1;for(let A=0;A<m.length;A++){if(w.has(A))continue;const k=m[A];let O=!1;if(v(k,N,S,m,g,x)&&(O=!0),O){w.add(A),_=!0;break}}if(!_)return!1}return!0}function h(m,g,v,x){return g.size===0?!0:m instanceof Set?f([...m],[...g],v,x):!1}e.isMatchWith=a,e.isSetMatch=h})(jy)),jy}var zA;function AR(){return zA||(zA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LF();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(wy)),wy}var ky={},Ay={},Ey={},qA;function $F(){return qA||(qA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(Ey)),Ey}var Ty={},VA;function mj(){return VA||(VA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Ty)),Ty}var Oy={},HA;function ER(){return HA||(HA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",s="[object Arguments]",l="[object Symbol]",u="[object Date]",f="[object Map]",h="[object Set]",m="[object Array]",g="[object Function]",v="[object ArrayBuffer]",x="[object Object]",w="[object Error]",S="[object DataView]",N="[object Uint8Array]",_="[object Uint8ClampedArray]",A="[object Uint16Array]",k="[object Uint32Array]",O="[object BigUint64Array]",M="[object Int8Array]",C="[object Int16Array]",D="[object Int32Array]",L="[object BigInt64Array]",V="[object Float32Array]",te="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=v,e.arrayTag=m,e.bigInt64ArrayTag=L,e.bigUint64ArrayTag=O,e.booleanTag=a,e.dataViewTag=S,e.dateTag=u,e.errorTag=w,e.float32ArrayTag=V,e.float64ArrayTag=te,e.functionTag=g,e.int16ArrayTag=C,e.int32ArrayTag=D,e.int8ArrayTag=M,e.mapTag=f,e.numberTag=n,e.objectTag=x,e.regexpTag=t,e.setTag=h,e.stringTag=r,e.symbolTag=l,e.uint16ArrayTag=A,e.uint32ArrayTag=k,e.uint8ArrayTag=N,e.uint8ClampedArrayTag=_})(Oy)),Oy}var Cy={},FA;function UF(){return FA||(FA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(Cy)),Cy}var KA;function TR(){return KA||(KA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$F(),r=mj(),n=ER(),a=_R(),s=UF();function l(m,g){return u(m,void 0,m,new Map,g)}function u(m,g,v,x=new Map,w=void 0){const S=w?.(m,g,v,x);if(S!==void 0)return S;if(a.isPrimitive(m))return m;if(x.has(m))return x.get(m);if(Array.isArray(m)){const N=new Array(m.length);x.set(m,N);for(let _=0;_<m.length;_++)N[_]=u(m[_],_,v,x,w);return Object.hasOwn(m,"index")&&(N.index=m.index),Object.hasOwn(m,"input")&&(N.input=m.input),N}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const N=new RegExp(m.source,m.flags);return N.lastIndex=m.lastIndex,N}if(m instanceof Map){const N=new Map;x.set(m,N);for(const[_,A]of m)N.set(_,u(A,_,v,x,w));return N}if(m instanceof Set){const N=new Set;x.set(m,N);for(const _ of m)N.add(u(_,void 0,v,x,w));return N}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(s.isTypedArray(m)){const N=new(Object.getPrototypeOf(m)).constructor(m.length);x.set(m,N);for(let _=0;_<m.length;_++)N[_]=u(m[_],_,v,x,w);return N}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const N=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return x.set(m,N),f(N,m,v,x,w),N}if(typeof File<"u"&&m instanceof File){const N=new File([m],m.name,{type:m.type});return x.set(m,N),f(N,m,v,x,w),N}if(typeof Blob<"u"&&m instanceof Blob){const N=new Blob([m],{type:m.type});return x.set(m,N),f(N,m,v,x,w),N}if(m instanceof Error){const N=new m.constructor;return x.set(m,N),N.message=m.message,N.name=m.name,N.stack=m.stack,N.cause=m.cause,f(N,m,v,x,w),N}if(m instanceof Boolean){const N=new Boolean(m.valueOf());return x.set(m,N),f(N,m,v,x,w),N}if(m instanceof Number){const N=new Number(m.valueOf());return x.set(m,N),f(N,m,v,x,w),N}if(m instanceof String){const N=new String(m.valueOf());return x.set(m,N),f(N,m,v,x,w),N}if(typeof m=="object"&&h(m)){const N=Object.create(Object.getPrototypeOf(m));return x.set(m,N),f(N,m,v,x,w),N}return m}function f(m,g,v=m,x,w){const S=[...Object.keys(g),...t.getSymbols(g)];for(let N=0;N<S.length;N++){const _=S[N],A=Object.getOwnPropertyDescriptor(m,_);(A==null||A.writable)&&(m[_]=u(g[_],_,v,x,w))}}function h(m){switch(r.getTag(m)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=u,e.copyProperties=f})(Ay)),Ay}var GA;function BF(){return GA||(GA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TR();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(ky)),ky}var WA;function zF(){return WA||(WA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AR(),r=BF();function n(a){return a=r.cloneDeep(a),s=>t.isMatch(s,a)}e.matches=n})(by)),by}var Py={},Dy={},My={},YA;function qF(){return YA||(YA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TR(),r=mj(),n=ER();function a(s,l){return t.cloneDeepWith(s,(u,f,h,m)=>{const g=l?.(u,f,h,m);if(g!==void 0)return g;if(typeof s=="object"){if(r.getTag(s)===n.objectTag&&typeof s.constructor!="function"){const v={};return m.set(s,v),t.copyProperties(v,s,h,m),v}switch(Object.prototype.toString.call(s)){case n.numberTag:case n.stringTag:case n.booleanTag:{const v=new s.constructor(s?.valueOf());return t.copyProperties(v,s),v}case n.argumentsTag:{const v={};return t.copyProperties(v,s),v.length=s.length,v[Symbol.iterator]=s[Symbol.iterator],v}default:return}}})}e.cloneDeepWith=a})(My)),My}var XA;function VF(){return XA||(XA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qF();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(Dy)),Dy}var Ry={},Iy={},ZA;function OR(){return ZA||(ZA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Iy)),Iy}var Ly={},QA;function HF(){return QA||(QA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mj();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(Ly)),Ly}var JA;function FF(){return JA||(JA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yR(),r=OR(),n=HF(),a=cj();function s(l,u){let f;if(Array.isArray(u)?f=u:typeof u=="string"&&t.isDeepKey(u)&&l?.[u]==null?f=a.toPath(u):f=[u],f.length===0)return!1;let h=l;for(let m=0;m<f.length;m++){const g=f[m];if((h==null||!Object.hasOwn(h,g))&&!((Array.isArray(h)||n.isArguments(h))&&r.isIndex(g)&&g<h.length))return!1;h=h[g]}return!0}e.has=s})(Ry)),Ry}var eE;function KF(){return eE||(eE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AR(),r=lj(),n=VF(),a=uj(),s=FF();function l(u,f){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=r.toKey(u);break}}return f=n.cloneDeep(f),function(h){const m=a.get(h,u);return m===void 0?s.has(h,u):f===void 0?m===void 0:t.isMatch(m,f)}}e.matchesProperty=l})(Py)),Py}var tE;function pj(){return tE||(tE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Pp(),r=IF(),n=zF(),a=KF();function s(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?a.matchesProperty(l[0],l[1]):n.matches(l);case"string":case"symbol":case"number":return r.property(l)}}e.iteratee=s})(yy)),yy}var rE;function GF(){return rE||(rE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CF(),r=PF(),n=Pp(),a=RF(),s=pj();function l(u,f=n.identity){return a.isArrayLikeObject(u)?t.uniqBy(Array.from(u),r.ary(s.iteratee(f),1)):[]}e.uniqBy=l})(uy)),uy}var $y,nE;function WF(){return nE||(nE=1,$y=GF().uniqBy),$y}var YF=WF();const aE=Ca(YF);function XF(e,t,r){return t===!0?aE(e,r):typeof t=="function"?aE(e,t):e}var Uy={exports:{}},By={},zy={exports:{}},qy={};var iE;function ZF(){if(iE)return qy;iE=1;var e=fc();function t(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,s=e.useLayoutEffect,l=e.useDebugValue;function u(g,v){var x=v(),w=n({inst:{value:x,getSnapshot:v}}),S=w[0].inst,N=w[1];return s(function(){S.value=x,S.getSnapshot=v,f(S)&&N({inst:S})},[g,x,v]),a(function(){return f(S)&&N({inst:S}),g(function(){f(S)&&N({inst:S})})},[g]),l(x),x}function f(g){var v=g.getSnapshot;g=g.value;try{var x=v();return!r(g,x)}catch{return!0}}function h(g,v){return v()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:u;return qy.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:m,qy}var sE;function QF(){return sE||(sE=1,zy.exports=ZF()),zy.exports}var oE;function JF(){if(oE)return By;oE=1;var e=fc(),t=QF();function r(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var n=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,s=e.useRef,l=e.useEffect,u=e.useMemo,f=e.useDebugValue;return By.useSyncExternalStoreWithSelector=function(h,m,g,v,x){var w=s(null);if(w.current===null){var S={hasValue:!1,value:null};w.current=S}else S=w.current;w=u(function(){function _(C){if(!A){if(A=!0,k=C,C=v(C),x!==void 0&&S.hasValue){var D=S.value;if(x(D,C))return O=D}return O=C}if(D=O,n(k,C))return D;var L=v(C);return x!==void 0&&x(D,L)?(k=C,D):(k=C,O=L)}var A=!1,k,O,M=g===void 0?null:g;return[function(){return _(m())},M===null?void 0:function(){return _(M())}]},[m,g,v,x]);var N=a(h,w[0],w[1]);return l(function(){S.hasValue=!0,S.value=N},[N]),f(N),N},By}var lE;function eK(){return lE||(lE=1,Uy.exports=JF()),Uy.exports}var tK=eK(),gj=y.createContext(null),rK=e=>e,Gt=()=>{var e=y.useContext(gj);return e?e.store.dispatch:rK},em=()=>{},nK=()=>em,aK=(e,t)=>e===t;function De(e){var t=y.useContext(gj),r=y.useMemo(()=>t?n=>{if(n!=null)return e(n)}:em,[t,e]);return tK.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:nK,t?t.store.getState:em,t?t.store.getState:em,r,aK)}function iK(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function sK(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function oK(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var cE=e=>Array.isArray(e)?e:[e];function lK(e){const t=Array.isArray(e[0])?e[0]:e;return oK(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function cK(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var uK=class{constructor(e){this.value=e}deref(){return this.value}},dK=typeof WeakRef<"u"?WeakRef:uK,fK=0,uE=1;function Ch(){return{s:fK,v:void 0,o:null,p:null}}function CR(e,t={}){let r=Ch();const{resultEqualityCheck:n}=t;let a,s=0;function l(){let u=r;const{length:f}=arguments;for(let g=0,v=f;g<v;g++){const x=arguments[g];if(typeof x=="function"||typeof x=="object"&&x!==null){let w=u.o;w===null&&(u.o=w=new WeakMap);const S=w.get(x);S===void 0?(u=Ch(),w.set(x,u)):u=S}else{let w=u.p;w===null&&(u.p=w=new Map);const S=w.get(x);S===void 0?(u=Ch(),w.set(x,u)):u=S}}const h=u;let m;if(u.s===uE)m=u.v;else if(m=e.apply(null,arguments),s++,n){const g=a?.deref?.()??a;g!=null&&n(g,m)&&(m=g,s!==0&&s--),a=typeof m=="object"&&m!==null||typeof m=="function"?new dK(m):m}return h.s=uE,h.v=m,m}return l.clearCache=()=>{r=Ch(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function hK(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let s=0,l=0,u,f={},h=a.pop();typeof h=="object"&&(f=h,h=a.pop()),iK(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const m={...r,...f},{memoize:g,memoizeOptions:v=[],argsMemoize:x=CR,argsMemoizeOptions:w=[]}=m,S=cE(v),N=cE(w),_=lK(a),A=g(function(){return s++,h.apply(null,arguments)},...S),k=x(function(){l++;const M=cK(_,arguments);return u=A.apply(null,M),u},...N);return Object.assign(k,{resultFunc:h,memoizedResultFunc:A,dependencies:_,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:g,argsMemoize:x})};return Object.assign(n,{withTypes:()=>n}),n}var J=hK(CR),mK=Object.assign((e,t=J)=>{sK(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((l,u,f)=>(l[r[f]]=u,l),{}))},{withTypes:()=>mK}),Vy={},Hy={},Fy={},dE;function pK(){return dE||(dE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,s)=>{if(n!==a){const l=t(n),u=t(a);if(l===u&&l===0){if(n<a)return s==="desc"?1:-1;if(n>a)return s==="desc"?-1:1}return s==="desc"?u-l:l-u}return 0};e.compareValues=r})(Fy)),Fy}var Ky={},Gy={},fE;function PR(){return fE||(fE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Gy)),Gy}var hE;function gK(){return hE||(hE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PR(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||l!=null&&Object.hasOwn(l,s)}e.isKey=a})(Ky)),Ky}var mE;function vK(){return mE||(mE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pK(),r=gK(),n=cj();function a(s,l,u,f){if(s==null)return[];u=f?void 0:u,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(x=>String(x));const h=(x,w)=>{let S=x;for(let N=0;N<w.length&&S!=null;++N)S=S[w[N]];return S},m=(x,w)=>w==null||x==null?w:typeof x=="object"&&"key"in x?Object.hasOwn(w,x.key)?w[x.key]:h(w,x.path):typeof x=="function"?x(w):Array.isArray(x)?h(w,x):typeof w=="object"?w[x]:w,g=l.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||r.isKey(x)?x:{key:x,path:n.toPath(x)}));return s.map(x=>({original:x,criteria:g.map(w=>m(w,x))})).slice().sort((x,w)=>{for(let S=0;S<g.length;S++){const N=t.compareValues(x.criteria[S],w.criteria[S],u[S]);if(N!==0)return N}return 0}).map(x=>x.original)}e.orderBy=a})(Hy)),Hy}var Wy={},pE;function yK(){return pE||(pE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],s=Math.floor(n),l=(u,f)=>{for(let h=0;h<u.length;h++){const m=u[h];Array.isArray(m)&&f<s?l(m,f+1):a.push(m)}};return l(r,0),a}e.flatten=t})(Wy)),Wy}var Yy={},gE;function DR(){return gE||(gE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OR(),r=hj(),n=NR(),a=kR();function s(l,u,f){return n.isObject(f)&&(typeof u=="number"&&r.isArrayLike(f)&&t.isIndex(u)&&u<f.length||typeof u=="string"&&u in f)?a.isEqualsSameValueZero(f[u],l):!1}e.isIterateeCall=s})(Yy)),Yy}var vE;function xK(){return vE||(vE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vK(),r=yK(),n=DR();function a(s,...l){const u=l.length;return u>1&&n.isIterateeCall(s,l[0],l[1])?l=[]:u>2&&n.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(s,r.flatten(l),["asc"])}e.sortBy=a})(Vy)),Vy}var Xy,yE;function bK(){return yE||(yE=1,Xy=xK().sortBy),Xy}var wK=bK();const Dp=Ca(wK);var MR=e=>e.legend.settings,jK=e=>e.legend.size,SK=e=>e.legend.payload;J([SK,MR],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Dp(n,r):n});var Ph=1;function NK(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=y.useState({height:0,left:0,top:0,width:0}),n=y.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-t.height)>Ph||Math.abs(l.left-t.left)>Ph||Math.abs(l.top-t.top)>Ph||Math.abs(l.width-t.width)>Ph)&&r({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Kr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var _K=typeof Symbol=="function"&&Symbol.observable||"@@observable",xE=_K,Zy=()=>Math.random().toString(36).substring(7).split("").join("."),kK={INIT:`@@redux/INIT${Zy()}`,REPLACE:`@@redux/REPLACE${Zy()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Zy()}`},Nm=kK;function vj(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function RR(e,t,r){if(typeof e!="function")throw new Error(Kr(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Kr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Kr(1));return r(RR)(e,t)}let n=e,a=t,s=new Map,l=s,u=0,f=!1;function h(){l===s&&(l=new Map,s.forEach((N,_)=>{l.set(_,N)}))}function m(){if(f)throw new Error(Kr(3));return a}function g(N){if(typeof N!="function")throw new Error(Kr(4));if(f)throw new Error(Kr(5));let _=!0;h();const A=u++;return l.set(A,N),function(){if(_){if(f)throw new Error(Kr(6));_=!1,h(),l.delete(A),s=null}}}function v(N){if(!vj(N))throw new Error(Kr(7));if(typeof N.type>"u")throw new Error(Kr(8));if(typeof N.type!="string")throw new Error(Kr(17));if(f)throw new Error(Kr(9));try{f=!0,a=n(a,N)}finally{f=!1}return(s=l).forEach(A=>{A()}),N}function x(N){if(typeof N!="function")throw new Error(Kr(10));n=N,v({type:Nm.REPLACE})}function w(){const N=g;return{subscribe(_){if(typeof _!="object"||_===null)throw new Error(Kr(11));function A(){const O=_;O.next&&O.next(m())}return A(),{unsubscribe:N(A)}},[xE](){return this}}}return v({type:Nm.INIT}),{dispatch:v,subscribe:g,getState:m,replaceReducer:x,[xE]:w}}function AK(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Nm.INIT})>"u")throw new Error(Kr(12));if(typeof r(void 0,{type:Nm.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Kr(13))})}function IR(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const l=t[s];typeof e[l]=="function"&&(r[l]=e[l])}const n=Object.keys(r);let a;try{AK(r)}catch(s){a=s}return function(l={},u){if(a)throw a;let f=!1;const h={};for(let m=0;m<n.length;m++){const g=n[m],v=r[g],x=l[g],w=v(x,u);if(typeof w>"u")throw u&&u.type,new Error(Kr(14));h[g]=w,f=f||w!==x}return f=f||n.length!==Object.keys(l).length,f?h:l}}function _m(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function EK(...e){return t=>(r,n)=>{const a=t(r,n);let s=()=>{throw new Error(Kr(15))};const l={getState:a.getState,dispatch:(f,...h)=>s(f,...h)},u=e.map(f=>f(l));return s=_m(...u)(a.dispatch),{...a,dispatch:s}}}function LR(e){return vj(e)&&"type"in e&&typeof e.type=="string"}var $R=Symbol.for("immer-nothing"),bE=Symbol.for("immer-draftable"),un=Symbol.for("immer-state");function ja(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Rn=Object,ic=Rn.getPrototypeOf,km="constructor",Mp="prototype",kb="configurable",Am="enumerable",tm="writable",cd="value",Ri=e=>!!e&&!!e[un];function Oa(e){return e?UR(e)||Ip(e)||!!e[bE]||!!e[km]?.[bE]||Lp(e)||$p(e):!1}var TK=Rn[Mp][km].toString(),wE=new WeakMap;function UR(e){if(!e||!yj(e))return!1;const t=ic(e);if(t===null||t===Rn[Mp])return!0;const r=Rn.hasOwnProperty.call(t,km)&&t[km];if(r===Object)return!0;if(!Hl(r))return!1;let n=wE.get(r);return n===void 0&&(n=Function.toString.call(r),wE.set(r,n)),n===TK}function Rp(e,t,r=!0){Ud(e)===0?(r?Reflect.ownKeys(e):Rn.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Ud(e){const t=e[un];return t?t.type_:Ip(e)?1:Lp(e)?2:$p(e)?3:0}var jE=(e,t,r=Ud(e))=>r===2?e.has(t):Rn[Mp].hasOwnProperty.call(e,t),Ab=(e,t,r=Ud(e))=>r===2?e.get(t):e[t],Em=(e,t,r,n=Ud(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function OK(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Ip=Array.isArray,Lp=e=>e instanceof Map,$p=e=>e instanceof Set,yj=e=>typeof e=="object",Hl=e=>typeof e=="function",Qy=e=>typeof e=="boolean";function CK(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var ji=e=>e.copy_||e.base_,xj=e=>e.modified_?e.copy_:e.base_;function Eb(e,t){if(Lp(e))return new Map(e);if($p(e))return new Set(e);if(Ip(e))return Array[Mp].slice.call(e);const r=UR(e);if(t===!0||t==="class_only"&&!r){const n=Rn.getOwnPropertyDescriptors(e);delete n[un];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const l=a[s],u=n[l];u[tm]===!1&&(u[tm]=!0,u[kb]=!0),(u.get||u.set)&&(n[l]={[kb]:!0,[tm]:!0,[Am]:u[Am],[cd]:e[l]})}return Rn.create(ic(e),n)}else{const n=ic(e);if(n!==null&&r)return{...e};const a=Rn.create(n);return Rn.assign(a,e)}}function bj(e,t=!1){return Up(e)||Ri(e)||!Oa(e)||(Ud(e)>1&&Rn.defineProperties(e,{set:Dh,add:Dh,clear:Dh,delete:Dh}),Rn.freeze(e),t&&Rp(e,(r,n)=>{bj(n,!0)},!1)),e}function PK(){ja(2)}var Dh={[cd]:PK};function Up(e){return e===null||!yj(e)?!0:Rn.isFrozen(e)}var Tm="MapSet",Tb="Patches",SE="ArrayMethods",BR={};function Mo(e){const t=BR[e];return t||ja(0,e),t}var NE=e=>!!BR[e],ud,zR=()=>ud,DK=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:NE(Tm)?Mo(Tm):void 0,arrayMethodsPlugin_:NE(SE)?Mo(SE):void 0});function _E(e,t){t&&(e.patchPlugin_=Mo(Tb),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Ob(e){Cb(e),e.drafts_.forEach(MK),e.drafts_=null}function Cb(e){e===ud&&(ud=e.parent_)}var kE=e=>ud=DK(ud,e);function MK(e){const t=e[un];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function AE(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[un].modified_&&(Ob(t),ja(4)),Oa(e)&&(e=EE(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[un].base_,e,t)}else e=EE(t,r);return RK(t,e,!0),Ob(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==$R?e:void 0}function EE(e,t){if(Up(t))return t;const r=t[un];if(!r)return Om(t,e.handledSet_,e);if(!Bp(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);HR(r,e)}return r.copy_}function RK(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&bj(t,r)}function qR(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Bp=(e,t)=>e.scope_===t,IK=[];function VR(e,t,r,n){const a=ji(e),s=e.type_;if(n!==void 0&&Ab(a,n,s)===t){Em(a,n,r,s);return}if(!e.draftLocations_){const u=e.draftLocations_=new Map;Rp(a,(f,h)=>{if(Ri(h)){const m=u.get(h)||[];m.push(f),u.set(h,m)}})}const l=e.draftLocations_.get(t)??IK;for(const u of l)Em(a,u,r,s)}function LK(e,t,r){e.callbacks_.push(function(a){const s=t;if(!s||!Bp(s,a))return;a.mapSetPlugin_?.fixSetContents(s);const l=xj(s);VR(e,s.draft_??s,l,r),HR(s,a)})}function HR(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(e.assigned_?.size??0)>0)){const{patchPlugin_:n}=t;if(n){const a=n.getPath(e);a&&n.generatePatches_(e,a,t)}qR(e)}}function $K(e,t,r){const{scope_:n}=e;if(Ri(r)){const a=r[un];Bp(a,n)&&a.callbacks_.push(function(){rm(e);const l=xj(a);VR(e,r,l,t)})}else Oa(r)&&e.callbacks_.push(function(){const s=ji(e);e.type_===3?s.has(r)&&Om(r,n.handledSet_,n):Ab(s,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Om(Ab(e.copy_,t,e.type_),n.handledSet_,n)})}function Om(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Ri(e)||t.has(e)||!Oa(e)||Up(e)||(t.add(e),Rp(e,(n,a)=>{if(Ri(a)){const s=a[un];if(Bp(s,r)){const l=xj(s);Em(e,n,l,e.type_),qR(s)}}else Oa(a)&&Om(a,t,r)})),e}function UK(e,t){const r=Ip(e),n={type_:r?1:0,scope_:t?t.scope_:zR(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,s=Cm;r&&(a=[n],s=dd);const{revoke:l,proxy:u}=Proxy.revocable(a,s);return n.draft_=u,n.revoke_=l,[u,n]}var Cm={get(e,t){if(t===un)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r?.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const a=ji(e);if(!jE(a,t,e.type_))return BK(e,a,t);const s=a[t];if(e.finalized_||!Oa(s)||n&&e.operationMethod&&r?.isMutatingArrayMethod(e.operationMethod)&&CK(t))return s;if(s===Jy(e.base_,t)){rm(e);const l=e.type_===1?+t:t,u=Db(e.scope_,s,e,l);return e.copy_[l]=u}return s},has(e,t){return t in ji(e)},ownKeys(e){return Reflect.ownKeys(ji(e))},set(e,t,r){const n=FR(ji(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Jy(ji(e),t),s=a?.[un];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(OK(r,a)&&(r!==void 0||jE(e.base_,t,e.type_)))return!0;rm(e),Pb(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),$K(e,t,r)),!0},deleteProperty(e,t){return rm(e),Jy(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Pb(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=ji(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[tm]:!0,[kb]:e.type_!==1||t!=="length",[Am]:n[Am],[cd]:r[t]}},defineProperty(){ja(11)},getPrototypeOf(e){return ic(e.base_)},setPrototypeOf(){ja(12)}},dd={};for(let e in Cm){let t=Cm[e];dd[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}dd.deleteProperty=function(e,t){return dd.set.call(this,e,t,void 0)};dd.set=function(e,t,r){return Cm.set.call(this,e[0],t,r,e[0])};function Jy(e,t){const r=e[un];return(r?ji(r):e)[t]}function BK(e,t,r){const n=FR(t,r);return n?cd in n?n[cd]:n.get?.call(e.draft_):void 0}function FR(e,t){if(!(t in e))return;let r=ic(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=ic(r)}}function Pb(e){e.modified_||(e.modified_=!0,e.parent_&&Pb(e.parent_))}function rm(e){e.copy_||(e.assigned_=new Map,e.copy_=Eb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var zK=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(Hl(r)&&!Hl(n)){const l=n;n=r;const u=this;return function(h=l,...m){return u.produce(h,g=>n.call(this,g,...m))}}Hl(n)||ja(6),a!==void 0&&!Hl(a)&&ja(7);let s;if(Oa(r)){const l=kE(this),u=Db(l,r,void 0);let f=!0;try{s=n(u),f=!1}finally{f?Ob(l):Cb(l)}return _E(l,a),AE(s,l)}else if(!r||!yj(r)){if(s=n(r),s===void 0&&(s=r),s===$R&&(s=void 0),this.autoFreeze_&&bj(s,!0),a){const l=[],u=[];Mo(Tb).generateReplacementPatches_(r,s,{patches_:l,inversePatches_:u}),a(l,u)}return s}else ja(1,r)},this.produceWithPatches=(r,n)=>{if(Hl(r))return(u,...f)=>this.produceWithPatches(u,h=>r(h,...f));let a,s;return[this.produce(r,n,(u,f)=>{a=u,s=f}),a,s]},Qy(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Qy(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Qy(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Oa(t)||ja(8),Ri(t)&&(t=Ea(t));const r=kE(this),n=Db(r,t,void 0);return n[un].isManual_=!0,Cb(r),n}finishDraft(t,r){const n=t&&t[un];(!n||!n.isManual_)&&ja(9);const{scope_:a}=n;return _E(a,r),AE(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const s=r[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(r=r.slice(n+1));const a=Mo(Tb).applyPatches_;return Ri(t)?a(t,r):this.produce(t,s=>a(s,r))}};function Db(e,t,r,n){const[a,s]=Lp(t)?Mo(Tm).proxyMap_(t,r):$p(t)?Mo(Tm).proxySet_(t,r):UK(t,r);return(r?.scope_??zR()).drafts_.push(a),s.callbacks_=r?.callbacks_??[],s.key_=n,r&&n!==void 0?LK(r,s,n):s.callbacks_.push(function(f){f.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:h}=f;s.modified_&&h&&h.generatePatches_(s,[],f)}),a}function Ea(e){return Ri(e)||ja(10,e),KR(e)}function KR(e){if(!Oa(e)||Up(e))return e;const t=e[un];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Eb(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Eb(e,!0);return Rp(r,(a,s)=>{Em(r,a,KR(s))},n),t&&(t.finalized_=!1),r}var qK=new zK,GR=qK.produce;function WR(e){return({dispatch:r,getState:n})=>a=>s=>typeof s=="function"?s(r,n,e):a(s)}var VK=WR(),HK=WR,FK=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?_m:_m.apply(null,arguments)};function sa(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(In(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>LR(n)&&n.type===e,r}var YR=class Lu extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Lu.prototype)}static get[Symbol.species](){return Lu}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Lu(...t[0].concat(this)):new Lu(...t.concat(this))}};function TE(e){return Oa(e)?GR(e,()=>{}):e}function Mh(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function KK(e){return typeof e=="boolean"}var GK=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=t??{};let l=new YR;return r&&(KK(r)?l.push(VK):l.push(HK(r.extraArgument))),l},XR="RTK_autoBatch",Bt=()=>e=>({payload:e,meta:{[XR]:!0}}),OE=e=>t=>{setTimeout(t,e)},ZR=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,s=!1,l=!1;const u=new Set,f=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:OE(10):e.type==="callback"?e.queueNotification:OE(e.timeout),h=()=>{l=!1,s&&(s=!1,u.forEach(m=>m()))};return Object.assign({},n,{subscribe(m){const g=()=>a&&m(),v=n.subscribe(g);return u.add(m),()=>{v(),u.delete(m)}},dispatch(m){try{return a=!m?.meta?.[XR],s=!a,s&&(l||(l=!0,f(h))),n.dispatch(m)}finally{a=!0}}})},WK=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new YR(e);return n&&a.push(ZR(typeof n=="object"?n:void 0)),a};function YK(e){const t=GK(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:s=void 0,enhancers:l=void 0}=e||{};let u;if(typeof r=="function")u=r;else if(vj(r))u=IR(r);else throw new Error(In(1));let f;typeof n=="function"?f=n(t):f=t();let h=_m;a&&(h=FK({trace:!1,...typeof a=="object"&&a}));const m=EK(...f),g=WK(m);let v=typeof l=="function"?l(g):g();const x=h(...v);return RR(u,s,x)}function QR(e){const t={},r=[];let n;const a={addCase(s,l){const u=typeof s=="string"?s:s.type;if(!u)throw new Error(In(28));if(u in t)throw new Error(In(29));return t[u]=l,a},addAsyncThunk(s,l){return l.pending&&(t[s.pending.type]=l.pending),l.rejected&&(t[s.rejected.type]=l.rejected),l.fulfilled&&(t[s.fulfilled.type]=l.fulfilled),l.settled&&r.push({matcher:s.settled,reducer:l.settled}),a},addMatcher(s,l){return r.push({matcher:s,reducer:l}),a},addDefaultCase(s){return n=s,a}};return e(a),[t,r,n]}function XK(e){return typeof e=="function"}function ZK(e,t){let[r,n,a]=QR(t),s;if(XK(e))s=()=>TE(e());else{const u=TE(e);s=()=>u}function l(u=s(),f){let h=[r[f.type],...n.filter(({matcher:m})=>m(f)).map(({reducer:m})=>m)];return h.filter(m=>!!m).length===0&&(h=[a]),h.reduce((m,g)=>{if(g)if(Ri(m)){const x=g(m,f);return x===void 0?m:x}else{if(Oa(m))return GR(m,v=>g(v,f));{const v=g(m,f);if(v===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return m},u)}return l.getInitialState=s,l}var QK="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",JK=(e=21)=>{let t="",r=e;for(;r--;)t+=QK[Math.random()*64|0];return t},eG=Symbol.for("rtk-slice-createasyncthunk");function tG(e,t){return`${e}/${t}`}function rG({creators:e}={}){const t=e?.asyncThunk?.[eG];return function(n){const{name:a,reducerPath:s=a}=n;if(!a)throw new Error(In(11));const l=(typeof n.reducers=="function"?n.reducers(aG()):n.reducers)||{},u=Object.keys(l),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(k,O){const M=typeof k=="string"?k:k.type;if(!M)throw new Error(In(12));if(M in f.sliceCaseReducersByType)throw new Error(In(13));return f.sliceCaseReducersByType[M]=O,h},addMatcher(k,O){return f.sliceMatchers.push({matcher:k,reducer:O}),h},exposeAction(k,O){return f.actionCreators[k]=O,h},exposeCaseReducer(k,O){return f.sliceCaseReducersByName[k]=O,h}};u.forEach(k=>{const O=l[k],M={reducerName:k,type:tG(a,k),createNotation:typeof n.reducers=="function"};sG(O)?lG(M,O,h,t):iG(M,O,h)});function m(){const[k={},O=[],M=void 0]=typeof n.extraReducers=="function"?QR(n.extraReducers):[n.extraReducers],C={...k,...f.sliceCaseReducersByType};return ZK(n.initialState,D=>{for(let L in C)D.addCase(L,C[L]);for(let L of f.sliceMatchers)D.addMatcher(L.matcher,L.reducer);for(let L of O)D.addMatcher(L.matcher,L.reducer);M&&D.addDefaultCase(M)})}const g=k=>k,v=new Map,x=new WeakMap;let w;function S(k,O){return w||(w=m()),w(k,O)}function N(){return w||(w=m()),w.getInitialState()}function _(k,O=!1){function M(D){let L=D[k];return typeof L>"u"&&O&&(L=Mh(x,M,N)),L}function C(D=g){const L=Mh(v,O,()=>new WeakMap);return Mh(L,D,()=>{const V={};for(const[te,W]of Object.entries(n.selectors??{}))V[te]=nG(W,D,()=>Mh(x,D,N),O);return V})}return{reducerPath:k,getSelectors:C,get selectors(){return C(M)},selectSlice:M}}const A={name:a,reducer:S,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:N,..._(s),injectInto(k,{reducerPath:O,...M}={}){const C=O??s;return k.inject({reducerPath:C,reducer:S},M),{...A,..._(C,!0)}}};return A}}function nG(e,t,r,n){function a(s,...l){let u=t(s);return typeof u>"u"&&n&&(u=r()),e(u,...l)}return a.unwrapped=e,a}var wn=rG();function aG(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function iG({type:e,reducerName:t,createNotation:r},n,a){let s,l;if("reducer"in n){if(r&&!oG(n))throw new Error(In(17));s=n.reducer,l=n.prepare}else s=n;a.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,l?sa(e,l):sa(e))}function sG(e){return e._reducerDefinitionType==="asyncThunk"}function oG(e){return e._reducerDefinitionType==="reducerWithPrepare"}function lG({type:e,reducerName:t},r,n,a){if(!a)throw new Error(In(18));const{payloadCreator:s,fulfilled:l,pending:u,rejected:f,settled:h,options:m}=r,g=a(e,s,m);n.exposeAction(t,g),l&&n.addCase(g.fulfilled,l),u&&n.addCase(g.pending,u),f&&n.addCase(g.rejected,f),h&&n.addMatcher(g.settled,h),n.exposeCaseReducer(t,{fulfilled:l||Rh,pending:u||Rh,rejected:f||Rh,settled:h||Rh})}function Rh(){}var cG="task",JR="listener",e5="completed",wj="cancelled",uG=`task-${wj}`,dG=`task-${e5}`,Mb=`${JR}-${wj}`,fG=`${JR}-${e5}`,zp=class{constructor(e){this.code=e,this.message=`${cG} ${wj} (reason: ${e})`}name="TaskAbortError";message},jj=(e,t)=>{if(typeof e!="function")throw new TypeError(In(32))},Pm=()=>{},t5=(e,t=Pm)=>(e.catch(t),e),r5=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),ko=e=>{if(e.aborted)throw new zp(e.reason)};function n5(e,t){let r=Pm;return new Promise((n,a)=>{const s=()=>a(new zp(e.reason));if(e.aborted){s();return}r=r5(e,s),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Pm})}var hG=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof zp?"cancelled":"rejected",error:r}}finally{t?.()}},Dm=e=>t=>t5(n5(e,t).then(r=>(ko(e),r))),a5=e=>{const t=Dm(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:tc}=Object,CE={},qp="listenerMiddleware",mG=(e,t)=>{const r=n=>r5(e,()=>n.abort(e.reason));return(n,a)=>{jj(n);const s=new AbortController;r(s);const l=hG(async()=>{ko(e),ko(s.signal);const u=await n({pause:Dm(s.signal),delay:a5(s.signal),signal:s.signal});return ko(s.signal),u},()=>s.abort(dG));return a?.autoJoin&&t.push(l.catch(Pm)),{result:Dm(e)(l),cancel(){s.abort(uG)}}}},pG=(e,t)=>{const r=async(n,a)=>{ko(t);let s=()=>{};const u=[new Promise((f,h)=>{let m=e({predicate:n,effect:(g,v)=>{v.unsubscribe(),f([g,v.getState(),v.getOriginalState()])}});s=()=>{m(),h()}})];a!=null&&u.push(new Promise(f=>setTimeout(f,a,null)));try{const f=await n5(t,Promise.race(u));return ko(t),f}finally{s()}};return(n,a)=>t5(r(n,a))},i5=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:s}=e;if(t)a=sa(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(In(21));return jj(s),{predicate:a,type:t,effect:s}},s5=tc(e=>{const{type:t,predicate:r,effect:n}=i5(e);return{id:JK(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(In(22))}}},{withTypes:()=>s5}),PE=(e,t)=>{const{type:r,effect:n,predicate:a}=i5(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===a)&&s.effect===n)},Rb=e=>{e.pending.forEach(t=>{t.abort(Mb)})},gG=(e,t)=>()=>{for(const r of t.keys())Rb(r);e.clear()},DE=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},o5=tc(sa(`${qp}/add`),{withTypes:()=>o5}),vG=sa(`${qp}/removeAll`),l5=tc(sa(`${qp}/remove`),{withTypes:()=>l5}),yG=(...e)=>{console.error(`${qp}/error`,...e)},Bd=(e={})=>{const t=new Map,r=new Map,n=x=>{const w=r.get(x)??0;r.set(x,w+1)},a=x=>{const w=r.get(x)??1;w===1?r.delete(x):r.set(x,w-1)},{extra:s,onError:l=yG}=e;jj(l);const u=x=>(x.unsubscribe=()=>t.delete(x.id),t.set(x.id,x),w=>{x.unsubscribe(),w?.cancelActive&&Rb(x)}),f=x=>{const w=PE(t,x)??s5(x);return u(w)};tc(f,{withTypes:()=>f});const h=x=>{const w=PE(t,x);return w&&(w.unsubscribe(),x.cancelActive&&Rb(w)),!!w};tc(h,{withTypes:()=>h});const m=async(x,w,S,N)=>{const _=new AbortController,A=pG(f,_.signal),k=[];try{x.pending.add(_),n(x),await Promise.resolve(x.effect(w,tc({},S,{getOriginalState:N,condition:(O,M)=>A(O,M).then(Boolean),take:A,delay:a5(_.signal),pause:Dm(_.signal),extra:s,signal:_.signal,fork:mG(_.signal,k),unsubscribe:x.unsubscribe,subscribe:()=>{t.set(x.id,x)},cancelActiveListeners:()=>{x.pending.forEach((O,M,C)=>{O!==_&&(O.abort(Mb),C.delete(O))})},cancel:()=>{_.abort(Mb),x.pending.delete(_)},throwIfCancelled:()=>{ko(_.signal)}})))}catch(O){O instanceof zp||DE(l,O,{raisedBy:"effect"})}finally{await Promise.all(k),_.abort(fG),a(x),x.pending.delete(_)}},g=gG(t,r);return{middleware:x=>w=>S=>{if(!LR(S))return w(S);if(o5.match(S))return f(S.payload);if(vG.match(S)){g();return}if(l5.match(S))return h(S.payload);let N=x.getState();const _=()=>{if(N===CE)throw new Error(In(23));return N};let A;try{if(A=w(S),t.size>0){const k=x.getState(),O=Array.from(t.values());for(const M of O){let C=!1;try{C=M.predicate(S,k,N)}catch(D){C=!1,DE(l,D,{raisedBy:"predicate"})}C&&m(M,S,x,_)}}}finally{N=CE}return A},startListening:f,stopListening:h,clearListeners:g}};function In(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var xG={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},c5=wn({name:"chartLayout",initialState:xG,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,s;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:bG,setLayout:wG,setChartSize:jG,setScale:SG}=c5.actions,NG=c5.reducer;function u5(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function ht(e){return Number.isFinite(e)}function Xa(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function ME(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ME(Object(r),!0).forEach(function(n){_G(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ME(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _G(e,t,r){return(t=kG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kG(e){var t=AG(e,"string");return typeof t=="symbol"?t:t+""}function AG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nr(e,t,r){return Nr(e)||Nr(t)?r:Ya(t)?Cp(e,t,r):typeof t=="function"?t(e):r}var EG=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:s,verticalAlign:l,layout:u}=t;if((u==="vertical"||u==="horizontal"&&l==="middle")&&s!=="center"&&$e(e[s]))return Gl(Gl({},e),{},{[s]:e[s]+(n||0)});if((u==="horizontal"||u==="vertical"&&s==="center")&&l!=="middle"&&$e(e[l]))return Gl(Gl({},e),{},{[l]:e[l]+(a||0)})}return e},ei=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",d5=(e,t,r,n)=>{if(n)return e.map(u=>u.coordinate);var a,s,l=e.map(u=>(u.coordinate===t&&(a=!0),u.coordinate===r&&(s=!0),u.coordinate));return a||l.push(t),s||l.push(r),l},f5=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:s,scale:l,realScaleType:u,isCategorical:f,categoricalDomain:h,tickCount:m,ticks:g,niceTicks:v,axisType:x}=e;if(!l)return null;var w=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,S=a==="category"&&l.bandwidth?l.bandwidth()/w:0;if(S=x==="angleAxis"&&s&&s.length>=2?ta(s[0]-s[1])*2*S:S,g||v){var N=(g||v||[]).map((_,A)=>{var k=n?n.indexOf(_):_,O=l.map(k);return ht(O)?{coordinate:O+S,value:_,offset:S,index:A}:null}).filter(yn);return N}return f&&h?h.map((_,A)=>{var k=l.map(_);return ht(k)?{coordinate:k+S,value:_,index:A,offset:S}:null}).filter(yn):l.ticks&&m!=null?l.ticks(m).map((_,A)=>{var k=l.map(_);return ht(k)?{coordinate:k+S,value:_,index:A,offset:S}:null}).filter(yn):l.domain().map((_,A)=>{var k=l.map(_);return ht(k)?{coordinate:k+S,value:n?n[_]:_,index:A,offset:S}:null}).filter(yn)},TG=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var s=0,l=0,u=0;u<r;++u){var f=e[u],h=f?.[a];if(h!=null){var m=h[1],g=h[0],v=Mi(m)?g:m;v>=0?(h[0]=s,s+=v,h[1]=s):(h[0]=l,l+=v,h[1]=l)}}}},OG=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var s=0,l=0;l<r;++l){var u=e[l],f=u?.[a];if(f!=null){var h=Mi(f[1])?f[0]:f[1];h>=0?(f[0]=s,s+=h,f[1]=s):(f[0]=0,f[1]=0)}}}},CG={sign:TG,expand:oF,none:Po,silhouette:lF,wiggle:cF,positive:OG},PG=(e,t,r)=>{var n,a=(n=CG[r])!==null&&n!==void 0?n:Po,s=sF().keys(t).value((u,f)=>Number(nr(u,f,0))).order(Nb).offset(a),l=s(e);return l.forEach((u,f)=>{u.forEach((h,m)=>{var g=nr(e[m],t[f],0);Array.isArray(g)&&g.length===2&&$e(g[0])&&$e(g[1])&&(h[0]=g[0],h[1]=g[1])})}),l};function RE(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:s,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Nr(a[t.dataKey])){var u=bR(r,"value",a[t.dataKey]);if(u)return u.coordinate+n/2}return r!=null&&r[s]?r[s].coordinate+n/2:null}var f=nr(a,Nr(l)?t.dataKey:l),h=t.scale.map(f);return $e(h)?h:null}var DG=e=>{var t=e.flat(2).filter($e);return[Math.min(...t),Math.max(...t)]},MG=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],RG=(e,t,r)=>{if(e!=null)return MG(Object.keys(e).reduce((n,a)=>{var s=e[a];if(!s)return n;var{stackedData:l}=s,u=l.reduce((f,h)=>{var m=u5(h,t,r),g=DG(m);return!ht(g[0])||!ht(g[1])?f:[Math.min(f[0],g[0]),Math.max(f[1],g[1])]},[1/0,-1/0]);return[Math.min(u[0],n[0]),Math.max(u[1],n[1])]},[1/0,-1/0]))},IE=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,LE=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,sc=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=Dp(t,m=>m.coordinate),s=1/0,l=1,u=a.length;l<u;l++){var f=a[l],h=a[l-1];s=Math.min((f?.coordinate||0)-(h?.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function $E(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:s}=e;return Gl(Gl({},t),{},{dataKey:r,payload:n,value:a,name:s})}function Vp(e,t){if(e)return String(e);if(typeof t=="string")return t}var IG=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},LG=(e,t)=>t==="centric"?e.angle:e.radius,Fi=e=>e.layout.width,Ki=e=>e.layout.height,$G=e=>e.layout.scale,h5=e=>e.layout.margin,Hp=J(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Fp=J(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),UG="data-recharts-item-index",BG="data-recharts-item-id",zd=60;function UE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ih(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UE(Object(r),!0).forEach(function(n){zG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zG(e,t,r){return(t=qG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qG(e){var t=VG(e,"string");return typeof t=="symbol"?t:t+""}function VG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HG=e=>e.brush.height;function FG(e){var t=Fp(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:zd;return r+a}return r},0)}function KG(e){var t=Fp(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:zd;return r+a}return r},0)}function GG(e){var t=Hp(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function WG(e){var t=Hp(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Yr=J([Fi,Ki,h5,HG,FG,KG,GG,WG,MR,jK],(e,t,r,n,a,s,l,u,f,h)=>{var m={left:(r.left||0)+a,right:(r.right||0)+s},g={top:(r.top||0)+l,bottom:(r.bottom||0)+u},v=Ih(Ih({},g),m),x=v.bottom;v.bottom+=n,v=EG(v,f,h);var w=e-v.left-v.right,S=t-v.top-v.bottom;return Ih(Ih({brushBottom:x},v),{},{width:Math.max(w,0),height:Math.max(S,0)})}),YG=J(Yr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),m5=J(Fi,Ki,(e,t)=>({x:0,y:0,width:e,height:t})),XG=y.createContext(null),an=()=>y.useContext(XG)!=null,Kp=e=>e.brush,Gp=J([Kp,Yr,h5],(e,t,r)=>({height:e.height,x:$e(e.x)?e.x:t.left,y:$e(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:$e(e.width)?e.width:t.width})),ex={},tx={},rx={},BE;function ZG(){return BE||(BE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:s}={}){let l,u=null;const f=s!=null&&s.includes("leading"),h=s==null||s.includes("trailing"),m=()=>{u!==null&&(r.apply(l,u),l=void 0,u=null)},g=()=>{h&&m(),S()};let v=null;const x=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,g()},n)},w=()=>{v!==null&&(clearTimeout(v),v=null)},S=()=>{w(),l=void 0,u=null},N=()=>{m()},_=function(...A){if(a?.aborted)return;l=this,u=A;const k=v==null;x(),f&&k&&m()};return _.schedule=x,_.cancel=S,_.flush=N,a?.addEventListener("abort",S,{once:!0}),_}e.debounce=t})(rx)),rx}var zE;function QG(){return zE||(zE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZG();function r(n,a=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:u=!0,maxWait:f}=s,h=Array(2);l&&(h[0]="leading"),u&&(h[1]="trailing");let m,g=null;const v=t.debounce(function(...S){m=n.apply(this,S),g=null},a,{edges:h}),x=function(...S){return f!=null&&(g===null&&(g=Date.now()),Date.now()-g>=f)?(m=n.apply(this,S),g=Date.now(),v.cancel(),v.schedule(),m):(v.apply(this,S),m)},w=()=>(v.flush(),m);return x.cancel=v.cancel,x.flush=w,x}e.debounce=r})(tx)),tx}var qE;function JG(){return qE||(qE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QG();function r(n,a=0,s={}){const{leading:l=!0,trailing:u=!0}=s;return t.debounce(n,a,{leading:l,maxWait:a,trailing:u})}e.throttle=r})(ex)),ex}var nx,VE;function eW(){return VE||(VE=1,nx=JG().throttle),nx}var tW=eW();const rW=Ca(tW);var Mm=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(r.replace(/%s/g,()=>a[l++]))}},Fa={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},p5=(e,t,r)=>{var{width:n=Fa.width,height:a=Fa.height,aspect:s,maxHeight:l}=r,u=Do(n)?e:Number(n),f=Do(a)?t:Number(a);return s&&s>0&&(u?f=u/s:f&&(u=f*s),l&&f!=null&&f>l&&(f=l)),{calculatedWidth:u,calculatedHeight:f}},nW={width:0,height:0,overflow:"visible"},aW={width:0,overflowX:"visible"},iW={height:0,overflowY:"visible"},sW={},oW=e=>{var{width:t,height:r}=e,n=Do(t),a=Do(r);return n&&a?nW:n?aW:a?iW:sW};function lW(e){var{width:t,height:r,aspect:n}=e,a=t,s=r;return a===void 0&&s===void 0?(a=Fa.width,s=Fa.height):a===void 0?a=n&&n>0?void 0:Fa.width:s===void 0&&(s=n&&n>0?void 0:Fa.height),{width:a,height:s}}function Ib(){return Ib=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ib.apply(null,arguments)}function HE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function FE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HE(Object(r),!0).forEach(function(n){cW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cW(e,t,r){return(t=uW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uW(e){var t=dW(e,"string");return typeof t=="symbol"?t:t+""}function dW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var g5=y.createContext(Fa.initialDimension);function fW(e){return Xa(e.width)&&Xa(e.height)}function v5(e){var{children:t,width:r,height:n}=e,a=y.useMemo(()=>({width:r,height:n}),[r,n]);return fW(a)?y.createElement(g5.Provider,{value:a},t):null}var Sj=()=>y.useContext(g5),hW=y.forwardRef((e,t)=>{var{aspect:r,initialDimension:n=Fa.initialDimension,width:a,height:s,minWidth:l=Fa.minWidth,minHeight:u,maxHeight:f,children:h,debounce:m=Fa.debounce,id:g,className:v,onResize:x,style:w={}}=e,S=y.useRef(null),N=y.useRef();N.current=x,y.useImperativeHandle(t,()=>S.current);var[_,A]=y.useState({containerWidth:n.width,containerHeight:n.height}),k=y.useCallback((L,V)=>{A(te=>{var W=Math.round(L),K=Math.round(V);return te.containerWidth===W&&te.containerHeight===K?te:{containerWidth:W,containerHeight:K}})},[]);y.useEffect(()=>{if(S.current==null||typeof ResizeObserver>"u")return Hi;var L=K=>{var Se,be=K[0];if(be!=null){var{width:Ae,height:Y}=be.contentRect;k(Ae,Y),(Se=N.current)===null||Se===void 0||Se.call(N,Ae,Y)}};m>0&&(L=rW(L,m,{trailing:!0,leading:!1}));var V=new ResizeObserver(L),{width:te,height:W}=S.current.getBoundingClientRect();return k(te,W),V.observe(S.current),()=>{V.disconnect()}},[k,m]);var{containerWidth:O,containerHeight:M}=_;Mm(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:C,calculatedHeight:D}=p5(O,M,{width:a,height:s,aspect:r,maxHeight:f});return Mm(C!=null&&C>0||D!=null&&D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,C,D,a,s,l,u,r),y.createElement("div",{id:g?"".concat(g):void 0,className:it("recharts-responsive-container",v),style:FE(FE({},w),{},{width:a,height:s,minWidth:l,minHeight:u,maxHeight:f}),ref:S},y.createElement("div",{style:oW({width:a,height:s})},y.createElement(v5,{width:C,height:D},h)))}),KE=y.forwardRef((e,t)=>{var r=Sj();if(Xa(r.width)&&Xa(r.height))return e.children;var{width:n,height:a}=lW({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:l}=p5(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return $e(s)&&$e(l)?y.createElement(v5,{width:s,height:l},e.children):y.createElement(hW,Ib({},e,{width:n,height:a,ref:t}))});function Nj(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Wp=()=>{var e,t=an(),r=De(YG),n=De(Gp),a=(e=De(Kp))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},mW={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},y5=()=>{var e;return(e=De(Yr))!==null&&e!==void 0?e:mW},x5=()=>De(Fi),b5=()=>De(Ki),gt=e=>e.layout.layoutType,vc=()=>De(gt),w5=()=>{var e=vc();if(e==="horizontal"||e==="vertical")return e},_j=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},j5=()=>De(_j),pW=()=>{var e=vc();return e!==void 0},qd=e=>{var t=Gt(),r=an(),{width:n,height:a}=e,s=Sj(),l=n,u=a;return s&&(l=s.width>0?s.width:n,u=s.height>0?s.height:a),y.useEffect(()=>{!r&&Xa(l)&&Xa(u)&&t(jG({width:l,height:u}))},[t,r,l,u]),null},S5=Symbol.for("immer-nothing"),GE=Symbol.for("immer-draftable"),Ln=Symbol.for("immer-state");function Sa(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var fd=Object.getPrototypeOf;function oc(e){return!!e&&!!e[Ln]}function Ro(e){return e?N5(e)||Array.isArray(e)||!!e[GE]||!!e.constructor?.[GE]||Vd(e)||Xp(e):!1}var gW=Object.prototype.constructor.toString(),WE=new WeakMap;function N5(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=WE.get(r);return n===void 0&&(n=Function.toString.call(r),WE.set(r,n)),n===gW}function Rm(e,t,r=!0){Yp(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Yp(e){const t=e[Ln];return t?t.type_:Array.isArray(e)?1:Vd(e)?2:Xp(e)?3:0}function Lb(e,t){return Yp(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function _5(e,t,r){const n=Yp(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function vW(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Vd(e){return e instanceof Map}function Xp(e){return e instanceof Set}function mo(e){return e.copy_||e.base_}function $b(e,t){if(Vd(e))return new Map(e);if(Xp(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=N5(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Ln];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const l=a[s],u=n[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(n[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[l]})}return Object.create(fd(e),n)}else{const n=fd(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function kj(e,t=!1){return Zp(e)||oc(e)||!Ro(e)||(Yp(e)>1&&Object.defineProperties(e,{set:Lh,add:Lh,clear:Lh,delete:Lh}),Object.freeze(e),t&&Object.values(e).forEach(r=>kj(r,!0))),e}function yW(){Sa(2)}var Lh={value:yW};function Zp(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var xW={};function Io(e){const t=xW[e];return t||Sa(0,e),t}var hd;function k5(){return hd}function bW(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function YE(e,t){t&&(Io("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Ub(e){Bb(e),e.drafts_.forEach(wW),e.drafts_=null}function Bb(e){e===hd&&(hd=e.parent_)}function XE(e){return hd=bW(hd,e)}function wW(e){const t=e[Ln];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function ZE(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Ln].modified_&&(Ub(t),Sa(4)),Ro(e)&&(e=Im(t,e),t.parent_||Lm(t,e)),t.patches_&&Io("Patches").generateReplacementPatches_(r[Ln].base_,e,t.patches_,t.inversePatches_)):e=Im(t,r,[]),Ub(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==S5?e:void 0}function Im(e,t,r){if(Zp(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[Ln];if(!a)return Rm(t,(s,l)=>QE(e,a,t,s,l,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return Lm(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let l=s,u=!1;a.type_===3&&(l=new Set(s),s.clear(),u=!0),Rm(l,(f,h)=>QE(e,a,s,f,h,r,u),n),Lm(e,s,!1),r&&e.patches_&&Io("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function QE(e,t,r,n,a,s,l){if(a==null||typeof a!="object"&&!l)return;const u=Zp(a);if(!(u&&!l)){if(oc(a)){const f=s&&t&&t.type_!==3&&!Lb(t.assigned_,n)?s.concat(n):void 0,h=Im(e,a,f);if(_5(r,n,h),oc(h))e.canAutoFreeze_=!1;else return}else l&&r.add(a);if(Ro(a)&&!u){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&u)return;Im(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Vd(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Lm(e,a)}}}function Lm(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&kj(t,r)}function jW(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:k5(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=Aj;r&&(a=[n],s=md);const{revoke:l,proxy:u}=Proxy.revocable(a,s);return n.draft_=u,n.revoke_=l,u}var Aj={get(e,t){if(t===Ln)return e;const r=mo(e);if(!Lb(r,t))return SW(e,r,t);const n=r[t];return e.finalized_||!Ro(n)?n:n===ax(e.base_,t)?(ix(e),e.copy_[t]=qb(n,e)):n},has(e,t){return t in mo(e)},ownKeys(e){return Reflect.ownKeys(mo(e))},set(e,t,r){const n=A5(mo(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=ax(mo(e),t),s=a?.[Ln];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(vW(r,a)&&(r!==void 0||Lb(e.base_,t)))return!0;ix(e),zb(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return ax(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,ix(e),zb(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=mo(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Sa(11)},getPrototypeOf(e){return fd(e.base_)},setPrototypeOf(){Sa(12)}},md={};Rm(Aj,(e,t)=>{md[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});md.deleteProperty=function(e,t){return md.set.call(this,e,t,void 0)};md.set=function(e,t,r){return Aj.set.call(this,e[0],t,r,e[0])};function ax(e,t){const r=e[Ln];return(r?mo(r):e)[t]}function SW(e,t,r){const n=A5(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function A5(e,t){if(!(t in e))return;let r=fd(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=fd(r)}}function zb(e){e.modified_||(e.modified_=!0,e.parent_&&zb(e.parent_))}function ix(e){e.copy_||(e.copy_=$b(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var NW=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const l=this;return function(f=s,...h){return l.produce(f,m=>r.call(this,m,...h))}}typeof r!="function"&&Sa(6),n!==void 0&&typeof n!="function"&&Sa(7);let a;if(Ro(t)){const s=XE(this),l=qb(t,void 0);let u=!0;try{a=r(l),u=!1}finally{u?Ub(s):Bb(s)}return YE(s,n),ZE(a,s)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===S5&&(a=void 0),this.autoFreeze_&&kj(a,!0),n){const s=[],l=[];Io("Patches").generateReplacementPatches_(t,a,s,l),n(s,l)}return a}else Sa(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(l,...u)=>this.produceWithPatches(l,f=>t(f,...u));let n,a;return[this.produce(t,r,(l,u)=>{n=l,a=u}),n,a]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ro(e)||Sa(8),oc(e)&&(e=_W(e));const t=XE(this),r=qb(e,void 0);return r[Ln].isManual_=!0,Bb(t),r}finishDraft(e,t){const r=e&&e[Ln];(!r||!r.isManual_)&&Sa(9);const{scope_:n}=r;return YE(n,t),ZE(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Io("Patches").applyPatches_;return oc(e)?n(e,t):this.produce(e,a=>n(a,t))}};function qb(e,t){const r=Vd(e)?Io("MapSet").proxyMap_(e,t):Xp(e)?Io("MapSet").proxySet_(e,t):jW(e,t);return(t?t.scope_:k5()).drafts_.push(r),r}function _W(e){return oc(e)||Sa(10,e),E5(e)}function E5(e){if(!Ro(e)||Zp(e))return e;const t=e[Ln];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=$b(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=$b(e,!0);return Rm(r,(a,s)=>{_5(r,a,E5(s))},n),t&&(t.finalized_=!1),r}var kW=new NW;kW.produce;var AW={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},T5=wn({name:"legend",initialState:AW,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Bt()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Ea(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:Bt()},removeLegendPayload:{reducer(e,t){var r=Ea(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Bt()}}}),{setLegendSize:Rme,setLegendSettings:Ime,addLegendPayload:O5,replaceLegendPayload:C5,removeLegendPayload:P5}=T5.actions,EW=T5.reducer;function Vb(){return Vb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vb.apply(null,arguments)}function JE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ku(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JE(Object(r),!0).forEach(function(n){TW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TW(e,t,r){return(t=OW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OW(e){var t=CW(e,"string");return typeof t=="symbol"?t:t+""}function CW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PW(e){return Array.isArray(e)&&Ya(e[0])&&Ya(e[1])?e.join(" ~ "):e}var Ll={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},DW=e=>{var{separator:t=Ll.separator,contentStyle:r,itemStyle:n,labelStyle:a=Ll.labelStyle,payload:s,formatter:l,itemSorter:u,wrapperClassName:f,labelClassName:h,label:m,labelFormatter:g,accessibilityLayer:v=Ll.accessibilityLayer}=e,x=()=>{if(s&&s.length){var M={padding:0,margin:0},C=(u?Dp(s,u):s).map((D,L)=>{if(D.type==="none")return null;var V=D.formatter||l||PW,{value:te,name:W}=D,K=te,Se=W;if(V){var be=V(te,W,D,L,s);if(Array.isArray(be))[K,Se]=be;else if(be!=null)K=be;else return null}var Ae=ku(ku({},Ll.itemStyle),{},{color:D.color||Ll.itemStyle.color},n);return y.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(L),style:Ae},Ya(Se)?y.createElement("span",{className:"recharts-tooltip-item-name"},Se):null,Ya(Se)?y.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,y.createElement("span",{className:"recharts-tooltip-item-value"},K),y.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return y.createElement("ul",{className:"recharts-tooltip-item-list",style:M},C)}return null},w=ku(ku({},Ll.contentStyle),r),S=ku({margin:0},a),N=!Nr(m),_=N?m:"",A=it("recharts-default-tooltip",f),k=it("recharts-tooltip-label",h);N&&g&&s!==void 0&&s!==null&&(_=g(m,s));var O=v?{role:"status","aria-live":"assertive"}:{};return y.createElement("div",Vb({className:A,style:w},O),y.createElement("p",{className:k,style:S},y.isValidElement(_)?_:"".concat(_)),x())},Au="recharts-tooltip-wrapper",MW={visibility:"hidden"};function RW(e){var{coordinate:t,translateX:r,translateY:n}=e;return it(Au,{["".concat(Au,"-right")]:$e(r)&&t&&$e(t.x)&&r>=t.x,["".concat(Au,"-left")]:$e(r)&&t&&$e(t.x)&&r<t.x,["".concat(Au,"-bottom")]:$e(n)&&t&&$e(t.y)&&n>=t.y,["".concat(Au,"-top")]:$e(n)&&t&&$e(t.y)&&n<t.y})}function eT(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offset:a,position:s,reverseDirection:l,tooltipDimension:u,viewBox:f,viewBoxDimension:h}=e;if(s&&$e(s[n]))return s[n];var m=r[n]-u-(a>0?a:0),g=r[n]+a;if(t[n])return l[n]?m:g;var v=f[n];if(v==null)return 0;if(l[n]){var x=m,w=v;return x<w?Math.max(g,v):Math.max(m,v)}if(h==null)return 0;var S=g+u,N=v+h;return S>N?Math.max(m,v):Math.max(g,v)}function IW(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function LW(e){var{allowEscapeViewBox:t,coordinate:r,offsetTop:n,offsetLeft:a,position:s,reverseDirection:l,tooltipBox:u,useTranslate3d:f,viewBox:h}=e,m,g,v;return u.height>0&&u.width>0&&r?(g=eT({allowEscapeViewBox:t,coordinate:r,key:"x",offset:a,position:s,reverseDirection:l,tooltipDimension:u.width,viewBox:h,viewBoxDimension:h.width}),v=eT({allowEscapeViewBox:t,coordinate:r,key:"y",offset:n,position:s,reverseDirection:l,tooltipDimension:u.height,viewBox:h,viewBoxDimension:h.height}),m=IW({translateX:g,translateY:v,useTranslate3d:f})):m=MW,{cssProperties:m,cssClasses:RW({translateX:g,translateY:v,coordinate:r})}}function tT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $h(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tT(Object(r),!0).forEach(function(n){Hb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hb(e,t,r){return(t=$W(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $W(e){var t=UW(e,"string");return typeof t=="symbol"?t:t+""}function UW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class BW extends y.PureComponent{constructor(){super(...arguments),Hb(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Hb(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:s,coordinate:l,hasPayload:u,isAnimationActive:f,offset:h,position:m,reverseDirection:g,useTranslate3d:v,viewBox:x,wrapperStyle:w,lastBoundingBox:S,innerRef:N,hasPortalFromProps:_}=this.props,A=typeof h=="number"?h:h.x,k=typeof h=="number"?h:h.y,{cssClasses:O,cssProperties:M}=LW({allowEscapeViewBox:r,coordinate:l,offsetLeft:A,offsetTop:k,position:m,reverseDirection:g,tooltipBox:{height:S.height,width:S.width},useTranslate3d:v,viewBox:x}),C=_?{}:$h($h({transition:f&&t?"transform ".concat(n,"ms ").concat(a):void 0},M),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),D=$h($h({},C),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},w);return y.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:O,style:D,ref:N},s)}}var D5=()=>{var e;return(e=De(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Fb(){return Fb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fb.apply(null,arguments)}function rT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rT(Object(r),!0).forEach(function(n){zW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zW(e,t,r){return(t=qW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qW(e){var t=VW(e,"string");return typeof t=="symbol"?t:t+""}function VW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aT={curveBasisClosed:YH,curveBasisOpen:XH,curveBasis:WH,curveBumpX:MH,curveBumpY:RH,curveLinearClosed:ZH,curveLinear:Tp,curveMonotoneX:QH,curveMonotoneY:JH,curveNatural:eF,curveStep:tF,curveStepAfter:nF,curveStepBefore:rF},$m=e=>ht(e.x)&&ht(e.y),iT=e=>e.base!=null&&$m(e.base)&&$m(e),Eu=e=>e.x,Tu=e=>e.y,HW=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat($d(e));if((r==="curveMonotone"||r==="curveBump")&&t){var n=aT["".concat(r).concat(t==="vertical"?"Y":"X")];if(n)return n}return aT[r]||Tp},sT={connectNulls:!1,type:"linear"},FW=e=>{var{type:t=sT.type,points:r=[],baseLine:n,layout:a,connectNulls:s=sT.connectNulls}=e,l=HW(t,a),u=s?r.filter($m):r;if(Array.isArray(n)){var f,h=r.map((w,S)=>nT(nT({},w),{},{base:n[S]}));a==="vertical"?f=Oh().y(Tu).x1(Eu).x0(w=>w.base.x):f=Oh().x(Eu).y1(Tu).y0(w=>w.base.y);var m=f.defined(iT).curve(l),g=s?h.filter(iT):h;return m(g)}var v;a==="vertical"&&$e(n)?v=Oh().y(Tu).x1(Eu).x0(n):$e(n)?v=Oh().x(Eu).y1(Tu).y0(n):v=oR().x(Eu).y(Tu);var x=v.defined($m).curve(l);return x(u)},M5=e=>{var{className:t,points:r,path:n,pathRef:a}=e,s=vc();if((!r||!r.length)&&!n)return null;var l={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||s,connectNulls:e.connectNulls},u=r&&r.length?FW(l):n;return y.createElement("path",Fb({},ir(e),dj(e),{className:it("recharts-curve",t),d:u===null?void 0:u,ref:a}))},KW=["x","y","top","left","width","height","className"];function Kb(){return Kb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kb.apply(null,arguments)}function oT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function GW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oT(Object(r),!0).forEach(function(n){WW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WW(e,t,r){return(t=YW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YW(e){var t=XW(e,"string");return typeof t=="symbol"?t:t+""}function XW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZW(e,t){if(e==null)return{};var r,n,a=QW(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function QW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var JW=(e,t,r,n,a,s)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),eY=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:s=0,height:l=0,className:u}=e,f=ZW(e,KW),h=GW({x:t,y:r,top:n,left:a,width:s,height:l},f);return!$e(t)||!$e(r)||!$e(s)||!$e(l)||!$e(n)||!$e(a)?null:y.createElement("path",Kb({},fr(h),{className:it("recharts-cross",u),d:JW(t,r,s,l,n,a)}))};function tY(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function lT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lT(Object(r),!0).forEach(function(n){rY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rY(e,t,r){return(t=nY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nY(e){var t=aY(e,"string");return typeof t=="symbol"?t:t+""}function aY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iY=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),R5=(e,t,r)=>e.map(n=>"".concat(iY(n)," ").concat(t,"ms ").concat(r)).join(","),sY=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),pd=(e,t)=>Object.keys(t).reduce((r,n)=>cT(cT({},r),{},{[n]:e(n,t[n])}),{});function uT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function br(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uT(Object(r),!0).forEach(function(n){oY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oY(e,t,r){return(t=lY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lY(e){var t=cY(e,"string");return typeof t=="symbol"?t:t+""}function cY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Um=(e,t,r)=>e+(t-e)*r,Gb=e=>{var{from:t,to:r}=e;return t!==r},I5=(e,t,r)=>{var n=pd((a,s)=>{if(Gb(s)){var[l,u]=e(s.from,s.to,s.velocity);return br(br({},s),{},{from:l,velocity:u})}return s},t);return r<1?pd((a,s)=>Gb(s)&&n[a]!=null?br(br({},s),{},{velocity:Um(s.velocity,n[a].velocity,r),from:Um(s.from,n[a].from,r)}):s,t):I5(e,n,r-1)};function uY(e,t,r,n,a,s){var l,u=n.reduce((v,x)=>br(br({},v),{},{[x]:{from:e[x],velocity:0,to:t[x]}}),{}),f=()=>pd((v,x)=>x.from,u),h=()=>!Object.values(u).filter(Gb).length,m=null,g=v=>{l||(l=v);var x=v-l,w=x/r.dt;u=I5(r,u,w),a(br(br(br({},e),t),f())),l=v,h()||(m=s.setTimeout(g))};return()=>(m=s.setTimeout(g),()=>{var v;(v=m)===null||v===void 0||v()})}function dY(e,t,r,n,a,s,l){var u=null,f=a.reduce((g,v)=>{var x=e[v],w=t[v];return x==null||w==null?g:br(br({},g),{},{[v]:[x,w]})},{}),h,m=g=>{h||(h=g);var v=(g-h)/n,x=pd((S,N)=>Um(...N,r(v)),f);if(s(br(br(br({},e),t),x)),v<1)u=l.setTimeout(m);else{var w=pd((S,N)=>Um(...N,r(1)),f);s(br(br(br({},e),t),w))}};return()=>(u=l.setTimeout(m),()=>{var g;(g=u)===null||g===void 0||g()})}const fY=(e,t,r,n,a,s)=>{var l=sY(e,t);return r==null?()=>(a(br(br({},e),t)),()=>{}):r.isStepper===!0?uY(e,t,r,l,a,s):dY(e,t,r,n,l,a,s)};var Bm=1e-4,L5=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],$5=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),dT=(e,t)=>r=>{var n=L5(e,t);return $5(n,r)},hY=(e,t)=>r=>{var n=L5(e,t),a=[...n.map((s,l)=>s*l).slice(1),0];return $5(a,r)},mY=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var a=n.map(s=>parseFloat(s));return[a[0],a[1],a[2],a[3]]},pY=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a=mY(r[0]);if(a)return a}}return r.length===4?r:[0,0,1,1]},gY=(e,t,r,n)=>{var a=dT(e,r),s=dT(t,n),l=hY(e,r),u=h=>h>1?1:h<0?0:h,f=h=>{for(var m=h>1?1:h,g=m,v=0;v<8;++v){var x=a(g)-m,w=l(g);if(Math.abs(x-m)<Bm||w<Bm)return s(g);g=u(g-x/w)}return s(g)};return f.isStepper=!1,f},fT=function(){return gY(...pY(...arguments))},vY=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,s=(l,u,f)=>{var h=-(l-u)*r,m=f*n,g=f+(h-m)*a/1e3,v=f*a/1e3+l;return Math.abs(v-u)<Bm&&Math.abs(g)<Bm?[u,0]:[v,g]};return s.isStepper=!0,s.dt=a,s},yY=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return fT(e);case"spring":return vY();default:if(e.split("(")[0]==="cubic-bezier")return fT(e)}return typeof e=="function"?e:null};function xY(e){var t,r=()=>null,n=!1,a=null,s=l=>{if(!n){if(Array.isArray(l)){if(!l.length)return;var u=l,[f,...h]=u;if(typeof f=="number"){a=e.setTimeout(s.bind(null,h),f);return}s(f),a=e.setTimeout(s.bind(null,h));return}typeof l=="string"&&(t=l,r(t)),typeof l=="object"&&(t=l,r(t)),typeof l=="function"&&l()}};return{stop:()=>{n=!0},start:l=>{n=!1,a&&(a(),a=null),s(l)},subscribe:l=>(r=l,()=>{r=()=>null}),getTimeoutController:()=>e}}class bY{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,s=l=>{l-n>=r?t(l):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{a!=null&&cancelAnimationFrame(a)}}}function wY(){return xY(new bY)}var jY=y.createContext(wY);function SY(e,t){var r=y.useContext(jY);return y.useMemo(()=>t??r(e),[e,t,r])}var NY=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Qp={isSsr:NY()},_Y={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},hT={t:0},sx={t:1};function Jp(e){var t=mr(e,_Y),{isActive:r,canBegin:n,duration:a,easing:s,begin:l,onAnimationEnd:u,onAnimationStart:f,children:h}=t,m=r==="auto"?!Qp.isSsr:r,g=SY(t.animationId,t.animationManager),[v,x]=y.useState(m?hT:sx),w=y.useRef(null);return y.useEffect(()=>{m||x(sx)},[m]),y.useEffect(()=>{if(!m||!n)return Hi;var S=fY(hT,sx,yY(s),a,x,g.getTimeoutController()),N=()=>{w.current=S()};return g.start([f,l,N,a,u]),()=>{g.stop(),w.current&&w.current(),u()}},[m,n,a,s,l,f,u,g]),h(v.t)}function eg(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=y.useRef(ld(t)),n=y.useRef(e);return n.current!==e&&(r.current=ld(t),n.current=e),r.current}var kY=["radius"],AY=["radius"],mT,pT,gT,vT,yT,xT,bT,wT,jT,ST;function NT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _T(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NT(Object(r),!0).forEach(function(n){EY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EY(e,t,r){return(t=TY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TY(e){var t=OY(e,"string");return typeof t=="symbol"?t:t+""}function OY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zm(){return zm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zm.apply(null,arguments)}function kT(e,t){if(e==null)return{};var r,n,a=CY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function CY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function za(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var AT=(e,t,r,n,a)=>{var s=Ts(r),l=Ts(n),u=Math.min(Math.abs(s)/2,Math.abs(l)/2),f=l>=0?1:-1,h=s>=0?1:-1,m=l>=0&&s>=0||l<0&&s<0?1:0,g;if(u>0&&Array.isArray(a)){for(var v=[0,0,0,0],x=0,w=4;x<w;x++){var S,N=(S=a[x])!==null&&S!==void 0?S:0;v[x]=N>u?u:N}g=Ft(mT||(mT=za(["M",",",""])),e,t+f*v[0]),v[0]>0&&(g+=Ft(pT||(pT=za(["A ",",",",0,0,",",",",",""])),v[0],v[0],m,e+h*v[0],t)),g+=Ft(gT||(gT=za(["L ",",",""])),e+r-h*v[1],t),v[1]>0&&(g+=Ft(vT||(vT=za(["A ",",",",0,0,",`,
        `,",",""])),v[1],v[1],m,e+r,t+f*v[1])),g+=Ft(yT||(yT=za(["L ",",",""])),e+r,t+n-f*v[2]),v[2]>0&&(g+=Ft(xT||(xT=za(["A ",",",",0,0,",`,
        `,",",""])),v[2],v[2],m,e+r-h*v[2],t+n)),g+=Ft(bT||(bT=za(["L ",",",""])),e+h*v[3],t+n),v[3]>0&&(g+=Ft(wT||(wT=za(["A ",",",",0,0,",`,
        `,",",""])),v[3],v[3],m,e,t+n-f*v[3])),g+="Z"}else if(u>0&&a===+a&&a>0){var _=Math.min(u,a);g=Ft(jT||(jT=za(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+f*_,_,_,m,e+h*_,t,e+r-h*_,t,_,_,m,e+r,t+f*_,e+r,t+n-f*_,_,_,m,e+r-h*_,t+n,e+h*_,t+n,_,_,m,e,t+n-f*_)}else g=Ft(ST||(ST=za(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return g},ET={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},U5=e=>{var t=mr(e,ET),r=y.useRef(null),[n,a]=y.useState(-1);y.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var ee=r.current.getTotalLength();ee&&a(ee)}catch{}},[]);var{x:s,y:l,width:u,height:f,radius:h,className:m}=t,{animationEasing:g,animationDuration:v,animationBegin:x,isAnimationActive:w,isUpdateAnimationActive:S}=t,N=y.useRef(u),_=y.useRef(f),A=y.useRef(s),k=y.useRef(l),O=y.useMemo(()=>({x:s,y:l,width:u,height:f,radius:h}),[s,l,u,f,h]),M=eg(O,"rectangle-");if(s!==+s||l!==+l||u!==+u||f!==+f||u===0||f===0)return null;var C=it("recharts-rectangle",m);if(!S){var D=fr(t),{radius:L}=D,V=kT(D,kY);return y.createElement("path",zm({},V,{x:Ts(s),y:Ts(l),width:Ts(u),height:Ts(f),radius:typeof h=="number"?h:void 0,className:C,d:AT(s,l,u,f,h)}))}var te=N.current,W=_.current,K=A.current,Se=k.current,be="0px ".concat(n===-1?1:n,"px"),Ae="".concat(n,"px 0px"),Y=R5(["strokeDasharray"],v,typeof g=="string"?g:ET.animationEasing);return y.createElement(Jp,{animationId:M,key:M,canBegin:n>0,duration:v,easing:g,isActive:S,begin:x},ee=>{var ce=Mr(te,u,ee),we=Mr(W,f,ee),G=Mr(K,s,ee),T=Mr(Se,l,ee);r.current&&(N.current=ce,_.current=we,A.current=G,k.current=T);var I;w?ee>0?I={transition:Y,strokeDasharray:Ae}:I={strokeDasharray:be}:I={strokeDasharray:Ae};var $=fr(t),{radius:B}=$,Z=kT($,AY);return y.createElement("path",zm({},Z,{radius:typeof h=="number"?h:void 0,className:C,d:AT(G,T,ce,we,h),ref:r,style:_T(_T({},I),t.style)}))})};function TT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function OT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TT(Object(r),!0).forEach(function(n){PY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PY(e,t,r){return(t=DY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DY(e){var t=MY(e,"string");return typeof t=="symbol"?t:t+""}function MY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qm=Math.PI/180,Vm=e=>e*Math.PI/180,RY=e=>e*180/Math.PI,Nt=(e,t,r,n)=>({x:e+Math.cos(-qm*n)*r,y:t+Math.sin(-qm*n)*r}),IY=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},LY=(e,t)=>{var{x:r,y:n}=e,{x:a,y:s}=t;return Math.sqrt((r-a)**2+(n-s)**2)},$Y=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:s}=t,l=LY({x:r,y:n},{x:a,y:s});if(l<=0)return{radius:l,angle:0};var u=(r-a)/l,f=Math.acos(u);return n>s&&(f=2*Math.PI-f),{radius:l,angle:RY(f),angleInRadian:f}},UY=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),s=Math.min(n,a);return{startAngle:t-s*360,endAngle:r-s*360}},BY=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),s=Math.floor(n/360),l=Math.min(a,s);return e+l*360},zY=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:s}=$Y({x:r,y:n},t),{innerRadius:l,outerRadius:u}=t;if(a<l||a>u||a===0)return null;var{startAngle:f,endAngle:h}=UY(t),m=s,g;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;g=m>=h&&m<=f}return g?OT(OT({},t),{},{radius:a,angle:BY(m,t)}):null};function B5(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:s}=e,l=Nt(t,r,n,a),u=Nt(t,r,n,s);return{points:[l,u],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}var CT,PT,DT,MT,RT,IT,LT;function Wb(){return Wb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wb.apply(null,arguments)}function bo(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var qY=(e,t)=>{var r=ta(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Uh=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:s,isExternal:l,cornerRadius:u,cornerIsExternal:f}=e,h=u*(l?1:-1)+n,m=Math.asin(u/h)/qm,g=f?a:a+s*m,v=Nt(t,r,h,g),x=Nt(t,r,n,g),w=f?a-s*m:a,S=Nt(t,r,h*Math.cos(m*qm),w);return{center:v,circleTangency:x,lineTangency:S,theta:m}},z5=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:s,endAngle:l}=e,u=qY(s,l),f=s+u,h=Nt(t,r,a,s),m=Nt(t,r,a,f),g=Ft(CT||(CT=bo(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),h.x,h.y,a,a,+(Math.abs(u)>180),+(s>f),m.x,m.y);if(n>0){var v=Nt(t,r,n,s),x=Nt(t,r,n,f);g+=Ft(PT||(PT=bo(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),x.x,x.y,n,n,+(Math.abs(u)>180),+(s<=f),v.x,v.y)}else g+=Ft(DT||(DT=bo(["L ",","," Z"])),t,r);return g},VY=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:h}=e,m=ta(h-f),{circleTangency:g,lineTangency:v,theta:x}=Uh({cx:t,cy:r,radius:a,angle:f,sign:m,cornerRadius:s,cornerIsExternal:u}),{circleTangency:w,lineTangency:S,theta:N}=Uh({cx:t,cy:r,radius:a,angle:h,sign:-m,cornerRadius:s,cornerIsExternal:u}),_=u?Math.abs(f-h):Math.abs(f-h)-x-N;if(_<0)return l?Ft(MT||(MT=bo(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),v.x,v.y,s,s,s*2,s,s,-s*2):z5({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:f,endAngle:h});var A=Ft(RT||(RT=bo(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),v.x,v.y,s,s,+(m<0),g.x,g.y,a,a,+(_>180),+(m<0),w.x,w.y,s,s,+(m<0),S.x,S.y);if(n>0){var{circleTangency:k,lineTangency:O,theta:M}=Uh({cx:t,cy:r,radius:n,angle:f,sign:m,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),{circleTangency:C,lineTangency:D,theta:L}=Uh({cx:t,cy:r,radius:n,angle:h,sign:-m,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),V=u?Math.abs(f-h):Math.abs(f-h)-M-L;if(V<0&&s===0)return"".concat(A,"L").concat(t,",").concat(r,"Z");A+=Ft(IT||(IT=bo(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),D.x,D.y,s,s,+(m<0),C.x,C.y,n,n,+(V>180),+(m>0),k.x,k.y,s,s,+(m<0),O.x,O.y)}else A+=Ft(LT||(LT=bo(["L",",","Z"])),t,r);return A},HY={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},q5=e=>{var t=mr(e,HY),{cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:f,startAngle:h,endAngle:m,className:g}=t;if(s<a||h===m)return null;var v=it("recharts-sector",g),x=s-a,w=Ms(l,x,0,!0),S;return w>0&&Math.abs(h-m)<360?S=VY({cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:Math.min(w,x/2),forceCornerRadius:u,cornerIsExternal:f,startAngle:h,endAngle:m}):S=z5({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:h,endAngle:m}),y.createElement("path",Wb({},fr(t),{className:v,d:S}))};function FY(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(SR(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:s,outerRadius:l,angle:u}=t,f=Nt(n,a,s,u),h=Nt(n,a,l,u);return[{x:f.x,y:f.y},{x:h.x,y:h.y}]}return B5(t)}}var ox={},lx={},cx={},$T;function KY(){return $T||($T=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PR();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(cx)),cx}var UT;function GY(){return UT||(UT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KY();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(lx)),lx}var BT;function WY(){return BT||(BT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DR(),r=GY();function n(a,s,l){l&&typeof l!="number"&&t.isIterateeCall(a,s,l)&&(s=l=void 0),a=r.toFinite(a),s===void 0?(s=a,a=0):s=r.toFinite(s),l=l===void 0?a<s?1:-1:r.toFinite(l);const u=Math.max(Math.ceil((s-a)/(l||1)),0),f=new Array(u);for(let h=0;h<u;h++)f[h]=a,a+=l;return f}e.range=n})(ox)),ox}var ux,zT;function YY(){return zT||(zT=1,ux=WY().range),ux}var XY=YY();const V5=Ca(XY);function Cs(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ZY(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ej(e){let t,r,n;e.length!==2?(t=Cs,r=(u,f)=>Cs(e(u),f),n=(u,f)=>e(u)-f):(t=e===Cs||e===ZY?e:QY,r=e,n=e);function a(u,f,h=0,m=u.length){if(h<m){if(t(f,f)!==0)return m;do{const g=h+m>>>1;r(u[g],f)<0?h=g+1:m=g}while(h<m)}return h}function s(u,f,h=0,m=u.length){if(h<m){if(t(f,f)!==0)return m;do{const g=h+m>>>1;r(u[g],f)<=0?h=g+1:m=g}while(h<m)}return h}function l(u,f,h=0,m=u.length){const g=a(u,f,h,m-1);return g>h&&n(u[g-1],f)>-n(u[g],f)?g-1:g}return{left:a,center:l,right:s}}function QY(){return 0}function H5(e){return e===null?NaN:+e}function*JY(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const eX=Ej(Cs),Hd=eX.right;Ej(H5).center;class qT extends Map{constructor(t,r=nX){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(VT(this,t))}has(t){return super.has(VT(this,t))}set(t,r){return super.set(tX(this,t),r)}delete(t){return super.delete(rX(this,t))}}function VT({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function tX({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function rX({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function nX(e){return e!==null&&typeof e=="object"?e.valueOf():e}function aX(e=Cs){if(e===Cs)return F5;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function F5(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const iX=Math.sqrt(50),sX=Math.sqrt(10),oX=Math.sqrt(2);function Hm(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),l=s>=iX?10:s>=sX?5:s>=oX?2:1;let u,f,h;return a<0?(h=Math.pow(10,-a)/l,u=Math.round(e*h),f=Math.round(t*h),u/h<e&&++u,f/h>t&&--f,h=-h):(h=Math.pow(10,a)*l,u=Math.round(e/h),f=Math.round(t/h),u*h<e&&++u,f*h>t&&--f),f<u&&.5<=r&&r<2?Hm(e,t,r*2):[u,f,h]}function Yb(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,l]=n?Hm(t,e,r):Hm(e,t,r);if(!(s>=a))return[];const u=s-a+1,f=new Array(u);if(n)if(l<0)for(let h=0;h<u;++h)f[h]=(s-h)/-l;else for(let h=0;h<u;++h)f[h]=(s-h)*l;else if(l<0)for(let h=0;h<u;++h)f[h]=(a+h)/-l;else for(let h=0;h<u;++h)f[h]=(a+h)*l;return f}function Xb(e,t,r){return t=+t,e=+e,r=+r,Hm(e,t,r)[2]}function Zb(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Xb(t,e,r):Xb(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function HT(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function FT(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function K5(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?F5:aX(a);n>r;){if(n-r>600){const f=n-r+1,h=t-r+1,m=Math.log(f),g=.5*Math.exp(2*m/3),v=.5*Math.sqrt(m*g*(f-g)/f)*(h-f/2<0?-1:1),x=Math.max(r,Math.floor(t-h*g/f+v)),w=Math.min(n,Math.floor(t+(f-h)*g/f+v));K5(e,t,x,w,a)}const s=e[t];let l=r,u=n;for(Ou(e,r,t),a(e[n],s)>0&&Ou(e,r,n);l<u;){for(Ou(e,l,u),++l,--u;a(e[l],s)<0;)++l;for(;a(e[u],s)>0;)--u}a(e[r],s)===0?Ou(e,r,u):(++u,Ou(e,u,n)),u<=t&&(r=u+1),t<=u&&(n=u-1)}return e}function Ou(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function lX(e,t,r){if(e=Float64Array.from(JY(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return FT(e);if(t>=1)return HT(e);var n,a=(n-1)*t,s=Math.floor(a),l=HT(K5(e,s).subarray(0,s+1)),u=FT(e.subarray(s+1));return l+(u-l)*(a-s)}}function cX(e,t,r=H5){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),l=+r(e[s],s,e),u=+r(e[s+1],s+1,e);return l+(u-l)*(a-s)}}function uX(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function la(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Gi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Qb=Symbol("implicit");function Tj(){var e=new qT,t=[],r=[],n=Qb;function a(s){let l=e.get(s);if(l===void 0){if(n!==Qb)return n;e.set(s,l=t.push(s)-1)}return r[l%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new qT;for(const l of s)e.has(l)||e.set(l,t.push(l)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return Tj(t,r).unknown(n)},la.apply(a,arguments),a}function Oj(){var e=Tj().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,l,u=!1,f=0,h=0,m=.5;delete e.unknown;function g(){var v=t().length,x=a<n,w=x?a:n,S=x?n:a;s=(S-w)/Math.max(1,v-f+h*2),u&&(s=Math.floor(s)),w+=(S-w-s*(v-f))*m,l=s*(1-f),u&&(w=Math.round(w),l=Math.round(l));var N=uX(v).map(function(_){return w+s*_});return r(x?N.reverse():N)}return e.domain=function(v){return arguments.length?(t(v),g()):t()},e.range=function(v){return arguments.length?([n,a]=v,n=+n,a=+a,g()):[n,a]},e.rangeRound=function(v){return[n,a]=v,n=+n,a=+a,u=!0,g()},e.bandwidth=function(){return l},e.step=function(){return s},e.round=function(v){return arguments.length?(u=!!v,g()):u},e.padding=function(v){return arguments.length?(f=Math.min(1,h=+v),g()):f},e.paddingInner=function(v){return arguments.length?(f=Math.min(1,v),g()):f},e.paddingOuter=function(v){return arguments.length?(h=+v,g()):h},e.align=function(v){return arguments.length?(m=Math.max(0,Math.min(1,v)),g()):m},e.copy=function(){return Oj(t(),[n,a]).round(u).paddingInner(f).paddingOuter(h).align(m)},la.apply(g(),arguments)}function G5(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return G5(t())},e}function dX(){return G5(Oj.apply(null,arguments).paddingInner(1))}function Cj(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function W5(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Fd(){}var gd=.7,Fm=1/gd,rc="\\s*([+-]?\\d+)\\s*",vd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ga="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fX=/^#([0-9a-f]{3,8})$/,hX=new RegExp(`^rgb\\(${rc},${rc},${rc}\\)$`),mX=new RegExp(`^rgb\\(${Ga},${Ga},${Ga}\\)$`),pX=new RegExp(`^rgba\\(${rc},${rc},${rc},${vd}\\)$`),gX=new RegExp(`^rgba\\(${Ga},${Ga},${Ga},${vd}\\)$`),vX=new RegExp(`^hsl\\(${vd},${Ga},${Ga}\\)$`),yX=new RegExp(`^hsla\\(${vd},${Ga},${Ga},${vd}\\)$`),KT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Cj(Fd,yd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:GT,formatHex:GT,formatHex8:xX,formatHsl:bX,formatRgb:WT,toString:WT});function GT(){return this.rgb().formatHex()}function xX(){return this.rgb().formatHex8()}function bX(){return Y5(this).formatHsl()}function WT(){return this.rgb().formatRgb()}function yd(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=fX.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?YT(t):r===3?new xn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Bh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Bh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=hX.exec(e))?new xn(t[1],t[2],t[3],1):(t=mX.exec(e))?new xn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=pX.exec(e))?Bh(t[1],t[2],t[3],t[4]):(t=gX.exec(e))?Bh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=vX.exec(e))?QT(t[1],t[2]/100,t[3]/100,1):(t=yX.exec(e))?QT(t[1],t[2]/100,t[3]/100,t[4]):KT.hasOwnProperty(e)?YT(KT[e]):e==="transparent"?new xn(NaN,NaN,NaN,0):null}function YT(e){return new xn(e>>16&255,e>>8&255,e&255,1)}function Bh(e,t,r,n){return n<=0&&(e=t=r=NaN),new xn(e,t,r,n)}function wX(e){return e instanceof Fd||(e=yd(e)),e?(e=e.rgb(),new xn(e.r,e.g,e.b,e.opacity)):new xn}function Jb(e,t,r,n){return arguments.length===1?wX(e):new xn(e,t,r,n??1)}function xn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Cj(xn,Jb,W5(Fd,{brighter(e){return e=e==null?Fm:Math.pow(Fm,e),new xn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?gd:Math.pow(gd,e),new xn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new xn(Ao(this.r),Ao(this.g),Ao(this.b),Km(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:XT,formatHex:XT,formatHex8:jX,formatRgb:ZT,toString:ZT}));function XT(){return`#${wo(this.r)}${wo(this.g)}${wo(this.b)}`}function jX(){return`#${wo(this.r)}${wo(this.g)}${wo(this.b)}${wo((isNaN(this.opacity)?1:this.opacity)*255)}`}function ZT(){const e=Km(this.opacity);return`${e===1?"rgb(":"rgba("}${Ao(this.r)}, ${Ao(this.g)}, ${Ao(this.b)}${e===1?")":`, ${e})`}`}function Km(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ao(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function wo(e){return e=Ao(e),(e<16?"0":"")+e.toString(16)}function QT(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Na(e,t,r,n)}function Y5(e){if(e instanceof Na)return new Na(e.h,e.s,e.l,e.opacity);if(e instanceof Fd||(e=yd(e)),!e)return new Na;if(e instanceof Na)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),l=NaN,u=s-a,f=(s+a)/2;return u?(t===s?l=(r-n)/u+(r<n)*6:r===s?l=(n-t)/u+2:l=(t-r)/u+4,u/=f<.5?s+a:2-s-a,l*=60):u=f>0&&f<1?0:l,new Na(l,u,f,e.opacity)}function SX(e,t,r,n){return arguments.length===1?Y5(e):new Na(e,t,r,n??1)}function Na(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Cj(Na,SX,W5(Fd,{brighter(e){return e=e==null?Fm:Math.pow(Fm,e),new Na(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?gd:Math.pow(gd,e),new Na(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new xn(dx(e>=240?e-240:e+120,a,n),dx(e,a,n),dx(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Na(JT(this.h),zh(this.s),zh(this.l),Km(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Km(this.opacity);return`${e===1?"hsl(":"hsla("}${JT(this.h)}, ${zh(this.s)*100}%, ${zh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function JT(e){return e=(e||0)%360,e<0?e+360:e}function zh(e){return Math.max(0,Math.min(1,e||0))}function dx(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Pj=e=>()=>e;function NX(e,t){return function(r){return e+r*t}}function _X(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function kX(e){return(e=+e)==1?X5:function(t,r){return r-t?_X(t,r,e):Pj(isNaN(t)?r:t)}}function X5(e,t){var r=t-e;return r?NX(e,r):Pj(isNaN(e)?t:e)}const eO=(function e(t){var r=kX(t);function n(a,s){var l=r((a=Jb(a)).r,(s=Jb(s)).r),u=r(a.g,s.g),f=r(a.b,s.b),h=X5(a.opacity,s.opacity);return function(m){return a.r=l(m),a.g=u(m),a.b=f(m),a.opacity=h(m),a+""}}return n.gamma=e,n})(1);function AX(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function EX(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function TX(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),l;for(l=0;l<n;++l)a[l]=yc(e[l],t[l]);for(;l<r;++l)s[l]=t[l];return function(u){for(l=0;l<n;++l)s[l]=a[l](u);return s}}function OX(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Gm(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function CX(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=yc(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var ew=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fx=new RegExp(ew.source,"g");function PX(e){return function(){return e}}function DX(e){return function(t){return e(t)+""}}function MX(e,t){var r=ew.lastIndex=fx.lastIndex=0,n,a,s,l=-1,u=[],f=[];for(e=e+"",t=t+"";(n=ew.exec(e))&&(a=fx.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),u[l]?u[l]+=s:u[++l]=s),(n=n[0])===(a=a[0])?u[l]?u[l]+=a:u[++l]=a:(u[++l]=null,f.push({i:l,x:Gm(n,a)})),r=fx.lastIndex;return r<t.length&&(s=t.slice(r),u[l]?u[l]+=s:u[++l]=s),u.length<2?f[0]?DX(f[0].x):PX(t):(t=f.length,function(h){for(var m=0,g;m<t;++m)u[(g=f[m]).i]=g.x(h);return u.join("")})}function yc(e,t){var r=typeof t,n;return t==null||r==="boolean"?Pj(t):(r==="number"?Gm:r==="string"?(n=yd(t))?(t=n,eO):MX:t instanceof yd?eO:t instanceof Date?OX:EX(t)?AX:Array.isArray(t)?TX:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?CX:Gm)(e,t)}function Dj(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function RX(e,t){t===void 0&&(t=e,e=yc);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(l){var u=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return s[u](l-u)}}function IX(e){return function(){return e}}function Wm(e){return+e}var tO=[0,1];function on(e){return e}function tw(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:IX(isNaN(t)?NaN:.5)}function LX(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function $X(e,t,r){var n=e[0],a=e[1],s=t[0],l=t[1];return a<n?(n=tw(a,n),s=r(l,s)):(n=tw(n,a),s=r(s,l)),function(u){return s(n(u))}}function UX(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),l=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<n;)a[l]=tw(e[l],e[l+1]),s[l]=r(t[l],t[l+1]);return function(u){var f=Hd(e,u,1,n)-1;return s[f](a[f](u))}}function Kd(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function tg(){var e=tO,t=tO,r=yc,n,a,s,l=on,u,f,h;function m(){var v=Math.min(e.length,t.length);return l!==on&&(l=LX(e[0],e[v-1])),u=v>2?UX:$X,f=h=null,g}function g(v){return v==null||isNaN(v=+v)?s:(f||(f=u(e.map(n),t,r)))(n(l(v)))}return g.invert=function(v){return l(a((h||(h=u(t,e.map(n),Gm)))(v)))},g.domain=function(v){return arguments.length?(e=Array.from(v,Wm),m()):e.slice()},g.range=function(v){return arguments.length?(t=Array.from(v),m()):t.slice()},g.rangeRound=function(v){return t=Array.from(v),r=Dj,m()},g.clamp=function(v){return arguments.length?(l=v?!0:on,m()):l!==on},g.interpolate=function(v){return arguments.length?(r=v,m()):r},g.unknown=function(v){return arguments.length?(s=v,g):s},function(v,x){return n=v,a=x,m()}}function Mj(){return tg()(on,on)}function BX(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ym(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function lc(e){return e=Ym(Math.abs(e)),e?e[1]:NaN}function zX(e,t){return function(r,n){for(var a=r.length,s=[],l=0,u=e[0],f=0;a>0&&u>0&&(f+u+1>n&&(u=Math.max(1,n-f)),s.push(r.substring(a-=u,a+u)),!((f+=u+1)>n));)u=e[l=(l+1)%e.length];return s.reverse().join(t)}}function qX(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var VX=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function xd(e){if(!(t=VX.exec(e)))throw new Error("invalid format: "+e);var t;return new Rj({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}xd.prototype=Rj.prototype;function Rj(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Rj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function HX(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var Xm;function FX(e,t){var r=Ym(e,t);if(!r)return Xm=void 0,e.toPrecision(t);var n=r[0],a=r[1],s=a-(Xm=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=n.length;return s===l?n:s>l?n+new Array(s-l+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Ym(e,Math.max(0,t+s-1))[0]}function rO(e,t){var r=Ym(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const nO={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:BX,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>rO(e*100,t),r:rO,s:FX,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function aO(e){return e}var iO=Array.prototype.map,sO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function KX(e){var t=e.grouping===void 0||e.thousands===void 0?aO:zX(iO.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?aO:qX(iO.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function h(g,v){g=xd(g);var x=g.fill,w=g.align,S=g.sign,N=g.symbol,_=g.zero,A=g.width,k=g.comma,O=g.precision,M=g.trim,C=g.type;C==="n"?(k=!0,C="g"):nO[C]||(O===void 0&&(O=12),M=!0,C="g"),(_||x==="0"&&w==="=")&&(_=!0,x="0",w="=");var D=(v&&v.prefix!==void 0?v.prefix:"")+(N==="$"?r:N==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():""),L=(N==="$"?n:/[%p]/.test(C)?l:"")+(v&&v.suffix!==void 0?v.suffix:""),V=nO[C],te=/[defgprs%]/.test(C);O=O===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function W(K){var Se=D,be=L,Ae,Y,ee;if(C==="c")be=V(K)+be,K="";else{K=+K;var ce=K<0||1/K<0;if(K=isNaN(K)?f:V(Math.abs(K),O),M&&(K=HX(K)),ce&&+K==0&&S!=="+"&&(ce=!1),Se=(ce?S==="("?S:u:S==="-"||S==="("?"":S)+Se,be=(C==="s"&&!isNaN(K)&&Xm!==void 0?sO[8+Xm/3]:"")+be+(ce&&S==="("?")":""),te){for(Ae=-1,Y=K.length;++Ae<Y;)if(ee=K.charCodeAt(Ae),48>ee||ee>57){be=(ee===46?a+K.slice(Ae+1):K.slice(Ae))+be,K=K.slice(0,Ae);break}}}k&&!_&&(K=t(K,1/0));var we=Se.length+K.length+be.length,G=we<A?new Array(A-we+1).join(x):"";switch(k&&_&&(K=t(G+K,G.length?A-be.length:1/0),G=""),w){case"<":K=Se+K+be+G;break;case"=":K=Se+G+K+be;break;case"^":K=G.slice(0,we=G.length>>1)+Se+K+be+G.slice(we);break;default:K=G+Se+K+be;break}return s(K)}return W.toString=function(){return g+""},W}function m(g,v){var x=Math.max(-8,Math.min(8,Math.floor(lc(v)/3)))*3,w=Math.pow(10,-x),S=h((g=xd(g),g.type="f",g),{suffix:sO[8+x/3]});return function(N){return S(w*N)}}return{format:h,formatPrefix:m}}var qh,Ij,Z5;GX({thousands:",",grouping:[3],currency:["$",""]});function GX(e){return qh=KX(e),Ij=qh.format,Z5=qh.formatPrefix,qh}function WX(e){return Math.max(0,-lc(Math.abs(e)))}function YX(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(lc(t)/3)))*3-lc(Math.abs(e)))}function XX(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,lc(t)-lc(e))+1}function Q5(e,t,r,n){var a=Zb(e,t,r),s;switch(n=xd(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=YX(a,l))&&(n.precision=s),Z5(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=XX(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=WX(a))&&(n.precision=s-(n.type==="%")*2);break}}return Ij(n)}function $s(e){var t=e.domain;return e.ticks=function(r){var n=t();return Yb(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return Q5(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,l=n[a],u=n[s],f,h,m=10;for(u<l&&(h=l,l=u,u=h,h=a,a=s,s=h);m-- >0;){if(h=Xb(l,u,r),h===f)return n[a]=l,n[s]=u,t(n);if(h>0)l=Math.floor(l/h)*h,u=Math.ceil(u/h)*h;else if(h<0)l=Math.ceil(l*h)/h,u=Math.floor(u*h)/h;else break;f=h}return e},e}function J5(){var e=Mj();return e.copy=function(){return Kd(e,J5())},la.apply(e,arguments),$s(e)}function e4(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Wm),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return e4(e).unknown(t)},e=arguments.length?Array.from(e,Wm):[0,1],$s(r)}function t4(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],l;return s<a&&(l=r,r=n,n=l,l=a,a=s,s=l),e[r]=t.floor(a),e[n]=t.ceil(s),e}function oO(e){return Math.log(e)}function lO(e){return Math.exp(e)}function ZX(e){return-Math.log(-e)}function QX(e){return-Math.exp(-e)}function JX(e){return isFinite(e)?+("1e"+e):e<0?0:e}function eZ(e){return e===10?JX:e===Math.E?Math.exp:t=>Math.pow(e,t)}function tZ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function cO(e){return(t,r)=>-e(-t,r)}function Lj(e){const t=e(oO,lO),r=t.domain;let n=10,a,s;function l(){return a=tZ(n),s=eZ(n),r()[0]<0?(a=cO(a),s=cO(s),e(ZX,QX)):e(oO,lO),t}return t.base=function(u){return arguments.length?(n=+u,l()):n},t.domain=function(u){return arguments.length?(r(u),l()):r()},t.ticks=u=>{const f=r();let h=f[0],m=f[f.length-1];const g=m<h;g&&([h,m]=[m,h]);let v=a(h),x=a(m),w,S;const N=u==null?10:+u;let _=[];if(!(n%1)&&x-v<N){if(v=Math.floor(v),x=Math.ceil(x),h>0){for(;v<=x;++v)for(w=1;w<n;++w)if(S=v<0?w/s(-v):w*s(v),!(S<h)){if(S>m)break;_.push(S)}}else for(;v<=x;++v)for(w=n-1;w>=1;--w)if(S=v>0?w/s(-v):w*s(v),!(S<h)){if(S>m)break;_.push(S)}_.length*2<N&&(_=Yb(h,m,N))}else _=Yb(v,x,Math.min(x-v,N)).map(s);return g?_.reverse():_},t.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=n===10?"s":","),typeof f!="function"&&(!(n%1)&&(f=xd(f)).precision==null&&(f.trim=!0),f=Ij(f)),u===1/0)return f;const h=Math.max(1,n*u/t.ticks().length);return m=>{let g=m/s(Math.round(a(m)));return g*n<n-.5&&(g*=n),g<=h?f(m):""}},t.nice=()=>r(t4(r(),{floor:u=>s(Math.floor(a(u))),ceil:u=>s(Math.ceil(a(u)))})),t}function r4(){const e=Lj(tg()).domain([1,10]);return e.copy=()=>Kd(e,r4()).base(e.base()),la.apply(e,arguments),e}function uO(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function dO(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function $j(e){var t=1,r=e(uO(t),dO(t));return r.constant=function(n){return arguments.length?e(uO(t=+n),dO(t)):t},$s(r)}function n4(){var e=$j(tg());return e.copy=function(){return Kd(e,n4()).constant(e.constant())},la.apply(e,arguments)}function fO(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function rZ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function nZ(e){return e<0?-e*e:e*e}function Uj(e){var t=e(on,on),r=1;function n(){return r===1?e(on,on):r===.5?e(rZ,nZ):e(fO(r),fO(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},$s(t)}function Bj(){var e=Uj(tg());return e.copy=function(){return Kd(e,Bj()).exponent(e.exponent())},la.apply(e,arguments),e}function aZ(){return Bj.apply(null,arguments).exponent(.5)}function hO(e){return Math.sign(e)*e*e}function iZ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function a4(){var e=Mj(),t=[0,1],r=!1,n;function a(s){var l=iZ(e(s));return isNaN(l)?n:r?Math.round(l):l}return a.invert=function(s){return e.invert(hO(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,Wm)).map(hO)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return a4(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},la.apply(a,arguments),$s(a)}function i4(){var e=[],t=[],r=[],n;function a(){var l=0,u=Math.max(1,t.length);for(r=new Array(u-1);++l<u;)r[l-1]=cX(e,l/u);return s}function s(l){return l==null||isNaN(l=+l)?n:t[Hd(r,l)]}return s.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?r[u-1]:e[0],u<r.length?r[u]:e[e.length-1]]},s.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let u of l)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Cs),a()},s.range=function(l){return arguments.length?(t=Array.from(l),a()):t.slice()},s.unknown=function(l){return arguments.length?(n=l,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return i4().domain(e).range(t).unknown(n)},la.apply(s,arguments)}function s4(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function l(f){return f!=null&&f<=f?a[Hd(n,f,0,r)]:s}function u(){var f=-1;for(n=new Array(r);++f<r;)n[f]=((f+1)*t-(f-r)*e)/(r+1);return l}return l.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,u()):[e,t]},l.range=function(f){return arguments.length?(r=(a=Array.from(f)).length-1,u()):a.slice()},l.invertExtent=function(f){var h=a.indexOf(f);return h<0?[NaN,NaN]:h<1?[e,n[0]]:h>=r?[n[r-1],t]:[n[h-1],n[h]]},l.unknown=function(f){return arguments.length&&(s=f),l},l.thresholds=function(){return n.slice()},l.copy=function(){return s4().domain([e,t]).range(a).unknown(s)},la.apply($s(l),arguments)}function o4(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[Hd(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var l=t.indexOf(s);return[e[l-1],e[l]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return o4().domain(e).range(t).unknown(r)},la.apply(a,arguments)}const hx=new Date,mx=new Date;function _r(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const l=a(s),u=a.ceil(s);return s-l<u-s?l:u},a.offset=(s,l)=>(t(s=new Date(+s),l==null?1:Math.floor(l)),s),a.range=(s,l,u)=>{const f=[];if(s=a.ceil(s),u=u==null?1:Math.floor(u),!(s<l)||!(u>0))return f;let h;do f.push(h=new Date(+s)),t(s,u),e(s);while(h<s&&s<l);return f},a.filter=s=>_r(l=>{if(l>=l)for(;e(l),!s(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!s(l););else for(;--u>=0;)for(;t(l,1),!s(l););}),r&&(a.count=(s,l)=>(hx.setTime(+s),mx.setTime(+l),e(hx),e(mx),Math.floor(r(hx,mx))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?l=>n(l)%s===0:l=>a.count(0,l)%s===0):a)),a}const Zm=_r(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Zm.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?_r(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Zm);Zm.range;const Ni=1e3,ra=Ni*60,_i=ra*60,Ii=_i*24,zj=Ii*7,mO=Ii*30,px=Ii*365,jo=_r(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ni)},(e,t)=>(t-e)/Ni,e=>e.getUTCSeconds());jo.range;const qj=_r(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ni)},(e,t)=>{e.setTime(+e+t*ra)},(e,t)=>(t-e)/ra,e=>e.getMinutes());qj.range;const Vj=_r(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ra)},(e,t)=>(t-e)/ra,e=>e.getUTCMinutes());Vj.range;const Hj=_r(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ni-e.getMinutes()*ra)},(e,t)=>{e.setTime(+e+t*_i)},(e,t)=>(t-e)/_i,e=>e.getHours());Hj.range;const Fj=_r(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*_i)},(e,t)=>(t-e)/_i,e=>e.getUTCHours());Fj.range;const Gd=_r(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ra)/Ii,e=>e.getDate()-1);Gd.range;const rg=_r(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ii,e=>e.getUTCDate()-1);rg.range;const l4=_r(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ii,e=>Math.floor(e/Ii));l4.range;function zo(e){return _r(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ra)/zj)}const ng=zo(0),Qm=zo(1),sZ=zo(2),oZ=zo(3),cc=zo(4),lZ=zo(5),cZ=zo(6);ng.range;Qm.range;sZ.range;oZ.range;cc.range;lZ.range;cZ.range;function qo(e){return _r(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/zj)}const ag=qo(0),Jm=qo(1),uZ=qo(2),dZ=qo(3),uc=qo(4),fZ=qo(5),hZ=qo(6);ag.range;Jm.range;uZ.range;dZ.range;uc.range;fZ.range;hZ.range;const Kj=_r(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Kj.range;const Gj=_r(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Gj.range;const Li=_r(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Li.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:_r(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Li.range;const $i=_r(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());$i.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:_r(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});$i.range;function c4(e,t,r,n,a,s){const l=[[jo,1,Ni],[jo,5,5*Ni],[jo,15,15*Ni],[jo,30,30*Ni],[s,1,ra],[s,5,5*ra],[s,15,15*ra],[s,30,30*ra],[a,1,_i],[a,3,3*_i],[a,6,6*_i],[a,12,12*_i],[n,1,Ii],[n,2,2*Ii],[r,1,zj],[t,1,mO],[t,3,3*mO],[e,1,px]];function u(h,m,g){const v=m<h;v&&([h,m]=[m,h]);const x=g&&typeof g.range=="function"?g:f(h,m,g),w=x?x.range(h,+m+1):[];return v?w.reverse():w}function f(h,m,g){const v=Math.abs(m-h)/g,x=Ej(([,,N])=>N).right(l,v);if(x===l.length)return e.every(Zb(h/px,m/px,g));if(x===0)return Zm.every(Math.max(Zb(h,m,g),1));const[w,S]=l[v/l[x-1][2]<l[x][2]/v?x-1:x];return w.every(S)}return[u,f]}const[mZ,pZ]=c4($i,Gj,ag,l4,Fj,Vj),[gZ,vZ]=c4(Li,Kj,ng,Gd,Hj,qj);function gx(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function vx(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Cu(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function yZ(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,l=e.shortDays,u=e.months,f=e.shortMonths,h=Pu(a),m=Du(a),g=Pu(s),v=Du(s),x=Pu(l),w=Du(l),S=Pu(u),N=Du(u),_=Pu(f),A=Du(f),k={a:ee,A:ce,b:we,B:G,c:null,d:bO,e:bO,f:zZ,g:ZZ,G:JZ,H:$Z,I:UZ,j:BZ,L:u4,m:qZ,M:VZ,p:T,q:I,Q:SO,s:NO,S:HZ,u:FZ,U:KZ,V:GZ,w:WZ,W:YZ,x:null,X:null,y:XZ,Y:QZ,Z:eQ,"%":jO},O={a:$,A:B,b:Z,B:ue,c:null,d:wO,e:wO,f:aQ,g:mQ,G:gQ,H:tQ,I:rQ,j:nQ,L:f4,m:iQ,M:sQ,p:je,q:Oe,Q:SO,s:NO,S:oQ,u:lQ,U:cQ,V:uQ,w:dQ,W:fQ,x:null,X:null,y:hQ,Y:pQ,Z:vQ,"%":jO},M={a:te,A:W,b:K,B:Se,c:be,d:yO,e:yO,f:MZ,g:vO,G:gO,H:xO,I:xO,j:OZ,L:DZ,m:TZ,M:CZ,p:V,q:EZ,Q:IZ,s:LZ,S:PZ,u:SZ,U:NZ,V:_Z,w:jZ,W:kZ,x:Ae,X:Y,y:vO,Y:gO,Z:AZ,"%":RZ};k.x=C(r,k),k.X=C(n,k),k.c=C(t,k),O.x=C(r,O),O.X=C(n,O),O.c=C(t,O);function C(Q,de){return function(Ee){var oe=[],qe=-1,Be=0,pe=Q.length,ke,he,Re;for(Ee instanceof Date||(Ee=new Date(+Ee));++qe<pe;)Q.charCodeAt(qe)===37&&(oe.push(Q.slice(Be,qe)),(he=pO[ke=Q.charAt(++qe)])!=null?ke=Q.charAt(++qe):he=ke==="e"?" ":"0",(Re=de[ke])&&(ke=Re(Ee,he)),oe.push(ke),Be=qe+1);return oe.push(Q.slice(Be,qe)),oe.join("")}}function D(Q,de){return function(Ee){var oe=Cu(1900,void 0,1),qe=L(oe,Q,Ee+="",0),Be,pe;if(qe!=Ee.length)return null;if("Q"in oe)return new Date(oe.Q);if("s"in oe)return new Date(oe.s*1e3+("L"in oe?oe.L:0));if(de&&!("Z"in oe)&&(oe.Z=0),"p"in oe&&(oe.H=oe.H%12+oe.p*12),oe.m===void 0&&(oe.m="q"in oe?oe.q:0),"V"in oe){if(oe.V<1||oe.V>53)return null;"w"in oe||(oe.w=1),"Z"in oe?(Be=vx(Cu(oe.y,0,1)),pe=Be.getUTCDay(),Be=pe>4||pe===0?Jm.ceil(Be):Jm(Be),Be=rg.offset(Be,(oe.V-1)*7),oe.y=Be.getUTCFullYear(),oe.m=Be.getUTCMonth(),oe.d=Be.getUTCDate()+(oe.w+6)%7):(Be=gx(Cu(oe.y,0,1)),pe=Be.getDay(),Be=pe>4||pe===0?Qm.ceil(Be):Qm(Be),Be=Gd.offset(Be,(oe.V-1)*7),oe.y=Be.getFullYear(),oe.m=Be.getMonth(),oe.d=Be.getDate()+(oe.w+6)%7)}else("W"in oe||"U"in oe)&&("w"in oe||(oe.w="u"in oe?oe.u%7:"W"in oe?1:0),pe="Z"in oe?vx(Cu(oe.y,0,1)).getUTCDay():gx(Cu(oe.y,0,1)).getDay(),oe.m=0,oe.d="W"in oe?(oe.w+6)%7+oe.W*7-(pe+5)%7:oe.w+oe.U*7-(pe+6)%7);return"Z"in oe?(oe.H+=oe.Z/100|0,oe.M+=oe.Z%100,vx(oe)):gx(oe)}}function L(Q,de,Ee,oe){for(var qe=0,Be=de.length,pe=Ee.length,ke,he;qe<Be;){if(oe>=pe)return-1;if(ke=de.charCodeAt(qe++),ke===37){if(ke=de.charAt(qe++),he=M[ke in pO?de.charAt(qe++):ke],!he||(oe=he(Q,Ee,oe))<0)return-1}else if(ke!=Ee.charCodeAt(oe++))return-1}return oe}function V(Q,de,Ee){var oe=h.exec(de.slice(Ee));return oe?(Q.p=m.get(oe[0].toLowerCase()),Ee+oe[0].length):-1}function te(Q,de,Ee){var oe=x.exec(de.slice(Ee));return oe?(Q.w=w.get(oe[0].toLowerCase()),Ee+oe[0].length):-1}function W(Q,de,Ee){var oe=g.exec(de.slice(Ee));return oe?(Q.w=v.get(oe[0].toLowerCase()),Ee+oe[0].length):-1}function K(Q,de,Ee){var oe=_.exec(de.slice(Ee));return oe?(Q.m=A.get(oe[0].toLowerCase()),Ee+oe[0].length):-1}function Se(Q,de,Ee){var oe=S.exec(de.slice(Ee));return oe?(Q.m=N.get(oe[0].toLowerCase()),Ee+oe[0].length):-1}function be(Q,de,Ee){return L(Q,t,de,Ee)}function Ae(Q,de,Ee){return L(Q,r,de,Ee)}function Y(Q,de,Ee){return L(Q,n,de,Ee)}function ee(Q){return l[Q.getDay()]}function ce(Q){return s[Q.getDay()]}function we(Q){return f[Q.getMonth()]}function G(Q){return u[Q.getMonth()]}function T(Q){return a[+(Q.getHours()>=12)]}function I(Q){return 1+~~(Q.getMonth()/3)}function $(Q){return l[Q.getUTCDay()]}function B(Q){return s[Q.getUTCDay()]}function Z(Q){return f[Q.getUTCMonth()]}function ue(Q){return u[Q.getUTCMonth()]}function je(Q){return a[+(Q.getUTCHours()>=12)]}function Oe(Q){return 1+~~(Q.getUTCMonth()/3)}return{format:function(Q){var de=C(Q+="",k);return de.toString=function(){return Q},de},parse:function(Q){var de=D(Q+="",!1);return de.toString=function(){return Q},de},utcFormat:function(Q){var de=C(Q+="",O);return de.toString=function(){return Q},de},utcParse:function(Q){var de=D(Q+="",!0);return de.toString=function(){return Q},de}}}var pO={"-":"",_:" ",0:"0"},Ir=/^\s*\d+/,xZ=/^%/,bZ=/[\\^$*+?|[\]().{}]/g;function mt(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function wZ(e){return e.replace(bZ,"\\$&")}function Pu(e){return new RegExp("^(?:"+e.map(wZ).join("|")+")","i")}function Du(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function jZ(e,t,r){var n=Ir.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function SZ(e,t,r){var n=Ir.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function NZ(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function _Z(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function kZ(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function gO(e,t,r){var n=Ir.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function vO(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function AZ(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function EZ(e,t,r){var n=Ir.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function TZ(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function yO(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function OZ(e,t,r){var n=Ir.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function xO(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function CZ(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function PZ(e,t,r){var n=Ir.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function DZ(e,t,r){var n=Ir.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function MZ(e,t,r){var n=Ir.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function RZ(e,t,r){var n=xZ.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function IZ(e,t,r){var n=Ir.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function LZ(e,t,r){var n=Ir.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function bO(e,t){return mt(e.getDate(),t,2)}function $Z(e,t){return mt(e.getHours(),t,2)}function UZ(e,t){return mt(e.getHours()%12||12,t,2)}function BZ(e,t){return mt(1+Gd.count(Li(e),e),t,3)}function u4(e,t){return mt(e.getMilliseconds(),t,3)}function zZ(e,t){return u4(e,t)+"000"}function qZ(e,t){return mt(e.getMonth()+1,t,2)}function VZ(e,t){return mt(e.getMinutes(),t,2)}function HZ(e,t){return mt(e.getSeconds(),t,2)}function FZ(e){var t=e.getDay();return t===0?7:t}function KZ(e,t){return mt(ng.count(Li(e)-1,e),t,2)}function d4(e){var t=e.getDay();return t>=4||t===0?cc(e):cc.ceil(e)}function GZ(e,t){return e=d4(e),mt(cc.count(Li(e),e)+(Li(e).getDay()===4),t,2)}function WZ(e){return e.getDay()}function YZ(e,t){return mt(Qm.count(Li(e)-1,e),t,2)}function XZ(e,t){return mt(e.getFullYear()%100,t,2)}function ZZ(e,t){return e=d4(e),mt(e.getFullYear()%100,t,2)}function QZ(e,t){return mt(e.getFullYear()%1e4,t,4)}function JZ(e,t){var r=e.getDay();return e=r>=4||r===0?cc(e):cc.ceil(e),mt(e.getFullYear()%1e4,t,4)}function eQ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+mt(t/60|0,"0",2)+mt(t%60,"0",2)}function wO(e,t){return mt(e.getUTCDate(),t,2)}function tQ(e,t){return mt(e.getUTCHours(),t,2)}function rQ(e,t){return mt(e.getUTCHours()%12||12,t,2)}function nQ(e,t){return mt(1+rg.count($i(e),e),t,3)}function f4(e,t){return mt(e.getUTCMilliseconds(),t,3)}function aQ(e,t){return f4(e,t)+"000"}function iQ(e,t){return mt(e.getUTCMonth()+1,t,2)}function sQ(e,t){return mt(e.getUTCMinutes(),t,2)}function oQ(e,t){return mt(e.getUTCSeconds(),t,2)}function lQ(e){var t=e.getUTCDay();return t===0?7:t}function cQ(e,t){return mt(ag.count($i(e)-1,e),t,2)}function h4(e){var t=e.getUTCDay();return t>=4||t===0?uc(e):uc.ceil(e)}function uQ(e,t){return e=h4(e),mt(uc.count($i(e),e)+($i(e).getUTCDay()===4),t,2)}function dQ(e){return e.getUTCDay()}function fQ(e,t){return mt(Jm.count($i(e)-1,e),t,2)}function hQ(e,t){return mt(e.getUTCFullYear()%100,t,2)}function mQ(e,t){return e=h4(e),mt(e.getUTCFullYear()%100,t,2)}function pQ(e,t){return mt(e.getUTCFullYear()%1e4,t,4)}function gQ(e,t){var r=e.getUTCDay();return e=r>=4||r===0?uc(e):uc.ceil(e),mt(e.getUTCFullYear()%1e4,t,4)}function vQ(){return"+0000"}function jO(){return"%"}function SO(e){return+e}function NO(e){return Math.floor(+e/1e3)}var $l,m4,p4;yQ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function yQ(e){return $l=yZ(e),m4=$l.format,$l.parse,p4=$l.utcFormat,$l.utcParse,$l}function xQ(e){return new Date(e)}function bQ(e){return e instanceof Date?+e:+new Date(+e)}function Wj(e,t,r,n,a,s,l,u,f,h){var m=Mj(),g=m.invert,v=m.domain,x=h(".%L"),w=h(":%S"),S=h("%I:%M"),N=h("%I %p"),_=h("%a %d"),A=h("%b %d"),k=h("%B"),O=h("%Y");function M(C){return(f(C)<C?x:u(C)<C?w:l(C)<C?S:s(C)<C?N:n(C)<C?a(C)<C?_:A:r(C)<C?k:O)(C)}return m.invert=function(C){return new Date(g(C))},m.domain=function(C){return arguments.length?v(Array.from(C,bQ)):v().map(xQ)},m.ticks=function(C){var D=v();return e(D[0],D[D.length-1],C??10)},m.tickFormat=function(C,D){return D==null?M:h(D)},m.nice=function(C){var D=v();return(!C||typeof C.range!="function")&&(C=t(D[0],D[D.length-1],C??10)),C?v(t4(D,C)):m},m.copy=function(){return Kd(m,Wj(e,t,r,n,a,s,l,u,f,h))},m}function wQ(){return la.apply(Wj(gZ,vZ,Li,Kj,ng,Gd,Hj,qj,jo,m4).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function jQ(){return la.apply(Wj(mZ,pZ,$i,Gj,ag,rg,Fj,Vj,jo,p4).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ig(){var e=0,t=1,r,n,a,s,l=on,u=!1,f;function h(g){return g==null||isNaN(g=+g)?f:l(a===0?.5:(g=(s(g)-r)*a,u?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t]=g,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),h):[e,t]},h.clamp=function(g){return arguments.length?(u=!!g,h):u},h.interpolator=function(g){return arguments.length?(l=g,h):l};function m(g){return function(v){var x,w;return arguments.length?([x,w]=v,l=g(x,w),h):[l(0),l(1)]}}return h.range=m(yc),h.rangeRound=m(Dj),h.unknown=function(g){return arguments.length?(f=g,h):f},function(g){return s=g,r=g(e),n=g(t),a=r===n?0:1/(n-r),h}}function Us(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function g4(){var e=$s(ig()(on));return e.copy=function(){return Us(e,g4())},Gi.apply(e,arguments)}function v4(){var e=Lj(ig()).domain([1,10]);return e.copy=function(){return Us(e,v4()).base(e.base())},Gi.apply(e,arguments)}function y4(){var e=$j(ig());return e.copy=function(){return Us(e,y4()).constant(e.constant())},Gi.apply(e,arguments)}function Yj(){var e=Uj(ig());return e.copy=function(){return Us(e,Yj()).exponent(e.exponent())},Gi.apply(e,arguments)}function SQ(){return Yj.apply(null,arguments).exponent(.5)}function x4(){var e=[],t=on;function r(n){if(n!=null&&!isNaN(n=+n))return t((Hd(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Cs),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>lX(e,s/n))},r.copy=function(){return x4(t).domain(e)},Gi.apply(r,arguments)}function sg(){var e=0,t=.5,r=1,n=1,a,s,l,u,f,h=on,m,g=!1,v;function x(S){return isNaN(S=+S)?v:(S=.5+((S=+m(S))-s)*(n*S<n*s?u:f),h(g?Math.max(0,Math.min(1,S)):S))}x.domain=function(S){return arguments.length?([e,t,r]=S,a=m(e=+e),s=m(t=+t),l=m(r=+r),u=a===s?0:.5/(s-a),f=s===l?0:.5/(l-s),n=s<a?-1:1,x):[e,t,r]},x.clamp=function(S){return arguments.length?(g=!!S,x):g},x.interpolator=function(S){return arguments.length?(h=S,x):h};function w(S){return function(N){var _,A,k;return arguments.length?([_,A,k]=N,h=RX(S,[_,A,k]),x):[h(0),h(.5),h(1)]}}return x.range=w(yc),x.rangeRound=w(Dj),x.unknown=function(S){return arguments.length?(v=S,x):v},function(S){return m=S,a=S(e),s=S(t),l=S(r),u=a===s?0:.5/(s-a),f=s===l?0:.5/(l-s),n=s<a?-1:1,x}}function b4(){var e=$s(sg()(on));return e.copy=function(){return Us(e,b4())},Gi.apply(e,arguments)}function w4(){var e=Lj(sg()).domain([.1,1,10]);return e.copy=function(){return Us(e,w4()).base(e.base())},Gi.apply(e,arguments)}function j4(){var e=$j(sg());return e.copy=function(){return Us(e,j4()).constant(e.constant())},Gi.apply(e,arguments)}function Xj(){var e=Uj(sg());return e.copy=function(){return Us(e,Xj()).exponent(e.exponent())},Gi.apply(e,arguments)}function NQ(){return Xj.apply(null,arguments).exponent(.5)}const $u=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Oj,scaleDiverging:b4,scaleDivergingLog:w4,scaleDivergingPow:Xj,scaleDivergingSqrt:NQ,scaleDivergingSymlog:j4,scaleIdentity:e4,scaleImplicit:Qb,scaleLinear:J5,scaleLog:r4,scaleOrdinal:Tj,scalePoint:dX,scalePow:Bj,scaleQuantile:i4,scaleQuantize:s4,scaleRadial:a4,scaleSequential:g4,scaleSequentialLog:v4,scaleSequentialPow:Yj,scaleSequentialQuantile:x4,scaleSequentialSqrt:SQ,scaleSequentialSymlog:y4,scaleSqrt:aZ,scaleSymlog:n4,scaleThreshold:o4,scaleTime:wQ,scaleUtc:jQ,tickFormat:Q5},Symbol.toStringTag,{value:"Module"}));var Bs=e=>e.chartData,Zj=J([Bs],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Qj=(e,t,r,n)=>n?Zj(e):Bs(e);function Ui(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(ht(t)&&ht(r))return!0}return!1}function _O(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function S4(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,s;if(ht(r))a=r;else if(typeof r=="function")return;if(ht(n))s=n;else if(typeof n=="function")return;var l=[a,s];if(Ui(l))return l}}function _Q(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Ui(n))return _O(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,s]=e,l,u;if(a==="auto")t!=null&&(l=Math.min(...t));else if($e(a))l=a;else if(typeof a=="function")try{t!=null&&(l=a(t?.[0]))}catch{}else if(typeof a=="string"&&IE.test(a)){var f=IE.exec(a);if(f==null||f[1]==null||t==null)l=void 0;else{var h=+f[1];l=t[0]-h}}else l=t?.[0];if(s==="auto")t!=null&&(u=Math.max(...t));else if($e(s))u=s;else if(typeof s=="function")try{t!=null&&(u=s(t?.[1]))}catch{}else if(typeof s=="string"&&LE.test(s)){var m=LE.exec(s);if(m==null||m[1]==null||t==null)u=void 0;else{var g=+m[1];u=t[1]+g}}else u=t?.[1];var v=[l,u];if(Ui(v))return t==null?v:_O(v,t,r)}}}var xc=1e9,kQ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},e1,zt=!0,oa="[DecimalError] ",Eo=oa+"Invalid argument: ",Jj=oa+"Exponent out of range: ",bc=Math.floor,po=Math.pow,AQ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Mn,Dr=1e7,It=7,N4=9007199254740991,ep=bc(N4/It),Ce={};Ce.absoluteValue=Ce.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ce.comparedTo=Ce.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};Ce.decimalPlaces=Ce.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*It;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ce.dividedBy=Ce.div=function(e){return Ti(this,new this.constructor(e))};Ce.dividedToIntegerBy=Ce.idiv=function(e){var t=this,r=t.constructor;return Et(Ti(t,new r(e),0,1),r.precision)};Ce.equals=Ce.eq=function(e){return!this.cmp(e)};Ce.exponent=function(){return hr(this)};Ce.greaterThan=Ce.gt=function(e){return this.cmp(e)>0};Ce.greaterThanOrEqualTo=Ce.gte=function(e){return this.cmp(e)>=0};Ce.isInteger=Ce.isint=function(){return this.e>this.d.length-2};Ce.isNegative=Ce.isneg=function(){return this.s<0};Ce.isPositive=Ce.ispos=function(){return this.s>0};Ce.isZero=function(){return this.s===0};Ce.lessThan=Ce.lt=function(e){return this.cmp(e)<0};Ce.lessThanOrEqualTo=Ce.lte=function(e){return this.cmp(e)<1};Ce.logarithm=Ce.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Mn))throw Error(oa+"NaN");if(r.s<1)throw Error(oa+(r.s?"NaN":"-Infinity"));return r.eq(Mn)?new n(0):(zt=!1,t=Ti(bd(r,s),bd(e,s),s),zt=!0,Et(t,a))};Ce.minus=Ce.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?A4(t,e):_4(t,(e.s=-e.s,e))};Ce.modulo=Ce.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(oa+"NaN");return r.s?(zt=!1,t=Ti(r,e,0,1).times(e),zt=!0,r.minus(t)):Et(new n(r),a)};Ce.naturalExponential=Ce.exp=function(){return k4(this)};Ce.naturalLogarithm=Ce.ln=function(){return bd(this)};Ce.negated=Ce.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ce.plus=Ce.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?_4(t,e):A4(t,(e.s=-e.s,e))};Ce.precision=Ce.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Eo+e);if(t=hr(a)+1,n=a.d.length-1,r=n*It+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Ce.squareRoot=Ce.sqrt=function(){var e,t,r,n,a,s,l,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(oa+"NaN")}for(e=hr(u),zt=!1,a=Math.sqrt(+u),a==0||a==1/0?(t=Ka(u.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=bc((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new f(t)):n=new f(a.toString()),r=f.precision,a=l=r+3;;)if(s=n,n=s.plus(Ti(u,s,l+2)).times(.5),Ka(s.d).slice(0,l)===(t=Ka(n.d)).slice(0,l)){if(t=t.slice(l-3,l+1),a==l&&t=="4999"){if(Et(s,r+1,0),s.times(s).eq(u)){n=s;break}}else if(t!="9999")break;l+=4}return zt=!0,Et(n,r)};Ce.times=Ce.mul=function(e){var t,r,n,a,s,l,u,f,h,m=this,g=m.constructor,v=m.d,x=(e=new g(e)).d;if(!m.s||!e.s)return new g(0);for(e.s*=m.s,r=m.e+e.e,f=v.length,h=x.length,f<h&&(s=v,v=x,x=s,l=f,f=h,h=l),s=[],l=f+h,n=l;n--;)s.push(0);for(n=h;--n>=0;){for(t=0,a=f+n;a>n;)u=s[a]+x[n]*v[a-n-1]+t,s[a--]=u%Dr|0,t=u/Dr|0;s[a]=(s[a]+t)%Dr|0}for(;!s[--l];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,zt?Et(e,g.precision):e};Ce.toDecimalPlaces=Ce.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Za(e,0,xc),t===void 0?t=n.rounding:Za(t,0,8),Et(r,e+hr(r)+1,t))};Ce.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Lo(n,!0):(Za(e,0,xc),t===void 0?t=a.rounding:Za(t,0,8),n=Et(new a(n),e+1,t),r=Lo(n,!0,e+1)),r};Ce.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?Lo(a):(Za(e,0,xc),t===void 0?t=s.rounding:Za(t,0,8),n=Et(new s(a),e+hr(a)+1,t),r=Lo(n.abs(),!1,e+hr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Ce.toInteger=Ce.toint=function(){var e=this,t=e.constructor;return Et(new t(e),hr(e)+1,t.rounding)};Ce.toNumber=function(){return+this};Ce.toPower=Ce.pow=function(e){var t,r,n,a,s,l,u=this,f=u.constructor,h=12,m=+(e=new f(e));if(!e.s)return new f(Mn);if(u=new f(u),!u.s){if(e.s<1)throw Error(oa+"Infinity");return u}if(u.eq(Mn))return u;if(n=f.precision,e.eq(Mn))return Et(u,n);if(t=e.e,r=e.d.length-1,l=t>=r,s=u.s,l){if((r=m<0?-m:m)<=N4){for(a=new f(Mn),t=Math.ceil(n/It+4),zt=!1;r%2&&(a=a.times(u),AO(a.d,t)),r=bc(r/2),r!==0;)u=u.times(u),AO(u.d,t);return zt=!0,e.s<0?new f(Mn).div(a):Et(a,n)}}else if(s<0)throw Error(oa+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,u.s=1,zt=!1,a=e.times(bd(u,n+h)),zt=!0,a=k4(a),a.s=s,a};Ce.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=hr(a),n=Lo(a,r<=s.toExpNeg||r>=s.toExpPos)):(Za(e,1,xc),t===void 0?t=s.rounding:Za(t,0,8),a=Et(new s(a),e,t),r=hr(a),n=Lo(a,e<=r||r<=s.toExpNeg,e)),n};Ce.toSignificantDigits=Ce.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Za(e,1,xc),t===void 0?t=n.rounding:Za(t,0,8)),Et(new n(r),e,t)};Ce.toString=Ce.valueOf=Ce.val=Ce.toJSON=Ce[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=hr(e),r=e.constructor;return Lo(e,t<=r.toExpNeg||t>=r.toExpPos)};function _4(e,t){var r,n,a,s,l,u,f,h,m=e.constructor,g=m.precision;if(!e.s||!t.s)return t.s||(t=new m(e)),zt?Et(t,g):t;if(f=e.d,h=t.d,l=e.e,a=t.e,f=f.slice(),s=l-a,s){for(s<0?(n=f,s=-s,u=h.length):(n=h,a=l,u=f.length),l=Math.ceil(g/It),u=l>u?l+1:u+1,s>u&&(s=u,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(u=f.length,s=h.length,u-s<0&&(s=u,n=h,h=f,f=n),r=0;s;)r=(f[--s]=f[s]+h[s]+r)/Dr|0,f[s]%=Dr;for(r&&(f.unshift(r),++a),u=f.length;f[--u]==0;)f.pop();return t.d=f,t.e=a,zt?Et(t,g):t}function Za(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Eo+e)}function Ka(e){var t,r,n,a=e.length-1,s="",l=e[0];if(a>0){for(s+=l,t=1;t<a;t++)n=e[t]+"",r=It-n.length,r&&(s+=_s(r)),s+=n;l=e[t],n=l+"",r=It-n.length,r&&(s+=_s(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var Ti=(function(){function e(n,a){var s,l=0,u=n.length;for(n=n.slice();u--;)s=n[u]*a+l,n[u]=s%Dr|0,l=s/Dr|0;return l&&n.unshift(l),n}function t(n,a,s,l){var u,f;if(s!=l)f=s>l?1:-1;else for(u=f=0;u<s;u++)if(n[u]!=a[u]){f=n[u]>a[u]?1:-1;break}return f}function r(n,a,s){for(var l=0;s--;)n[s]-=l,l=n[s]<a[s]?1:0,n[s]=l*Dr+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,l){var u,f,h,m,g,v,x,w,S,N,_,A,k,O,M,C,D,L,V=n.constructor,te=n.s==a.s?1:-1,W=n.d,K=a.d;if(!n.s)return new V(n);if(!a.s)throw Error(oa+"Division by zero");for(f=n.e-a.e,D=K.length,M=W.length,x=new V(te),w=x.d=[],h=0;K[h]==(W[h]||0);)++h;if(K[h]>(W[h]||0)&&--f,s==null?A=s=V.precision:l?A=s+(hr(n)-hr(a))+1:A=s,A<0)return new V(0);if(A=A/It+2|0,h=0,D==1)for(m=0,K=K[0],A++;(h<M||m)&&A--;h++)k=m*Dr+(W[h]||0),w[h]=k/K|0,m=k%K|0;else{for(m=Dr/(K[0]+1)|0,m>1&&(K=e(K,m),W=e(W,m),D=K.length,M=W.length),O=D,S=W.slice(0,D),N=S.length;N<D;)S[N++]=0;L=K.slice(),L.unshift(0),C=K[0],K[1]>=Dr/2&&++C;do m=0,u=t(K,S,D,N),u<0?(_=S[0],D!=N&&(_=_*Dr+(S[1]||0)),m=_/C|0,m>1?(m>=Dr&&(m=Dr-1),g=e(K,m),v=g.length,N=S.length,u=t(g,S,v,N),u==1&&(m--,r(g,D<v?L:K,v))):(m==0&&(u=m=1),g=K.slice()),v=g.length,v<N&&g.unshift(0),r(S,g,N),u==-1&&(N=S.length,u=t(K,S,D,N),u<1&&(m++,r(S,D<N?L:K,N))),N=S.length):u===0&&(m++,S=[0]),w[h++]=m,u&&S[0]?S[N++]=W[O]||0:(S=[W[O]],N=1);while((O++<M||S[0]!==void 0)&&A--)}return w[0]||w.shift(),x.e=f,Et(x,l?s+hr(x)+1:s)}})();function k4(e,t){var r,n,a,s,l,u,f=0,h=0,m=e.constructor,g=m.precision;if(hr(e)>16)throw Error(Jj+hr(e));if(!e.s)return new m(Mn);for(zt=!1,u=g,l=new m(.03125);e.abs().gte(.1);)e=e.times(l),h+=5;for(n=Math.log(po(2,h))/Math.LN10*2+5|0,u+=n,r=a=s=new m(Mn),m.precision=u;;){if(a=Et(a.times(e),u),r=r.times(++f),l=s.plus(Ti(a,r,u)),Ka(l.d).slice(0,u)===Ka(s.d).slice(0,u)){for(;h--;)s=Et(s.times(s),u);return m.precision=g,t==null?(zt=!0,Et(s,g)):s}s=l}}function hr(e){for(var t=e.e*It,r=e.d[0];r>=10;r/=10)t++;return t}function yx(e,t,r){if(t>e.LN10.sd())throw zt=!0,r&&(e.precision=r),Error(oa+"LN10 precision limit exceeded");return Et(new e(e.LN10),t)}function _s(e){for(var t="";e--;)t+="0";return t}function bd(e,t){var r,n,a,s,l,u,f,h,m,g=1,v=10,x=e,w=x.d,S=x.constructor,N=S.precision;if(x.s<1)throw Error(oa+(x.s?"NaN":"-Infinity"));if(x.eq(Mn))return new S(0);if(t==null?(zt=!1,h=N):h=t,x.eq(10))return t==null&&(zt=!0),yx(S,h);if(h+=v,S.precision=h,r=Ka(w),n=r.charAt(0),s=hr(x),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)x=x.times(e),r=Ka(x.d),n=r.charAt(0),g++;s=hr(x),n>1?(x=new S("0."+r),s++):x=new S(n+"."+r.slice(1))}else return f=yx(S,h+2,N).times(s+""),x=bd(new S(n+"."+r.slice(1)),h-v).plus(f),S.precision=N,t==null?(zt=!0,Et(x,N)):x;for(u=l=x=Ti(x.minus(Mn),x.plus(Mn),h),m=Et(x.times(x),h),a=3;;){if(l=Et(l.times(m),h),f=u.plus(Ti(l,new S(a),h)),Ka(f.d).slice(0,h)===Ka(u.d).slice(0,h))return u=u.times(2),s!==0&&(u=u.plus(yx(S,h+2,N).times(s+""))),u=Ti(u,new S(g),h),S.precision=N,t==null?(zt=!0,Et(u,N)):u;u=f,a+=2}}function kO(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=bc(r/It),e.d=[],n=(r+1)%It,r<0&&(n+=It),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=It;n<a;)e.d.push(+t.slice(n,n+=It));t=t.slice(n),n=It-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),zt&&(e.e>ep||e.e<-ep))throw Error(Jj+r)}else e.s=0,e.e=0,e.d=[0];return e}function Et(e,t,r){var n,a,s,l,u,f,h,m,g=e.d;for(l=1,s=g[0];s>=10;s/=10)l++;if(n=t-l,n<0)n+=It,a=t,h=g[m=0];else{if(m=Math.ceil((n+1)/It),s=g.length,m>=s)return e;for(h=s=g[m],l=1;s>=10;s/=10)l++;n%=It,a=n-It+l}if(r!==void 0&&(s=po(10,l-a-1),u=h/s%10|0,f=t<0||g[m+1]!==void 0||h%s,f=r<4?(u||f)&&(r==0||r==(e.s<0?3:2)):u>5||u==5&&(r==4||f||r==6&&(n>0?a>0?h/po(10,l-a):0:g[m-1])%10&1||r==(e.s<0?8:7))),t<1||!g[0])return f?(s=hr(e),g.length=1,t=t-s-1,g[0]=po(10,(It-t%It)%It),e.e=bc(-t/It)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(n==0?(g.length=m,s=1,m--):(g.length=m+1,s=po(10,It-n),g[m]=a>0?(h/po(10,l-a)%po(10,a)|0)*s:0),f)for(;;)if(m==0){(g[0]+=s)==Dr&&(g[0]=1,++e.e);break}else{if(g[m]+=s,g[m]!=Dr)break;g[m--]=0,s=1}for(n=g.length;g[--n]===0;)g.pop();if(zt&&(e.e>ep||e.e<-ep))throw Error(Jj+hr(e));return e}function A4(e,t){var r,n,a,s,l,u,f,h,m,g,v=e.constructor,x=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),zt?Et(t,x):t;if(f=e.d,g=t.d,n=t.e,h=e.e,f=f.slice(),l=h-n,l){for(m=l<0,m?(r=f,l=-l,u=g.length):(r=g,n=h,u=f.length),a=Math.max(Math.ceil(x/It),u)+2,l>a&&(l=a,r.length=1),r.reverse(),a=l;a--;)r.push(0);r.reverse()}else{for(a=f.length,u=g.length,m=a<u,m&&(u=a),a=0;a<u;a++)if(f[a]!=g[a]){m=f[a]<g[a];break}l=0}for(m&&(r=f,f=g,g=r,t.s=-t.s),u=f.length,a=g.length-u;a>0;--a)f[u++]=0;for(a=g.length;a>l;){if(f[--a]<g[a]){for(s=a;s&&f[--s]===0;)f[s]=Dr-1;--f[s],f[a]+=Dr}f[a]-=g[a]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--n;return f[0]?(t.d=f,t.e=n,zt?Et(t,x):t):new v(0)}function Lo(e,t,r){var n,a=hr(e),s=Ka(e.d),l=s.length;return t?(r&&(n=r-l)>0?s=s.charAt(0)+"."+s.slice(1)+_s(n):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+_s(-a-1)+s,r&&(n=r-l)>0&&(s+=_s(n))):a>=l?(s+=_s(a+1-l),r&&(n=r-a-1)>0&&(s=s+"."+_s(n))):((n=a+1)<l&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-l)>0&&(a+1===l&&(s+="."),s+=_s(n))),e.s<0?"-"+s:s}function AO(e,t){if(e.length>t)return e.length=t,!0}function E4(e){var t,r,n;function a(s){var l=this;if(!(l instanceof a))return new a(s);if(l.constructor=a,s instanceof a){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Eo+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return kO(l,s.toString())}else if(typeof s!="string")throw Error(Eo+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,AQ.test(s))kO(l,s);else throw Error(Eo+s)}if(a.prototype=Ce,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=E4,a.config=a.set=EQ,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function EQ(e){if(!e||typeof e!="object")throw Error(oa+"Object expected");var t,r,n,a=["precision",1,xc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(bc(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Eo+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Eo+r+": "+n);return this}var e1=E4(kQ);Mn=new e1(1);const bt=e1;function T4(e){var t;return e===0?t=1:t=Math.floor(new bt(e).abs().log(10).toNumber())+1,t}function O4(e,t,r){for(var n=new bt(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var C4=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},P4=(e,t,r)=>{if(e.lte(0))return new bt(0);var n=T4(e.toNumber()),a=new bt(10).pow(n),s=e.div(a),l=n!==1?.05:.1,u=new bt(Math.ceil(s.div(l).toNumber())).add(r).mul(l),f=u.mul(a);return t?new bt(f.toNumber()):new bt(Math.ceil(f.toNumber()))},TQ=(e,t,r)=>{var n=new bt(1),a=new bt(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new bt(10).pow(T4(e)-1),a=new bt(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new bt(Math.floor(e)))}else e===0?a=new bt(Math.floor((t-1)/2)):r||(a=new bt(Math.floor(e)));for(var l=Math.floor((t-1)/2),u=[],f=0;f<t;f++)u.push(a.add(new bt(f-l).mul(n)).toNumber());return u},D4=function(t,r,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new bt(0),tickMin:new bt(0),tickMax:new bt(0)};var l=P4(new bt(r).sub(t).div(n-1),a,s),u;t<=0&&r>=0?u=new bt(0):(u=new bt(t).add(r).div(2),u=u.sub(new bt(u).mod(l)));var f=Math.ceil(u.sub(t).div(l).toNumber()),h=Math.ceil(new bt(r).sub(u).div(l).toNumber()),m=f+h+1;return m>n?D4(t,r,n,a,s+1):(m<n&&(h=r>0?h+(n-m):h,f=r>0?f:f+(n-m)),{step:l,tickMin:u.sub(new bt(f).mul(l)),tickMax:u.add(new bt(h).mul(l))})},OQ=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(a,2),[u,f]=C4([r,n]);if(u===-1/0||f===1/0){var h=f===1/0?[u,...Array(a-1).fill(1/0)]:[...Array(a-1).fill(-1/0),f];return r>n?h.reverse():h}if(u===f)return TQ(u,a,s);var{step:m,tickMin:g,tickMax:v}=D4(u,f,l,s,0),x=O4(g,v.add(new bt(.1).mul(m)),m);return r>n?x.reverse():x},CQ=function(t,r){var[n,a]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,u]=C4([n,a]);if(l===-1/0||u===1/0)return[n,a];if(l===u)return[l];var f=Math.max(r,2),h=P4(new bt(u).sub(l).div(f-1),s,0),m=[...O4(new bt(l),new bt(u),h),u];return s===!1&&(m=m.map(g=>Math.round(g))),n>a?m.reverse():m},PQ=e=>e.rootProps.barCategoryGap,Wd=e=>e.rootProps.stackOffset,M4=e=>e.rootProps.reverseStackOrder,t1=e=>e.options.chartName,r1=e=>e.rootProps.syncId,R4=e=>e.rootProps.syncMethod,n1=e=>e.options.eventEmitter,Sr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},js={allowDecimals:!1,allowDuplicatedCategory:!0,allowDataOverflow:!1,angle:0,angleAxisId:0,axisLine:!0,axisLineType:"polygon",cx:0,cy:0,hide:!1,includeHidden:!1,label:!1,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"auto",zIndex:Sr.axis},ma={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,includeHidden:!1,hide:!1,label:!1,orientation:"right",radiusAxisId:0,reversed:!1,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,tickLine:!0,type:"auto",zIndex:Sr.axis},og=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function wc(e,t,r){if(r!=="auto")return r;if(e!=null)return ei(e,t)?"category":"number"}function EO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EO(Object(r),!0).forEach(function(n){DQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DQ(e,t,r){return(t=MQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MQ(e){var t=RQ(e,"string");return typeof t=="symbol"?t:t+""}function RQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TO={allowDataOverflow:js.allowDataOverflow,allowDecimals:js.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:js.angleAxisId,includeHidden:!1,name:void 0,reversed:js.reversed,scale:js.scale,tick:js.tick,tickCount:void 0,ticks:void 0,type:js.type,unit:void 0},OO={allowDataOverflow:ma.allowDataOverflow,allowDecimals:ma.allowDecimals,allowDuplicatedCategory:ma.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ma.radiusAxisId,includeHidden:ma.includeHidden,name:void 0,reversed:ma.reversed,scale:ma.scale,tick:ma.tick,tickCount:ma.tickCount,ticks:void 0,type:ma.type,unit:void 0},IQ=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},jc=J([IQ,_j],(e,t)=>{var r;if(e!=null)return e;var n=(r=wc(t,"angleAxis",TO.type))!==null&&r!==void 0?r:"category";return tp(tp({},TO),{},{type:n})}),LQ=(e,t)=>e.polarAxis.radiusAxis[t],Yd=J([LQ,_j],(e,t)=>{var r;if(e!=null)return e;var n=(r=wc(t,"radiusAxis",OO.type))!==null&&r!==void 0?r:"category";return tp(tp({},OO),{},{type:n})}),lg=e=>e.polarOptions,a1=J([Fi,Ki,Yr],IY),I4=J([lg,a1],(e,t)=>{if(e!=null)return Ms(e.innerRadius,t,0)}),L4=J([lg,a1],(e,t)=>{if(e!=null)return Ms(e.outerRadius,t,t*.8)}),$Q=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},$4=J([lg],$Q),UQ=J([jc,$4],og),U4=J([a1,I4,L4],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]}),BQ=J([Yd,U4],og),Sc=J([gt,lg,I4,L4,Fi,Ki],(e,t,r,n,a,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:l,cy:u,startAngle:f,endAngle:h}=t;return{cx:Ms(l,a,a/2),cy:Ms(u,s,s/2),innerRadius:r,outerRadius:n,startAngle:f,endAngle:h,clockWise:!1}}}),Dt=(e,t)=>t,Xd=(e,t,r)=>r;function B4(e){return e?.id}function z4(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:s}=r,l=new Map;return e.forEach(u=>{var f,h=(f=u.data)!==null&&f!==void 0?f:n;if(!(h==null||h.length===0)){var m=B4(u);h.forEach((g,v)=>{var x=s==null||a?v:String(nr(g,s,null)),w=nr(g,u.dataKey,0),S;l.has(x)?S=l.get(x):S={},Object.assign(S,{[m]:w}),l.set(x,S)})}}),Array.from(l.values())}function i1(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var cg=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function ug(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function zQ(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var Lr=e=>{var t=gt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Nc=e=>e.tooltip.settings.axisId;function qQ(e){if(e in $u)return $u[e]();var t="scale".concat($d(e));if(t in $u)return $u[t]()}function CO(e){var t=e.ticks,r=e.bandwidth,n=e.range(),a=[Math.min(...n),Math.max(...n)];return{domain:()=>e.domain(),range:(function(s){function l(){return s.apply(this,arguments)}return l.toString=function(){return s.toString()},l})(()=>a),rangeMin:()=>a[0],rangeMax:()=>a[1],isInRange(s){var l=a[0],u=a[1];return l<=u?s>=l&&s<=u:s>=u&&s<=l},bandwidth:r?()=>r.call(e):void 0,ticks:t?s=>t.call(e,s):void 0,map:(s,l)=>{var u=e(s);if(u!=null){if(e.bandwidth&&l!==null&&l!==void 0&&l.position){var f=e.bandwidth();switch(l.position){case"middle":u+=f/2;break;case"end":u+=f;break}}return u}}}}function PO(e,t,r){if(typeof e=="function")return CO(e.copy().domain(t).range(r));if(e!=null){var n=qQ(e);if(n!=null)return n.domain(t).range(r),CO(n)}}var q4=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!Ui(t)){for(var r,n,a=0;a<t.length;a++){var s=t[a];ht(s)&&((r===void 0||s<r)&&(r=s),(n===void 0||s>n)&&(n=s))}return r!==void 0&&n!==void 0?[r,n]:void 0}return t}default:return t}};function DO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DO(Object(r),!0).forEach(function(n){VQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VQ(e,t,r){return(t=HQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HQ(e){var t=FQ(e,"string");return typeof t=="symbol"?t:t+""}function FQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rw=[0,"auto"],Cr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},V4=(e,t)=>e.cartesianAxis.xAxis[t],Wi=(e,t)=>{var r=V4(e,t);return r??Cr},Pr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:rw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:zd},H4=(e,t)=>e.cartesianAxis.yAxis[t],Yi=(e,t)=>{var r=H4(e,t);return r??Pr},KQ={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},s1=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??KQ},Jt=(e,t,r)=>{switch(t){case"xAxis":return Wi(e,r);case"yAxis":return Yi(e,r);case"zAxis":return s1(e,r);case"angleAxis":return jc(e,r);case"radiusAxis":return Yd(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},GQ=(e,t,r)=>{switch(t){case"xAxis":return Wi(e,r);case"yAxis":return Yi(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Vo=(e,t,r)=>{switch(t){case"xAxis":return Wi(e,r);case"yAxis":return Yi(e,r);case"angleAxis":return jc(e,r);case"radiusAxis":return Yd(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},F4=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function o1(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var K4=e=>e.graphicalItems.cartesianItems,WQ=J([Dt,Xd],o1),l1=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),Zd=J([K4,Jt,WQ],l1,{memoizeOptions:{resultEqualityCheck:ug}}),G4=J([Zd],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(i1)),W4=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),YQ=J([Zd],W4),c1=e=>e.map(t=>t.data).filter(Boolean).flat(1),XQ=J([Zd],c1,{memoizeOptions:{resultEqualityCheck:ug}}),u1=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},d1=J([XQ,Qj],u1),f1=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:nr(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:nr(a,n)}))):e.map(n=>({value:n})),dg=J([d1,Jt,Zd],f1);function Y4(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function nm(e){if(Ya(e)||e instanceof Date){var t=Number(e);if(ht(t))return t}}function MO(e){if(Array.isArray(e)){var t=[nm(e[0]),nm(e[1])];return Ui(t)?t:void 0}var r=nm(e);if(r!=null)return[r,r]}function Bi(e){return e.map(nm).filter(yn)}function ZQ(e,t,r){return!r||typeof t!="number"||Mi(t)?[]:r.length?Bi(r.flatMap(n=>{var a=nr(e,n.dataKey),s,l;if(Array.isArray(a)?[s,l]=a:s=l=a,!(!ht(s)||!ht(l)))return[t-s,t+l]})):[]}var kr=e=>{var t=Lr(e),r=Nc(e);return Vo(e,t,r)},Qd=J([kr],e=>e?.dataKey),QQ=J([G4,Qj,kr],z4),X4=(e,t,r,n)=>{var a={},s=t.reduce((l,u)=>{if(u.stackId==null)return l;var f=l[u.stackId];return f==null&&(f=[]),f.push(u),l[u.stackId]=f,l},a);return Object.fromEntries(Object.entries(s).map(l=>{var[u,f]=l,h=n?[...f].reverse():f,m=h.map(B4);return[u,{stackedData:PG(e,m,r),graphicalItems:h}]}))},JQ=J([QQ,G4,Wd,M4],X4),Z4=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:s}=t;if(n==null&&r!=="zAxis"){var l=RG(e,a,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},eJ=J([Jt],e=>e.allowDataOverflow),h1=e=>{var t;if(e==null||!("domain"in e))return rw;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=Bi(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:rw},m1=J([Jt],h1),p1=J([m1,eJ],S4),tJ=J([JQ,Bs,Dt,p1],Z4,{memoizeOptions:{resultEqualityCheck:cg}}),fg=e=>e.errorBars,rJ=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>Y4(r,n)),np=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var s=a.flat(),l=Math.min(...s),u=Math.max(...s);return[l,u]}},g1=(e,t,r,n,a)=>{var s,l;if(r.length>0&&e.forEach(u=>{r.forEach(f=>{var h,m,g=(h=n[f.id])===null||h===void 0?void 0:h.filter(_=>Y4(a,_)),v=nr(u,(m=t.dataKey)!==null&&m!==void 0?m:f.dataKey),x=ZQ(u,v,g);if(x.length>=2){var w=Math.min(...x),S=Math.max(...x);(s==null||w<s)&&(s=w),(l==null||S>l)&&(l=S)}var N=MO(v);N!=null&&(s=s==null?N[0]:Math.min(s,N[0]),l=l==null?N[1]:Math.max(l,N[1]))})}),t?.dataKey!=null&&e.forEach(u=>{var f=MO(nr(u,t.dataKey));f!=null&&(s=s==null?f[0]:Math.min(s,f[0]),l=l==null?f[1]:Math.max(l,f[1]))}),ht(s)&&ht(l))return[s,l]},nJ=J([d1,Jt,YQ,fg,Dt],g1,{memoizeOptions:{resultEqualityCheck:cg}});function aJ(e){var{value:t}=e;if(Ya(t)||t instanceof Date)return t}var iJ=(e,t,r)=>{var n=e.map(aJ).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&xR(n))?V5(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},Q4=e=>e.referenceElements.dots,_c=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),sJ=J([Q4,Dt,Xd],_c),J4=e=>e.referenceElements.areas,oJ=J([J4,Dt,Xd],_c),e3=e=>e.referenceElements.lines,lJ=J([e3,Dt,Xd],_c),t3=(e,t)=>{if(e!=null){var r=Bi(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},cJ=J(sJ,Dt,t3),r3=(e,t)=>{if(e!=null){var r=Bi(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},uJ=J([oJ,Dt],r3);function dJ(e){var t;if(e.x!=null)return Bi([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Bi(r)}function fJ(e){var t;if(e.y!=null)return Bi([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Bi(r)}var n3=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?dJ(n):fJ(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},hJ=J([lJ,Dt],n3),mJ=J(cJ,hJ,uJ,(e,t,r)=>np(e,r,t)),v1=(e,t,r,n,a,s,l,u)=>{if(r!=null)return r;var f=l==="vertical"&&u==="xAxis"||l==="horizontal"&&u==="yAxis",h=f?np(n,s,a):np(s,a);return _Q(t,h,e.allowDataOverflow)},pJ=J([Jt,m1,p1,tJ,nJ,mJ,gt,Dt],v1,{memoizeOptions:{resultEqualityCheck:cg}}),gJ=[0,1],y1=(e,t,r,n,a,s,l)=>{if(!((e==null||r==null||r.length===0)&&l===void 0)){var{dataKey:u,type:f}=e,h=ei(t,s);if(h&&u==null){var m;return V5(0,(m=r?.length)!==null&&m!==void 0?m:0)}return f==="category"?iJ(n,e,h):a==="expand"?gJ:l}},x1=J([Jt,gt,d1,dg,Wd,Dt,pJ],y1);function vJ(e){return e in $u}var a3=(e,t,r)=>{if(e!=null){var{scale:n,type:a}=e;if(n==="auto")return a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!t)?"point":a==="category"?"band":"linear";if(typeof n=="string"){var s="scale".concat($d(n));return vJ(s)?s:"point"}}},ti=J([Jt,F4,t1],a3);function hg(e,t,r,n){if(!(r==null||n==null))return typeof e.scale=="function"?PO(e.scale,r,n):PO(t,r,n)}var b1=(e,t,r)=>{var n=h1(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Ui(e))return OQ(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Ui(e))return CQ(e,t.tickCount,t.allowDecimals)}},w1=J([x1,Vo,ti],b1),j1=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&Ui(t)&&Array.isArray(r)&&r.length>0){var a,s,l=t[0],u=(a=r[0])!==null&&a!==void 0?a:0,f=t[1],h=(s=r[r.length-1])!==null&&s!==void 0?s:0;return[Math.min(l,u),Math.max(f,h)]}return t},yJ=J([Jt,x1,w1,Dt],j1),xJ=J(dg,Jt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Bi(e.map(g=>g.value))).sort((g,v)=>g-v),a=n[0],s=n[n.length-1];if(a==null||s==null)return 1/0;var l=s-a;if(l===0)return 1/0;for(var u=0;u<n.length-1;u++){var f=n[u],h=n[u+1];if(!(f==null||h==null)){var m=h-f;r=Math.min(r,m)}}return r/l}}),i3=J(xJ,gt,PQ,Yr,(e,t,r,n,a)=>a,(e,t,r,n,a)=>{if(!ht(e))return 0;var s=t==="vertical"?n.height:n.width;if(a==="gap")return e*s/2;if(a==="no-gap"){var l=Ms(r,e*s),u=e*s/2;return u-l-(u-l)/s*l}return 0}),bJ=(e,t,r)=>{var n=Wi(e,t);return n==null||typeof n.padding!="string"?0:i3(e,"xAxis",t,r,n.padding)},wJ=(e,t,r)=>{var n=Yi(e,t);return n==null||typeof n.padding!="string"?0:i3(e,"yAxis",t,r,n.padding)},jJ=J(Wi,bJ,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),SJ=J(Yi,wJ,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),NJ=J([Yr,jJ,Gp,Kp,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:s}=n;return a?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),_J=J([Yr,gt,SJ,Gp,Kp,(e,t,r)=>r],(e,t,r,n,a,s)=>{var{padding:l}=a;return s?[n.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Jd=(e,t,r,n)=>{var a;switch(t){case"xAxis":return NJ(e,r,n);case"yAxis":return _J(e,r,n);case"zAxis":return(a=s1(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return $4(e);case"radiusAxis":return U4(e,r);default:return}},s3=J([Jt,Jd],og),kJ=J([ti,yJ],q4),mg=J([Jt,ti,kJ,s3],hg);J([Zd,fg,Dt],rJ);function o3(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var pg=(e,t)=>t,gg=(e,t,r)=>r,AJ=J(Hp,pg,gg,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(o3)),EJ=J(Fp,pg,gg,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(o3)),l3=(e,t)=>({width:e.width,height:t.height}),TJ=(e,t)=>{var r=typeof t.width=="number"?t.width:zd;return{width:r,height:e.height}},OJ=J(Yr,Wi,l3),CJ=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},PJ=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},DJ=J(Ki,Yr,AJ,pg,gg,(e,t,r,n,a)=>{var s={},l;return r.forEach(u=>{var f=l3(t,u);l==null&&(l=CJ(t,n,e));var h=n==="top"&&!a||n==="bottom"&&a;s[u.id]=l-Number(h)*f.height,l+=(h?-1:1)*f.height}),s}),MJ=J(Fi,Yr,EJ,pg,gg,(e,t,r,n,a)=>{var s={},l;return r.forEach(u=>{var f=TJ(t,u);l==null&&(l=PJ(t,n,e));var h=n==="left"&&!a||n==="right"&&a;s[u.id]=l-Number(h)*f.width,l+=(h?-1:1)*f.width}),s}),RJ=(e,t)=>{var r=Wi(e,t);if(r!=null)return DJ(e,r.orientation,r.mirror)},IJ=J([Yr,Wi,RJ,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),LJ=(e,t)=>{var r=Yi(e,t);if(r!=null)return MJ(e,r.orientation,r.mirror)},$J=J([Yr,Yi,LJ,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),UJ=J(Yr,Yi,(e,t)=>{var r=typeof t.width=="number"?t.width:zd;return{width:r,height:e.height}}),c3=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:s,dataKey:l}=r,u=ei(e,n),f=t.map(h=>h.value);if(l&&u&&s==="category"&&a&&xR(f))return f}},ef=J([gt,dg,Jt,Dt],c3),S1=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:s}=r,l=ei(e,n);if(l&&(a==="number"||s!=="auto"))return t.map(u=>u.value)}},N1=J([gt,dg,Vo,Dt],S1),RO=J([gt,GQ,ti,mg,ef,N1,Jd,w1,Dt],(e,t,r,n,a,s,l,u,f)=>{if(t!=null){var h=ei(e,f);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:f,categoricalDomain:s,duplicateDomain:a,isCategorical:h,niceTicks:u,range:l,realScaleType:r,scale:n}}}),u3=(e,t,r,n,a,s,l,u,f)=>{if(!(t==null||n==null)){var h=ei(e,f),{type:m,ticks:g,tickCount:v}=t,x=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,w=m==="category"&&n.bandwidth?n.bandwidth()/x:0;w=f==="angleAxis"&&s!=null&&s.length>=2?ta(s[0]-s[1])*2*w:w;var S=g||a;return S?S.map((N,_)=>{var A=l?l.indexOf(N):N,k=n.map(A);return ht(k)?{index:_,coordinate:k+w,value:N,offset:w}:null}).filter(yn):h&&u?u.map((N,_)=>{var A=n.map(N);return ht(A)?{coordinate:A+w,value:N,index:_,offset:w}:null}).filter(yn):n.ticks?n.ticks(v).map((N,_)=>{var A=n.map(N);return ht(A)?{coordinate:A+w,value:N,index:_,offset:w}:null}).filter(yn):n.domain().map((N,_)=>{var A=n.map(N);return ht(A)?{coordinate:A+w,value:l?l[N]:N,index:_,offset:w}:null}).filter(yn)}},d3=J([gt,Vo,ti,mg,w1,Jd,ef,N1,Dt],u3),f3=(e,t,r,n,a,s,l)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var u=ei(e,l),{tickCount:f}=t,h=0;return h=l==="angleAxis"&&n?.length>=2?ta(n[0]-n[1])*2*h:h,u&&s?s.map((m,g)=>{var v=r.map(m);return ht(v)?{coordinate:v+h,value:m,index:g,offset:h}:null}).filter(yn):r.ticks?r.ticks(f).map((m,g)=>{var v=r.map(m);return ht(v)?{coordinate:v+h,value:m,index:g,offset:h}:null}).filter(yn):r.domain().map((m,g)=>{var v=r.map(m);return ht(v)?{coordinate:v+h,value:a?a[m]:m,index:g,offset:h}:null}).filter(yn)}},h3=J([gt,Vo,mg,Jd,ef,N1,Dt],f3),m3=J(Jt,mg,(e,t)=>{if(!(e==null||t==null))return rp(rp({},e),{},{scale:t})}),BJ=J([Jt,ti,x1,s3],hg);J((e,t,r)=>s1(e,r),BJ,(e,t)=>{if(!(e==null||t==null))return rp(rp({},e),{},{scale:t})});var zJ=J([gt,Hp,Fp],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),p3=e=>e.options.defaultTooltipEventType,g3=e=>e.options.validateTooltipEventTypes;function v3(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function _1(e,t){var r=p3(e),n=g3(e);return v3(t,r,n)}function qJ(e){return De(t=>_1(t,e))}var y3=(e,t)=>{var r,n=Number(t);if(!(Mi(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},VJ=e=>e.tooltip.settings,Es={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},HJ={itemInteraction:{click:Es,hover:Es},axisInteraction:{click:Es,hover:Es},keyboardInteraction:Es,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},x3=wn({name:"tooltip",initialState:HJ,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Bt()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Ea(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:Bt()},removeTooltipEntrySettings:{reducer(e,t){var r=Ea(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Bt()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:FJ,replaceTooltipEntrySettings:KJ,removeTooltipEntrySettings:GJ,setTooltipSettingsState:WJ,setActiveMouseOverItemIndex:YJ,mouseLeaveItem:Lme,mouseLeaveChart:b3,setActiveClickItemIndex:$me,setMouseOverAxisIndex:w3,setMouseClickAxisIndex:XJ,setSyncInteraction:nw,setKeyboardInteraction:aw}=x3.actions,ZJ=x3.reducer;function IO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IO(Object(r),!0).forEach(function(n){QJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QJ(e,t,r){return(t=JJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JJ(e){var t=eee(e,"string");return typeof t=="symbol"?t:t+""}function eee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tee(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function ree(e){return e.index!=null}var j3=(e,t,r,n)=>{if(t==null)return Es;var a=tee(e,t,r);if(a==null)return Es;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(ree(a)){if(s)return Vh(Vh({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return Vh(Vh({},Es),{},{coordinate:a.coordinate})};function nee(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function aee(e,t){var r=nee(e),n=t[0],a=t[1];if(r===void 0)return!1;var s=Math.min(n,a),l=Math.max(n,a);return r>=s&&r<=l}function iee(e,t,r){if(r==null||t==null)return!0;var n=nr(e,t);return n==null||!Ui(r)?!0:aee(n,r)}var k1=(e,t,r,n)=>{var a=e?.index;if(a==null)return null;var s=Number(a);if(!ht(s))return a;var l=0,u=1/0;t.length>0&&(u=t.length-1);var f=Math.max(l,Math.min(s,u)),h=t[f];return h==null||iee(h,r,n)?String(f):null},S3=(e,t,r,n,a,s,l)=>{if(s!=null){var u=l[0],f=u?.getPosition(s);if(f!=null)return f;var h=a?.[Number(s)];if(h)return r==="horizontal"?{x:h.coordinate,y:(n.top+t)/2}:{x:(n.left+e)/2,y:h.coordinate}}},N3=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(r==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&n!=null){var s=e.tooltipItemPayloads[0];return s!=null?[s]:[]}return e.tooltipItemPayloads.filter(l=>{var u;return((u=l.settings)===null||u===void 0?void 0:u.graphicalItemId)===a})},_3=e=>e.options.tooltipPayloadSearcher,kc=e=>e.tooltip;function LO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $O(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LO(Object(r),!0).forEach(function(n){see(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function see(e,t,r){return(t=oee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oee(e){var t=lee(e,"string");return typeof t=="symbol"?t:t+""}function lee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cee(e,t){return e??t}var k3=(e,t,r,n,a,s,l)=>{if(!(t==null||s==null)){var{chartData:u,computedData:f,dataStartIndex:h,dataEndIndex:m}=r,g=[];return e.reduce((v,x)=>{var w,{dataDefinedOnItem:S,settings:N}=x,_=cee(S,u),A=Array.isArray(_)?u5(_,h,m):_,k=(w=N?.dataKey)!==null&&w!==void 0?w:n,O=N?.nameKey,M;if(n&&Array.isArray(A)&&!Array.isArray(A[0])&&l==="axis"?M=bR(A,n,a):M=s(A,t,f,O),Array.isArray(M))M.forEach(D=>{var L=$O($O({},N),{},{name:D.name,unit:D.unit,color:void 0,fill:void 0});v.push($E({tooltipEntrySettings:L,dataKey:D.dataKey,payload:D.payload,value:nr(D.payload,D.dataKey),name:D.name}))});else{var C;v.push($E({tooltipEntrySettings:N,dataKey:k,payload:M,value:nr(M,k),name:(C=nr(M,O))!==null&&C!==void 0?C:N?.name}))}return v},g)}},A1=J([kr,F4,t1],a3),uee=J([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),dee=J([Lr,Nc],o1),Ac=J([uee,kr,dee],l1,{memoizeOptions:{resultEqualityCheck:ug}}),fee=J([Ac],e=>e.filter(i1)),hee=J([Ac],c1,{memoizeOptions:{resultEqualityCheck:ug}}),Ec=J([hee,Bs],u1),mee=J([fee,Bs,kr],z4),E1=J([Ec,kr,Ac],f1),A3=J([kr],h1),pee=J([kr],e=>e.allowDataOverflow),E3=J([A3,pee],S4),gee=J([Ac],e=>e.filter(i1)),vee=J([mee,gee,Wd,M4],X4),yee=J([vee,Bs,Lr,E3],Z4),xee=J([Ac],W4),bee=J([Ec,kr,xee,fg,Lr],g1,{memoizeOptions:{resultEqualityCheck:cg}}),wee=J([Q4,Lr,Nc],_c),jee=J([wee,Lr],t3),See=J([J4,Lr,Nc],_c),Nee=J([See,Lr],r3),_ee=J([e3,Lr,Nc],_c),kee=J([_ee,Lr],n3),Aee=J([jee,kee,Nee],np),Eee=J([kr,A3,E3,yee,bee,Aee,gt,Lr],v1),tf=J([kr,gt,Ec,E1,Wd,Lr,Eee],y1),Tee=J([tf,kr,A1],b1),Oee=J([kr,tf,Tee,Lr],j1),T3=e=>{var t=Lr(e),r=Nc(e),n=!1;return Jd(e,t,r,n)},O3=J([kr,T3],og),C3=J([kr,A1,Oee,O3],hg),Cee=J([gt,E1,kr,Lr],c3),Pee=J([gt,E1,kr,Lr],S1),Dee=(e,t,r,n,a,s,l,u)=>{if(t){var{type:f}=t,h=ei(e,u);if(n){var m=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,g=f==="category"&&n.bandwidth?n.bandwidth()/m:0;return g=u==="angleAxis"&&a!=null&&a?.length>=2?ta(a[0]-a[1])*2*g:g,h&&l?l.map((v,x)=>{var w=n.map(v);return ht(w)?{coordinate:w+g,value:v,index:x,offset:g}:null}).filter(yn):n.domain().map((v,x)=>{var w=n.map(v);return ht(w)?{coordinate:w+g,value:s?s[v]:v,index:x,offset:g}:null}).filter(yn)}}},Xi=J([gt,kr,A1,C3,T3,Cee,Pee,Lr],Dee),T1=J([p3,g3,VJ],(e,t,r)=>v3(r.shared,e,t)),P3=e=>e.tooltip.settings.trigger,O1=e=>e.tooltip.settings.defaultIndex,rf=J([kc,T1,P3,O1],j3),wd=J([rf,Ec,Qd,tf],k1),D3=J([Xi,wd],y3),Mee=J([rf],e=>{if(e)return e.dataKey});J([rf],e=>{if(e)return e.graphicalItemId});var M3=J([kc,T1,P3,O1],N3),Ree=J([Fi,Ki,gt,Yr,Xi,O1,M3],S3),Iee=J([rf,Ree],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Lee=J([rf],e=>{var t;return(t=e?.active)!==null&&t!==void 0?t:!1}),$ee=J([M3,wd,Bs,Qd,D3,_3,T1],k3),Uee=J([$ee],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function UO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function BO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UO(Object(r),!0).forEach(function(n){Bee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bee(e,t,r){return(t=zee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zee(e){var t=qee(e,"string");return typeof t=="symbol"?t:t+""}function qee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vee=()=>De(kr),Hee=()=>{var e=Vee(),t=De(Xi),r=De(C3);return sc(!e||!r?void 0:BO(BO({},e),{},{scale:r}),t)};function zO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ul(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zO(Object(r),!0).forEach(function(n){Fee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fee(e,t,r){return(t=Kee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kee(e){var t=Gee(e,"string");return typeof t=="symbol"?t:t+""}function Gee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wee=(e,t,r,n)=>{var a=t.find(s=>s&&s.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},Yee=(e,t,r,n)=>{var a=t.find(h=>h&&h.index===r);if(a){if(e==="centric"){var s=a.coordinate,{radius:l}=n;return Ul(Ul(Ul({},n),Nt(n.cx,n.cy,l,s)),{},{angle:s,radius:l})}var u=a.coordinate,{angle:f}=n;return Ul(Ul(Ul({},n),Nt(n.cx,n.cy,u,f)),{},{angle:f,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Xee(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var R3=(e,t,r,n,a)=>{var s,l=(s=t?.length)!==null&&s!==void 0?s:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var u=0;u<l;u++){var f,h,m,g,v,x=u>0?(f=r[u-1])===null||f===void 0?void 0:f.coordinate:(h=r[l-1])===null||h===void 0?void 0:h.coordinate,w=(m=r[u])===null||m===void 0?void 0:m.coordinate,S=u>=l-1?(g=r[0])===null||g===void 0?void 0:g.coordinate:(v=r[u+1])===null||v===void 0?void 0:v.coordinate,N=void 0;if(!(x==null||w==null||S==null))if(ta(w-x)!==ta(S-w)){var _=[];if(ta(S-w)===ta(a[1]-a[0])){N=S;var A=w+a[1]-a[0];_[0]=Math.min(A,(A+x)/2),_[1]=Math.max(A,(A+x)/2)}else{N=x;var k=S+a[1]-a[0];_[0]=Math.min(w,(k+w)/2),_[1]=Math.max(w,(k+w)/2)}var O=[Math.min(w,(N+w)/2),Math.max(w,(N+w)/2)];if(e>O[0]&&e<=O[1]||e>=_[0]&&e<=_[1]){var M;return(M=r[u])===null||M===void 0?void 0:M.index}}else{var C=Math.min(x,S),D=Math.max(x,S);if(e>(C+w)/2&&e<=(D+w)/2){var L;return(L=r[u])===null||L===void 0?void 0:L.index}}}else if(t)for(var V=0;V<l;V++){var te=t[V];if(te!=null){var W=t[V+1],K=t[V-1];if(V===0&&W!=null&&e<=(te.coordinate+W.coordinate)/2||V===l-1&&K!=null&&e>(te.coordinate+K.coordinate)/2||V>0&&V<l-1&&K!=null&&W!=null&&e>(te.coordinate+K.coordinate)/2&&e<=(te.coordinate+W.coordinate)/2)return te.index}}return-1},Zee=()=>De(t1),C1=(e,t)=>t,I3=(e,t,r)=>r,P1=(e,t,r,n)=>n,Qee=J(Xi,e=>Dp(e,t=>t.coordinate)),D1=J([kc,C1,I3,P1],j3),M1=J([D1,Ec,Qd,tf],k1),Jee=(e,t,r)=>{if(t!=null){var n=kc(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},L3=J([kc,C1,I3,P1],N3),ap=J([Fi,Ki,gt,Yr,Xi,P1,L3],S3),ete=J([D1,ap],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),$3=J([Xi,M1],y3),tte=J([L3,M1,Bs,Qd,$3,_3,C1],k3),rte=J([D1,M1],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),nte=(e,t,r,n,a,s,l)=>{if(!(!e||!r||!n||!a)&&Xee(e,l)){var u=IG(e,t),f=R3(u,s,a,r,n),h=Wee(t,a,f,e);return{activeIndex:String(f),activeCoordinate:h}}},ate=(e,t,r,n,a,s,l)=>{if(!(!e||!n||!a||!s||!r)){var u=zY(e,r);if(u){var f=LG(u,t),h=R3(f,l,s,n,a),m=Yee(t,s,h,u);return{activeIndex:String(h),activeCoordinate:m}}}},ite=(e,t,r,n,a,s,l,u)=>{if(!(!e||!t||!n||!a||!s))return t==="horizontal"||t==="vertical"?nte(e,t,n,a,s,l,u):ate(e,t,r,n,a,s,l)},ste=J(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),ote=J(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Sr)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:zQ}});function qO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function VO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qO(Object(r),!0).forEach(function(n){lte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lte(e,t,r){return(t=cte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cte(e){var t=ute(e,"string");return typeof t=="symbol"?t:t+""}function ute(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dte={},fte={zIndexMap:Object.values(Sr).reduce((e,t)=>VO(VO({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),dte)},hte=new Set(Object.values(Sr));function mte(e){return hte.has(e)}var U3=wn({name:"zIndex",initialState:fte,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Bt()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!mte(r)&&delete e.zIndexMap[r])},prepare:Bt()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:a?void 0:n,panoramaElement:a?n:void 0}},prepare:Bt()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:Bt()}}}),{registerZIndexPortal:pte,unregisterZIndexPortal:gte,registerZIndexPortalElement:vte,unregisterZIndexPortalElement:yte}=U3.actions,xte=U3.reducer;function Un(e){var{zIndex:t,children:r}=e,n=pW(),a=n&&t!==void 0&&t!==0,s=an(),l=Gt();y.useLayoutEffect(()=>a?(l(pte({zIndex:t})),()=>{l(gte({zIndex:t}))}):Hi,[l,t,a]);var u=De(f=>ste(f,t,s));return a?u?Gw.createPortal(r,u):null:r}function iw(){return iw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iw.apply(null,arguments)}function HO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HO(Object(r),!0).forEach(function(n){bte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bte(e,t,r){return(t=wte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wte(e){var t=jte(e,"string");return typeof t=="symbol"?t:t+""}function jte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ste(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return y.isValidElement(t)?y.cloneElement(t,n):y.createElement(r,n)}function Nte(e){var t,{coordinate:r,payload:n,index:a,offset:s,tooltipAxisBandSize:l,layout:u,cursor:f,tooltipEventType:h,chartName:m}=e,g=r,v=n,x=a;if(!f||!g||m!=="ScatterChart"&&h!=="axis")return null;var w,S,N;if(m==="ScatterChart")w=g,S=eY,N=Sr.cursorLine;else if(m==="BarChart")w=tY(u,g,s,l),S=U5,N=Sr.cursorRectangle;else if(u==="radial"&&SR(g)){var{cx:_,cy:A,radius:k,startAngle:O,endAngle:M}=B5(g);w={cx:_,cy:A,startAngle:O,endAngle:M,innerRadius:k,outerRadius:k},S=q5,N=Sr.cursorLine}else w={points:FY(u,g,s)},S=M5,N=Sr.cursorLine;var C=typeof f=="object"&&"className"in f?f.className:void 0,D=Hh(Hh(Hh(Hh({stroke:"#ccc",pointerEvents:"none"},s),w),gc(f)),{},{payload:v,payloadIndex:x,className:it("recharts-tooltip-cursor",C)});return y.createElement(Un,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:N},y.createElement(Ste,{cursor:f,cursorComp:S,cursorProps:D}))}function _te(e){var t=Hee(),r=y5(),n=vc(),a=Zee();return t==null||r==null||n==null||a==null?null:y.createElement(Nte,iw({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var B3=y.createContext(null),kte=()=>y.useContext(B3),xx={exports:{}},FO;function Ate(){return FO||(FO=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(f,h,m){this.fn=f,this.context=h,this.once=m||!1}function s(f,h,m,g,v){if(typeof m!="function")throw new TypeError("The listener must be a function");var x=new a(m,g||f,v),w=r?r+h:h;return f._events[w]?f._events[w].fn?f._events[w]=[f._events[w],x]:f._events[w].push(x):(f._events[w]=x,f._eventsCount++),f}function l(f,h){--f._eventsCount===0?f._events=new n:delete f._events[h]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var h=[],m,g;if(this._eventsCount===0)return h;for(g in m=this._events)t.call(m,g)&&h.push(r?g.slice(1):g);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(m)):h},u.prototype.listeners=function(h){var m=r?r+h:h,g=this._events[m];if(!g)return[];if(g.fn)return[g.fn];for(var v=0,x=g.length,w=new Array(x);v<x;v++)w[v]=g[v].fn;return w},u.prototype.listenerCount=function(h){var m=r?r+h:h,g=this._events[m];return g?g.fn?1:g.length:0},u.prototype.emit=function(h,m,g,v,x,w){var S=r?r+h:h;if(!this._events[S])return!1;var N=this._events[S],_=arguments.length,A,k;if(N.fn){switch(N.once&&this.removeListener(h,N.fn,void 0,!0),_){case 1:return N.fn.call(N.context),!0;case 2:return N.fn.call(N.context,m),!0;case 3:return N.fn.call(N.context,m,g),!0;case 4:return N.fn.call(N.context,m,g,v),!0;case 5:return N.fn.call(N.context,m,g,v,x),!0;case 6:return N.fn.call(N.context,m,g,v,x,w),!0}for(k=1,A=new Array(_-1);k<_;k++)A[k-1]=arguments[k];N.fn.apply(N.context,A)}else{var O=N.length,M;for(k=0;k<O;k++)switch(N[k].once&&this.removeListener(h,N[k].fn,void 0,!0),_){case 1:N[k].fn.call(N[k].context);break;case 2:N[k].fn.call(N[k].context,m);break;case 3:N[k].fn.call(N[k].context,m,g);break;case 4:N[k].fn.call(N[k].context,m,g,v);break;default:if(!A)for(M=1,A=new Array(_-1);M<_;M++)A[M-1]=arguments[M];N[k].fn.apply(N[k].context,A)}}return!0},u.prototype.on=function(h,m,g){return s(this,h,m,g,!1)},u.prototype.once=function(h,m,g){return s(this,h,m,g,!0)},u.prototype.removeListener=function(h,m,g,v){var x=r?r+h:h;if(!this._events[x])return this;if(!m)return l(this,x),this;var w=this._events[x];if(w.fn)w.fn===m&&(!v||w.once)&&(!g||w.context===g)&&l(this,x);else{for(var S=0,N=[],_=w.length;S<_;S++)(w[S].fn!==m||v&&!w[S].once||g&&w[S].context!==g)&&N.push(w[S]);N.length?this._events[x]=N.length===1?N[0]:N:l(this,x)}return this},u.prototype.removeAllListeners=function(h){var m;return h?(m=r?r+h:h,this._events[m]&&l(this,m)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u})(xx)),xx.exports}var Ete=Ate();const Tte=Ca(Ete);var jd=new Tte,sw="recharts.syncEvent.tooltip",KO="recharts.syncEvent.brush",z3=(e,t)=>{if(t&&Array.isArray(e)){var r=Number.parseInt(t,10);if(!Mi(r))return e[r]}},Ote={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},q3=wn({name:"options",initialState:Ote,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Cte=q3.reducer,{createEventEmitter:Pte}=q3.actions;function Dte(e){return e.tooltip.syncInteraction}var Mte={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},V3=wn({name:"chartData",initialState:Mte,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:GO,setDataStartEndIndexes:Rte,setComputedData:Ume}=V3.actions,Ite=V3.reducer,Lte=["x","y"];function WO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WO(Object(r),!0).forEach(function(n){$te(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $te(e,t,r){return(t=Ute(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ute(e){var t=Bte(e,"string");return typeof t=="symbol"?t:t+""}function Bte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zte(e,t){if(e==null)return{};var r,n,a=qte(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function qte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Vte(){var e=De(r1),t=De(n1),r=Gt(),n=De(R4),a=De(Xi),s=vc(),l=Wp(),u=De(f=>f.rootProps.className);y.useEffect(()=>{if(e==null)return Hi;var f=(h,m,g)=>{if(t!==g&&e===h){if(n==="index"){var v;if(l&&m!==null&&m!==void 0&&(v=m.payload)!==null&&v!==void 0&&v.coordinate&&m.payload.sourceViewBox){var x=m.payload.coordinate,{x:w,y:S}=x,N=zte(x,Lte),{x:_,y:A,width:k,height:O}=m.payload.sourceViewBox,M=Bl(Bl({},N),{},{x:l.x+(k?(w-_)/k:0)*l.width,y:l.y+(O?(S-A)/O:0)*l.height});r(Bl(Bl({},m),{},{payload:Bl(Bl({},m.payload),{},{coordinate:M})}))}else r(m);return}if(a!=null){var C;if(typeof n=="function"){var D={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},L=n(a,D);C=a[L]}else n==="value"&&(C=a.find(Y=>String(Y.value)===m.payload.label));var{coordinate:V}=m.payload;if(C==null||m.payload.active===!1||V==null||l==null){r(nw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:te,y:W}=V,K=Math.min(te,l.x+l.width),Se=Math.min(W,l.y+l.height),be={x:s==="horizontal"?C.coordinate:K,y:s==="horizontal"?Se:C.coordinate},Ae=nw({active:m.payload.active,coordinate:be,dataKey:m.payload.dataKey,index:String(C.index),label:m.payload.label,sourceViewBox:m.payload.sourceViewBox,graphicalItemId:m.payload.graphicalItemId});r(Ae)}}};return jd.on(sw,f),()=>{jd.off(sw,f)}},[u,r,t,e,n,a,s,l])}function Hte(){var e=De(r1),t=De(n1),r=Gt();y.useEffect(()=>{if(e==null)return Hi;var n=(a,s,l)=>{t!==l&&e===a&&r(Rte(s))};return jd.on(KO,n),()=>{jd.off(KO,n)}},[r,t,e])}function Fte(){var e=Gt();y.useEffect(()=>{e(Pte())},[e]),Vte(),Hte()}function Kte(e,t,r,n,a,s){var l=De(x=>Jee(x,e,t)),u=De(n1),f=De(r1),h=De(R4),m=De(Dte),g=m?.active,v=Wp();y.useEffect(()=>{if(!g&&f!=null&&u!=null){var x=nw({active:s,coordinate:r,dataKey:l,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:v,graphicalItemId:void 0});jd.emit(sw,f,x,u)}},[g,r,l,a,n,u,f,h,s,v])}function YO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function XO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YO(Object(r),!0).forEach(function(n){Gte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gte(e,t,r){return(t=Wte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wte(e){var t=Yte(e,"string");return typeof t=="symbol"?t:t+""}function Yte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xte(e){return e.dataKey}function Zte(e,t){return y.isValidElement(e)?y.cloneElement(e,t):typeof e=="function"?y.createElement(e,t):y.createElement(DW,t)}var ZO=[],Qte={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function QO(e){var t,r,n=mr(e,Qte),{active:a,allowEscapeViewBox:s,animationDuration:l,animationEasing:u,content:f,filterNull:h,isAnimationActive:m,offset:g,payloadUniqBy:v,position:x,reverseDirection:w,useTranslate3d:S,wrapperStyle:N,cursor:_,shared:A,trigger:k,defaultIndex:O,portal:M,axisId:C}=n,D=Gt(),L=typeof O=="number"?String(O):O;y.useEffect(()=>{D(WJ({shared:A,trigger:k,axisId:C,active:a,defaultIndex:L}))},[D,A,k,C,a,L]);var V=Wp(),te=D5(),W=qJ(A),{activeIndex:K,isActive:Se}=(t=De(je=>rte(je,W,k,L)))!==null&&t!==void 0?t:{},be=De(je=>tte(je,W,k,L)),Ae=De(je=>$3(je,W,k,L)),Y=De(je=>ete(je,W,k,L)),ee=be,ce=kte(),we=(r=a??Se)!==null&&r!==void 0?r:!1,[G,T]=NK([ee,we]),I=W==="axis"?Ae:void 0;Kte(W,k,Y,I,K,we);var $=M??ce;if($==null||V==null||W==null)return null;var B=ee??ZO;we||(B=ZO),h&&B.length&&(B=XF(B.filter(je=>je.value!=null&&(je.hide!==!0||n.includeHidden)),v,Xte));var Z=B.length>0,ue=y.createElement(BW,{allowEscapeViewBox:s,animationDuration:l,animationEasing:u,isAnimationActive:m,active:we,coordinate:Y,hasPayload:Z,offset:g,position:x,reverseDirection:w,useTranslate3d:S,viewBox:V,wrapperStyle:N,lastBoundingBox:G,innerRef:T,hasPortalFromProps:!!M},Zte(f,XO(XO({},n),{},{payload:B,label:I,active:we,activeIndex:K,coordinate:Y,accessibilityLayer:te})));return y.createElement(y.Fragment,null,Gw.createPortal(ue,$),we&&y.createElement(_te,{cursor:_,tooltipEventType:W,coordinate:Y,payload:B,index:K}))}function Jte(e,t,r){return(t=ere(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ere(e){var t=tre(e,"string");return typeof t=="symbol"?t:t+""}function tre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class rre{constructor(t){Jte(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function JO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nre(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JO(Object(r),!0).forEach(function(n){are(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function are(e,t,r){return(t=ire(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ire(e){var t=sre(e,"string");return typeof t=="symbol"?t:t+""}function sre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ore={cacheSize:2e3,enableCache:!0},H3=nre({},ore),eC=new rre(H3.cacheSize),lre={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},tC="recharts_measurement_span";function cre(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",s=t.fontStyle||"",l=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(s,"|").concat(l,"|").concat(u)}var rC=(e,t)=>{try{var r=document.getElementById(tC);r||(r=document.createElement("span"),r.setAttribute("id",tC),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,lre,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Hu=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Qp.isSsr)return{width:0,height:0};if(!H3.enableCache)return rC(t,r);var n=cre(t,r),a=eC.get(n);if(a)return a;var s=rC(t,r);return eC.set(n,s),s},F3;function ure(e,t,r){return(t=dre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dre(e){var t=fre(e,"string");return typeof t=="symbol"?t:t+""}function fre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,aC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,hre=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,mre=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,pre={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},gre=["cm","mm","pt","pc","in","Q","px"];function vre(e){return gre.includes(e)}var Wl="NaN";function yre(e,t){return e*pre[t]}class Wr{static parse(t){var r,[,n,a]=(r=mre.exec(t))!==null&&r!==void 0?r:[];return n==null?Wr.NaN:new Wr(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Mi(t)&&(this.unit=""),r!==""&&!hre.test(r)&&(this.num=NaN,this.unit=""),vre(r)&&(this.num=yre(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Wr(NaN,""):new Wr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Wr(NaN,""):new Wr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Wr(NaN,""):new Wr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Wr(NaN,""):new Wr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Mi(this.num)}}F3=Wr;ure(Wr,"NaN",new F3(NaN,""));function K3(e){if(e==null||e.includes(Wl))return Wl;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,s]=(r=nC.exec(t))!==null&&r!==void 0?r:[],l=Wr.parse(n??""),u=Wr.parse(s??""),f=a==="*"?l.multiply(u):l.divide(u);if(f.isNaN())return Wl;t=t.replace(nC,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,[,m,g,v]=(h=aC.exec(t))!==null&&h!==void 0?h:[],x=Wr.parse(m??""),w=Wr.parse(v??""),S=g==="+"?x.add(w):x.subtract(w);if(S.isNaN())return Wl;t=t.replace(aC,S.toString())}return t}var iC=/\(([^()]*)\)/;function xre(e){for(var t=e,r;(r=iC.exec(t))!=null;){var[,n]=r;t=t.replace(iC,K3(n))}return t}function bre(e){var t=e.replace(/\s+/g,"");return t=xre(t),t=K3(t),t}function wre(e){try{return bre(e)}catch{return Wl}}function bx(e){var t=wre(e.slice(5,-1));return t===Wl?"":t}var jre=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Sre=["dx","dy","angle","className","breakAll"];function ow(){return ow=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ow.apply(null,arguments)}function sC(e,t){if(e==null)return{};var r,n,a=Nre(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Nre(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var G3=/[ \f\n\r\t\v\u2028\u2029]+/,W3=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];Nr(t)||(r?a=t.toString().split(""):a=t.toString().split(G3));var s=a.map(u=>({word:u,width:Hu(u,n).width})),l=r?0:Hu("",n).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}};function _re(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var Y3=(e,t,r,n)=>e.reduce((a,s)=>{var{word:l,width:u}=s,f=a[a.length-1];if(f&&u!=null&&(t==null||n||f.width+u+r<Number(t)))f.words.push(l),f.width+=u+r;else{var h={words:[l],width:u};a.push(h)}return a},[]),X3=e=>e.reduce((t,r)=>t.width>r.width?t:r),kre="",oC=(e,t,r,n,a,s,l,u)=>{var f=e.slice(0,t),h=W3({breakAll:r,style:n,children:f+kre});if(!h)return[!1,[]];var m=Y3(h.wordsWithComputedWidth,s,l,u),g=m.length>a||X3(m).width>Number(s);return[g,m]},Are=(e,t,r,n,a)=>{var{maxLines:s,children:l,style:u,breakAll:f}=e,h=$e(s),m=String(l),g=Y3(t,n,r,a);if(!h||a)return g;var v=g.length>s||X3(g).width>Number(n);if(!v)return g;for(var x=0,w=m.length-1,S=0,N;x<=w&&S<=m.length-1;){var _=Math.floor((x+w)/2),A=_-1,[k,O]=oC(m,A,f,u,s,n,r,a),[M]=oC(m,_,f,u,s,n,r,a);if(!k&&!M&&(x=_+1),k&&M&&(w=_-1),!k&&M){N=O;break}S++}return N||g},lC=e=>{var t=Nr(e)?[]:e.toString().split(G3);return[{words:t,width:void 0}]},Ere=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:s,maxLines:l}=e;if((t||r)&&!Qp.isSsr){var u,f,h=W3({breakAll:s,children:n,style:a});if(h){var{wordsWithComputedWidth:m,spaceWidth:g}=h;u=m,f=g}else return lC(n);return Are({breakAll:s,children:n,maxLines:l,style:a},u,f,t,!!r)}return lC(n)},Z3="#808080",Tre={angle:0,breakAll:!1,capHeight:"0.71em",fill:Z3,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},nf=y.forwardRef((e,t)=>{var r=mr(e,Tre),{x:n,y:a,lineHeight:s,capHeight:l,fill:u,scaleToFit:f,textAnchor:h,verticalAnchor:m}=r,g=sC(r,jre),v=y.useMemo(()=>Ere({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),{dx:x,dy:w,angle:S,className:N,breakAll:_}=g,A=sC(g,Sre);if(!Ya(n)||!Ya(a)||v.length===0)return null;var k=Number(n)+($e(x)?x:0),O=Number(a)+($e(w)?w:0);if(!ht(k)||!ht(O))return null;var M;switch(m){case"start":M=bx("calc(".concat(l,")"));break;case"middle":M=bx("calc(".concat((v.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:M=bx("calc(".concat(v.length-1," * -").concat(s,")"));break}var C=[],D=v[0];if(f&&D!=null){var L=D.width,{width:V}=g;C.push("scale(".concat($e(V)&&$e(L)?V/L:1,")"))}return S&&C.push("rotate(".concat(S,", ").concat(k,", ").concat(O,")")),C.length&&(A.transform=C.join(" ")),y.createElement("text",ow({},fr(A),{ref:t,x:k,y:O,className:it("recharts-text",N),textAnchor:h,fill:u.includes("url")?Z3:u}),v.map((te,W)=>{var K=te.words.join(_?"":" ");return y.createElement("tspan",{x:k,dy:W===0?M:s,key:"".concat(K,"-").concat(W)},K)}))});nf.displayName="Text";function cC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cC(Object(r),!0).forEach(function(n){Ore(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ore(e,t,r){return(t=Cre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cre(e){var t=Pre(e,"string");return typeof t=="symbol"?t:t+""}function Pre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dre=e=>{var{viewBox:t,position:r,offset:n=0,parentViewBox:a}=e,{x:s,y:l,height:u,upperWidth:f,lowerWidth:h}=Nj(t),m=s,g=s+(f-h)/2,v=(m+g)/2,x=(f+h)/2,w=m+f/2,S=u>=0?1:-1,N=S*n,_=S>0?"end":"start",A=S>0?"start":"end",k=f>=0?1:-1,O=k*n,M=k>0?"end":"start",C=k>0?"start":"end",D=a;if(r==="top"){var L={x:m+f/2,y:l-N,horizontalAnchor:"middle",verticalAnchor:_};return D&&(L.height=Math.max(l-D.y,0),L.width=f),L}if(r==="bottom"){var V={x:g+h/2,y:l+u+N,horizontalAnchor:"middle",verticalAnchor:A};return D&&(V.height=Math.max(D.y+D.height-(l+u),0),V.width=h),V}if(r==="left"){var te={x:v-O,y:l+u/2,horizontalAnchor:M,verticalAnchor:"middle"};return D&&(te.width=Math.max(te.x-D.x,0),te.height=u),te}if(r==="right"){var W={x:v+x+O,y:l+u/2,horizontalAnchor:C,verticalAnchor:"middle"};return D&&(W.width=Math.max(D.x+D.width-W.x,0),W.height=u),W}var K=D?{width:x,height:u}:{};return r==="insideLeft"?qa({x:v+O,y:l+u/2,horizontalAnchor:C,verticalAnchor:"middle"},K):r==="insideRight"?qa({x:v+x-O,y:l+u/2,horizontalAnchor:M,verticalAnchor:"middle"},K):r==="insideTop"?qa({x:m+f/2,y:l+N,horizontalAnchor:"middle",verticalAnchor:A},K):r==="insideBottom"?qa({x:g+h/2,y:l+u-N,horizontalAnchor:"middle",verticalAnchor:_},K):r==="insideTopLeft"?qa({x:m+O,y:l+N,horizontalAnchor:C,verticalAnchor:A},K):r==="insideTopRight"?qa({x:m+f-O,y:l+N,horizontalAnchor:M,verticalAnchor:A},K):r==="insideBottomLeft"?qa({x:g+O,y:l+u-N,horizontalAnchor:C,verticalAnchor:_},K):r==="insideBottomRight"?qa({x:g+h-O,y:l+u-N,horizontalAnchor:M,verticalAnchor:_},K):r&&typeof r=="object"&&($e(r.x)||Do(r.x))&&($e(r.y)||Do(r.y))?qa({x:s+Ms(r.x,x),y:l+Ms(r.y,u),horizontalAnchor:"end",verticalAnchor:"end"},K):qa({x:w,y:l+u/2,horizontalAnchor:"middle",verticalAnchor:"middle"},K)},Mre=["labelRef"],Rre=["content"];function uC(e,t){if(e==null)return{};var r,n,a=Ire(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ire(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function dC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Uu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dC(Object(r),!0).forEach(function(n){Lre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lre(e,t,r){return(t=$re(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $re(e){var t=Ure(e,"string");return typeof t=="symbol"?t:t+""}function Ure(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Si(){return Si=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Si.apply(null,arguments)}var Q3=y.createContext(null),Bre=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:l,children:u}=e,f=y.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:l}),[t,r,n,a,s,l]);return y.createElement(Q3.Provider,{value:f},u)},J3=()=>{var e=y.useContext(Q3),t=Wp();return e||(t?Nj(t):void 0)},eI=y.createContext(null),zre=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:s,endAngle:l,clockWise:u,children:f}=e,h=y.useMemo(()=>({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:s,endAngle:l,clockWise:u}),[t,r,n,a,s,l,u]);return y.createElement(eI.Provider,{value:h},f)},tI=()=>{var e=y.useContext(eI),t=De(Sc);return e||t},qre=e=>{var{value:t,formatter:r}=e,n=Nr(e.children)?t:e.children;return typeof r=="function"?r(n):n},R1=e=>e!=null&&typeof e=="function",Vre=(e,t)=>{var r=ta(t-e),n=Math.min(Math.abs(t-e),360);return r*n},Hre=(e,t,r,n,a)=>{var{offset:s,className:l}=e,{cx:u,cy:f,innerRadius:h,outerRadius:m,startAngle:g,endAngle:v,clockWise:x}=a,w=(h+m)/2,S=Vre(g,v),N=S>=0?1:-1,_,A;switch(t){case"insideStart":_=g+N*s,A=x;break;case"insideEnd":_=v-N*s,A=!x;break;case"end":_=v+N*s,A=x;break;default:throw new Error("Unsupported position ".concat(t))}A=S<=0?A:!A;var k=Nt(u,f,w,_),O=Nt(u,f,w,_+(A?1:-1)*359),M="M".concat(k.x,",").concat(k.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(A?0:1,`,
    `).concat(O.x,",").concat(O.y),C=Nr(e.id)?ld("recharts-radial-line-"):e.id;return y.createElement("text",Si({},n,{dominantBaseline:"central",className:it("recharts-radial-bar-label",l)}),y.createElement("defs",null,y.createElement("path",{id:C,d:M})),y.createElement("textPath",{xlinkHref:"#".concat(C)},r))},Fre=(e,t,r)=>{var{cx:n,cy:a,innerRadius:s,outerRadius:l,startAngle:u,endAngle:f}=e,h=(u+f)/2;if(r==="outside"){var{x:m,y:g}=Nt(n,a,l+t,h);return{x:m,y:g,textAnchor:m>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var v=(s+l)/2,{x,y:w}=Nt(n,a,v,h);return{x,y:w,textAnchor:"middle",verticalAnchor:"middle"}},am=e=>e!=null&&"cx"in e&&$e(e.cx),Kre={angle:0,offset:5,zIndex:Sr.label,position:"middle",textBreakAll:!1};function Gre(e){if(!am(e))return e;var{cx:t,cy:r,outerRadius:n}=e,a=n*2;return{x:t-n,y:r-n,width:a,upperWidth:a,lowerWidth:a,height:a}}function ks(e){var t=mr(e,Kre),{viewBox:r,parentViewBox:n,position:a,value:s,children:l,content:u,className:f="",textBreakAll:h,labelRef:m}=t,g=tI(),v=J3(),x=a==="center"?v:g??v,w,S,N;r==null?w=x:am(r)?w=r:w=Nj(r);var _=Gre(w);if(!w||Nr(s)&&Nr(l)&&!y.isValidElement(u)&&typeof u!="function")return null;var A=Uu(Uu({},t),{},{viewBox:w});if(y.isValidElement(u)){var{labelRef:k}=A,O=uC(A,Mre);return y.cloneElement(u,O)}if(typeof u=="function"){var{content:M}=A,C=uC(A,Rre);if(S=y.createElement(u,C),y.isValidElement(S))return S}else S=qre(t);var D=fr(t);if(am(w)){if(a==="insideStart"||a==="insideEnd"||a==="end")return Hre(t,a,S,D,w);N=Fre(w,t.offset,t.position)}else{if(!_)return null;var L=Dre({viewBox:_,position:a,offset:t.offset,parentViewBox:am(n)?void 0:n});N=Uu(Uu({x:L.x,y:L.y,textAnchor:L.horizontalAnchor,verticalAnchor:L.verticalAnchor},L.width!==void 0?{width:L.width}:{}),L.height!==void 0?{height:L.height}:{})}return y.createElement(Un,{zIndex:t.zIndex},y.createElement(nf,Si({ref:m,className:it("recharts-label",f)},D,N,{textAnchor:_re(D.textAnchor)?D.textAnchor:N.textAnchor,breakAll:h}),S))}ks.displayName="Label";var rI=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?y.createElement(ks,Si({key:"label-implicit"},n)):Ya(e)?y.createElement(ks,Si({key:"label-implicit",value:e},n)):y.isValidElement(e)?e.type===ks?y.cloneElement(e,Uu({key:"label-implicit"},n)):y.createElement(ks,Si({key:"label-implicit",content:e},n)):R1(e)?y.createElement(ks,Si({key:"label-implicit",content:e},n)):e&&typeof e=="object"?y.createElement(ks,Si({},e,{key:"label-implicit"},n)):null};function Wre(e){var{label:t,labelRef:r}=e,n=J3();return rI(t,n,r)||null}function Yre(e){var{label:t}=e,r=tI();return rI(t,r)||null}var wx={},jx={},fC;function Xre(){return fC||(fC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(jx)),jx}var Sx={},hC;function Zre(){return hC||(hC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(Sx)),Sx}var mC;function Qre(){return mC||(mC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xre(),r=Zre(),n=hj();function a(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=a})(wx)),wx}var Nx,pC;function Jre(){return pC||(pC=1,Nx=Qre().last),Nx}var ene=Jre();const nI=Ca(ene);var tne=["valueAccessor"],rne=["dataKey","clockWise","id","textBreakAll","zIndex"];function ip(){return ip=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ip.apply(null,arguments)}function gC(e,t){if(e==null)return{};var r,n,a=nne(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function nne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ane=e=>Array.isArray(e.value)?nI(e.value):e.value,aI=y.createContext(void 0),iI=aI.Provider,sI=y.createContext(void 0);sI.Provider;function ine(){return y.useContext(aI)}function sne(){return y.useContext(sI)}function im(e){var{valueAccessor:t=ane}=e,r=gC(e,tne),{dataKey:n,clockWise:a,id:s,textBreakAll:l,zIndex:u}=r,f=gC(r,rne),h=ine(),m=sne(),g=h||m;return!g||!g.length?null:y.createElement(Un,{zIndex:u??Sr.label},y.createElement(nn,{className:"recharts-label-list"},g.map((v,x)=>{var w,S=Nr(n)?t(v,x):nr(v.payload,n),N=Nr(s)?{}:{id:"".concat(s,"-").concat(x)};return y.createElement(ks,ip({key:"label-".concat(x)},fr(v),f,N,{fill:(w=r.fill)!==null&&w!==void 0?w:v.fill,parentViewBox:v.parentViewBox,value:S,textBreakAll:l,viewBox:v.viewBox,index:x,zIndex:0}))})))}im.displayName="LabelList";function oI(e){var{label:t}=e;return t?t===!0?y.createElement(im,{key:"labelList-implicit"}):y.isValidElement(t)||R1(t)?y.createElement(im,{key:"labelList-implicit",content:t}):typeof t=="object"?y.createElement(im,ip({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var one=["points","className","baseLinePoints","connectNulls"],vC;function Yl(){return Yl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yl.apply(null,arguments)}function lne(e,t){if(e==null)return{};var r,n,a=cne(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function cne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function une(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var yC=e=>e!=null&&e.x===+e.x&&e.y===+e.y,dne=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];t.forEach(l=>{var u=r[r.length-1];yC(l)?u&&u.push(l):u&&u.length>0&&r.push([])});var n=t[0],a=r[r.length-1];yC(n)&&a&&a.push(n);var s=r[r.length-1];return s&&s.length<=0&&(r=r.slice(0,-1)),r},Fu=(e,t)=>{var r=dne(e);t&&(r=[r.reduce((a,s)=>[...a,...s],[])]);var n=r.map(a=>a.reduce((s,l,u)=>Ft(vC||(vC=une(["","","",",",""])),s,u===0?"M":"L",l.x,l.y),"")).join("");return r.length===1?"".concat(n,"Z"):n},fne=(e,t,r)=>{var n=Fu(e,r);return"".concat(n.slice(-1)==="Z"?n.slice(0,-1):n,"L").concat(Fu(Array.from(t).reverse(),r).slice(1))},lI=e=>{var{points:t,className:r,baseLinePoints:n,connectNulls:a}=e,s=lne(e,one);if(!t||!t.length)return null;var l=it("recharts-polygon",r);if(n&&n.length){var u=s.stroke&&s.stroke!=="none",f=fne(t,n,a);return y.createElement("g",{className:l},y.createElement("path",Yl({},fr(s),{fill:f.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:f})),u?y.createElement("path",Yl({},fr(s),{fill:"none",d:Fu(t,a)})):null,u?y.createElement("path",Yl({},fr(s),{fill:"none",d:Fu(n,a)})):null)}var h=Fu(t,a);return y.createElement("path",Yl({},fr(s),{fill:h.slice(-1)==="Z"?s.fill:"none",className:l,d:h}))};function lw(){return lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lw.apply(null,arguments)}var I1=e=>{var{cx:t,cy:r,r:n,className:a}=e,s=it("recharts-dot",a);return $e(t)&&$e(r)&&$e(n)?y.createElement("circle",lw({},ir(e),dj(e),{className:s,cx:t,cy:r,r:n})):null},cI=e=>e.graphicalItems.polarItems,hne=J([Dt,Xd],o1),vg=J([cI,Jt,hne],l1),mne=J([vg],c1),yg=J([mne,Zj],u1),uI=J([yg,Jt,vg],f1);J([yg,Jt,vg],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var s,l=nr(n,(s=t.dataKey)!==null&&s!==void 0?s:a.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(n=>({value:nr(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var xC=()=>{},pne=J([yg,Jt,vg,fg,Dt],g1),gne=J([Jt,m1,p1,xC,pne,xC,gt,Dt],v1),dI=J([Jt,gt,yg,uI,Wd,Dt,gne],y1),fI=J([dI,Vo,ti],b1),vne=J([Jt,dI,fI,Dt],j1),yne=J([ti,vne],q4),L1=(e,t,r)=>{switch(t){case"angleAxis":return jc(e,r);case"radiusAxis":return Yd(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},$1=(e,t,r)=>{switch(t){case"angleAxis":return UQ(e,r);case"radiusAxis":return BQ(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Tc=J([L1,ti,yne,$1],hg),hI=J([gt,uI,Vo,Dt],S1),Oc=J([gt,L1,ti,Tc,fI,$1,ef,hI,Dt],u3),xne=J([Oc],e=>{if(e){var t=new Map;return e.forEach(r=>{var n=(r.coordinate+360)%360;t.has(n)||t.set(n,r)}),Array.from(t.values())}});J([gt,L1,Tc,$1,ef,hI,Dt],f3);var bne=(e,t)=>Oc(e,"angleAxis",t,!1),wne=J([bne],e=>{if(e)return e.map(t=>t.coordinate)}),jne=(e,t)=>Oc(e,"radiusAxis",t,!1),Sne=J([jne],e=>{if(e)return e.map(t=>t.coordinate)}),Nne=["gridType","radialLines","angleAxisId","radiusAxisId","cx","cy","innerRadius","outerRadius","polarAngles","polarRadius","zIndex"];function _ne(e,t){if(e==null)return{};var r,n,a=kne(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function kne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function _a(){return _a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_a.apply(null,arguments)}function bC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bC(Object(r),!0).forEach(function(n){Ane(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ane(e,t,r){return(t=Ene(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ene(e){var t=Tne(e,"string");return typeof t=="symbol"?t:t+""}function Tne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var One=(e,t,r,n)=>{var a="";return n.forEach((s,l)=>{var u=Nt(t,r,e,s);l?a+="L ".concat(u.x,",").concat(u.y):a+="M ".concat(u.x,",").concat(u.y)}),a+="Z",a},Cne=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,polarAngles:s,radialLines:l}=e;if(!s||!s.length||!l)return null;var u=xg({stroke:"#ccc"},ir(e));return y.createElement("g",{className:"recharts-polar-grid-angle"},s.map(f=>{var h=Nt(t,r,n,f),m=Nt(t,r,a,f);return y.createElement("line",_a({key:"line-".concat(f)},u,{x1:h.x,y1:h.y,x2:m.x,y2:m.y}))}))},wC=e=>{var{cx:t,cy:r,radius:n}=e,a=xg({stroke:"#ccc",fill:"none"},ir(e));return y.createElement("circle",_a({},a,{className:it("recharts-polar-grid-concentric-circle",e.className),cx:t,cy:r,r:n}))},jC=e=>{var{radius:t}=e,r=xg({stroke:"#ccc",fill:"none"},ir(e));return y.createElement("path",_a({},r,{className:it("recharts-polar-grid-concentric-polygon",e.className),d:One(t,e.cx,e.cy,e.polarAngles)}))},Pne=e=>{var{polarRadius:t,gridType:r}=e;if(!t||!t.length)return null;var n=Math.max(...t),a=e.fill&&e.fill!=="none";return y.createElement("g",{className:"recharts-polar-grid-concentric"},a&&r==="circle"&&y.createElement(wC,_a({},e,{radius:n})),a&&r!=="circle"&&y.createElement(jC,_a({},e,{radius:n})),t.map((s,l)=>{var u=l;return r==="circle"?y.createElement(wC,_a({key:u},e,{fill:"none",radius:s})):y.createElement(jC,_a({key:u},e,{fill:"none",radius:s}))}))},Dne={angleAxisId:0,radiusAxisId:0,gridType:"polygon",radialLines:!0,zIndex:Sr.grid},mI=e=>{var t,r,n,a,s,l,u,f,h=mr(e,Dne),{gridType:m,radialLines:g,angleAxisId:v,radiusAxisId:x,cx:w,cy:S,innerRadius:N,outerRadius:_,polarAngles:A,polarRadius:k,zIndex:O}=h,M=_ne(h,Nne),C=De(Sc),D=De(Se=>wne(Se,v)),L=De(Se=>Sne(Se,x)),V=Array.isArray(A)?A:D,te=Array.isArray(k)?k:L;if(V==null||te==null)return null;var W=xg({cx:(t=(r=C?.cx)!==null&&r!==void 0?r:w)!==null&&t!==void 0?t:0,cy:(n=(a=C?.cy)!==null&&a!==void 0?a:S)!==null&&n!==void 0?n:0,innerRadius:(s=(l=C?.innerRadius)!==null&&l!==void 0?l:N)!==null&&s!==void 0?s:0,outerRadius:(u=(f=C?.outerRadius)!==null&&f!==void 0?f:_)!==null&&u!==void 0?u:0,polarAngles:V,polarRadius:te,zIndex:O},M),{outerRadius:K}=W;return K<=0?null:y.createElement(Un,{zIndex:W.zIndex},y.createElement("g",{className:"recharts-polar-grid"},y.createElement(Pne,_a({gridType:m,radialLines:g},W,{polarAngles:V,polarRadius:te})),y.createElement(Cne,_a({gridType:m,radialLines:g},W,{polarAngles:V,polarRadius:te}))))};mI.displayName="PolarGrid";var _x={},kx={},SC;function Mne(){return SC||(SC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){if(r.length===0)return;let a=r[0],s=n(a,0,r);for(let l=1;l<r.length;l++){const u=r[l],f=n(u,l,r);f>s&&(s=f,a=u)}return a}e.maxBy=t})(kx)),kx}var NC;function Rne(){return NC||(NC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mne(),r=Pp(),n=pj();function a(s,l){if(s!=null)return t.maxBy(Array.from(s),n.iteratee(l??r.identity))}e.maxBy=a})(_x)),_x}var Ax,_C;function Ine(){return _C||(_C=1,Ax=Rne().maxBy),Ax}var Lne=Ine();const $ne=Ca(Lne);var Ex={},Tx={},kC;function Une(){return kC||(kC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){if(r.length===0)return;let a=r[0],s=n(a,0,r);for(let l=1;l<r.length;l++){const u=r[l],f=n(u,l,r);f<s&&(s=f,a=u)}return a}e.minBy=t})(Tx)),Tx}var AC;function Bne(){return AC||(AC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Une(),r=Pp(),n=pj();function a(s,l){if(s!=null)return t.minBy(Array.from(s),n.iteratee(l??r.identity))}e.minBy=a})(Ex)),Ex}var Ox,EC;function zne(){return EC||(EC=1,Ox=Bne().minBy),Ox}var qne=zne();const Vne=Ca(qne);var Hne={radiusAxis:{},angleAxis:{}},pI=wn({name:"polarAxis",initialState:Hne,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Fne,removeRadiusAxis:Kne,addAngleAxis:Gne,removeAngleAxis:Wne}=pI.actions,Yne=pI.reducer;function U1(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var Xne=["type"],Zne=["cx","cy","angle","axisLine"],Qne=["angle","tickFormatter","stroke","tick"];function Sd(){return Sd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sd.apply(null,arguments)}function TC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ka(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TC(Object(r),!0).forEach(function(n){Jne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jne(e,t,r){return(t=eae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eae(e){var t=tae(e,"string");return typeof t=="symbol"?t:t+""}function tae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function B1(e,t){if(e==null)return{};var r,n,a=rae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function rae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var nae="radiusAxis";function aae(e){var t=Gt(),r=j5(),n=y.useMemo(()=>{var{type:a}=e,s=B1(e,Xne),l=wc(r,"radiusAxis",a);if(l!=null)return ka(ka({},s),{},{type:l})},[e,r]);return y.useEffect(()=>n==null?Hi:(t(Fne(n)),()=>{t(Kne(n))}),[t,n]),null}var iae=(e,t,r,n)=>{var{coordinate:a}=e;return Nt(r,n,a,t)},sae=e=>{var t;switch(e){case"left":t="end";break;case"right":t="start";break;default:t="middle";break}return t},oae=(e,t,r,n)=>{var a=$ne(n,l=>l.coordinate||0),s=Vne(n,l=>l.coordinate||0);return{cx:t,cy:r,startAngle:e,endAngle:e,innerRadius:s?.coordinate||0,outerRadius:a?.coordinate||0,clockWise:!1}},lae=(e,t)=>{var{cx:r,cy:n,angle:a,axisLine:s}=e,l=B1(e,Zne),u=t.reduce((g,v)=>[Math.min(g[0],v.coordinate),Math.max(g[1],v.coordinate)],[1/0,-1/0]),f=Nt(r,n,u[0],a),h=Nt(r,n,u[1],a),m=ka(ka(ka({},ir(l)),{},{fill:"none"},ir(s)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return y.createElement("line",Sd({className:"recharts-polar-radius-axis-line"},m))},cae=(e,t,r)=>{var n;return y.isValidElement(e)?n=y.cloneElement(e,t):typeof e=="function"?n=e(t):n=y.createElement(nf,Sd({},t,{className:"recharts-polar-radius-axis-tick-value"}),r),n},uae=(e,t)=>{var{angle:r,tickFormatter:n,stroke:a,tick:s}=e,l=B1(e,Qne),u=sae(e.orientation),f=ir(l),h=gc(s),m=t.map((g,v)=>{var x=iae(g,e.angle,e.cx,e.cy),w=ka(ka(ka(ka({textAnchor:u,transform:"rotate(".concat(90-r,", ").concat(x.x,", ").concat(x.y,")")},f),{},{stroke:"none",fill:a},h),{},{index:v},x),{},{payload:g});return y.createElement(nn,Sd({className:it("recharts-polar-radius-axis-tick",U1(s)),key:"tick-".concat(g.coordinate)},fj(e,g,v)),cae(s,w,n?n(g.value,v):g.value))});return y.createElement(nn,{className:"recharts-polar-radius-axis-ticks"},m)},dae=e=>{var{radiusAxisId:t}=e,r=De(Sc),n=De(f=>Tc(f,"radiusAxis",t)),a=De(f=>Oc(f,"radiusAxis",t,!1));if(r==null||!a||!a.length||n==null)return null;var s=ka(ka({},e),{},{scale:n},r),{tick:l,axisLine:u}=s;return y.createElement(Un,{zIndex:s.zIndex},y.createElement(nn,{className:it("recharts-polar-radius-axis",nae,s.className)},u&&lae(s,a),l&&uae(s,a),y.createElement(zre,oae(s.angle,s.cx,s.cy,a),y.createElement(Yre,{label:s.label}),s.children)))};function gI(e){var t=mr(e,ma);return y.createElement(y.Fragment,null,y.createElement(aae,{domain:t.domain,id:t.radiusAxisId,scale:t.scale,type:t.type,dataKey:t.dataKey,unit:void 0,name:t.name,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDataOverflow:t.allowDataOverflow,reversed:t.reversed,includeHidden:t.includeHidden,allowDecimals:t.allowDecimals,ticks:t.ticks,tickCount:t.tickCount,tick:t.tick}),y.createElement(dae,t))}gI.displayName="PolarRadiusAxis";var fae=["children","type"];function $o(){return $o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$o.apply(null,arguments)}function OC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ea(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OC(Object(r),!0).forEach(function(n){hae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hae(e,t,r){return(t=mae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mae(e){var t=pae(e,"string");return typeof t=="symbol"?t:t+""}function pae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gae(e,t){if(e==null)return{};var r,n,a=vae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function vae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var CC=1e-5,yae=Math.cos(Vm(45)),xae="angleAxis";function bae(e){var t=Gt(),r=j5(),n=y.useMemo(()=>{var{children:l,type:u}=e,f=gae(e,fae),h=wc(r,"angleAxis",u);if(h!=null)return ea(ea({},f),{},{type:h})},[e,r]),a=De(l=>jc(l,n?.id)),s=n===a;return y.useEffect(()=>n==null?Hi:(t(Gne(n)),()=>{t(Wne(n))}),[t,n]),s?e.children:null}var wae=(e,t)=>{var{cx:r,cy:n,radius:a,orientation:s,tickSize:l}=t,u=l||8,f=Nt(r,n,a,e.coordinate),h=Nt(r,n,a+(s==="inner"?-1:1)*u,e.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}},jae=(e,t)=>{var r=Math.cos(Vm(-e.coordinate));return r>CC?t==="outer"?"start":"end":r<-CC?t==="outer"?"end":"start":"middle"},Sae=e=>{var t=Math.cos(Vm(-e.coordinate)),r=Math.sin(Vm(-e.coordinate));return Math.abs(t)<=yae?r>0?"start":"end":"middle"},Nae=e=>{var{cx:t,cy:r,radius:n,axisLineType:a,axisLine:s,ticks:l}=e;if(!s)return null;var u=ea(ea({},ir(e)),{},{fill:"none"},ir(s));if(a==="circle")return y.createElement(I1,$o({className:"recharts-polar-angle-axis-line"},u,{cx:t,cy:r,r:n}));var f=l.map(h=>Nt(t,r,n,h.coordinate));return y.createElement(lI,$o({className:"recharts-polar-angle-axis-line"},u,{points:f}))},_ae=e=>{var{tick:t,tickProps:r,value:n}=e;return t?y.isValidElement(t)?y.cloneElement(t,r):typeof t=="function"?t(r):y.createElement(nf,$o({},r,{className:"recharts-polar-angle-axis-tick-value"}),n):null},kae=e=>{var{tick:t,tickLine:r,tickFormatter:n,stroke:a,ticks:s}=e,l=ir(e),u=gc(t),f=ea(ea({},l),{},{fill:"none"},ir(r)),h=s.map((m,g)=>{var v=wae(m,e),x=jae(m,e.orientation),w=Sae(m),S=ea(ea(ea({},l),{},{textAnchor:x,verticalAnchor:w,stroke:"none",fill:a},u),{},{index:g,payload:m,x:v.x2,y:v.y2});return y.createElement(nn,$o({className:it("recharts-polar-angle-axis-tick",U1(t)),key:"tick-".concat(m.coordinate)},fj(e,m,g)),r&&y.createElement("line",$o({className:"recharts-polar-angle-axis-tick-line"},f,v)),y.createElement(_ae,{tick:t,tickProps:S,value:n?n(m.value,g):m.value}))});return y.createElement(nn,{className:"recharts-polar-angle-axis-ticks"},h)},Aae=e=>{var{angleAxisId:t}=e,r=De(Sc),n=De(u=>Tc(u,"angleAxis",t)),a=an(),s=De(u=>xne(u,"angleAxis",t,a));if(r==null||!s||!s.length||n==null)return null;var l=ea(ea(ea({},e),{},{scale:n},r),{},{radius:r.outerRadius,ticks:s});return y.createElement(Un,{zIndex:l.zIndex},y.createElement(nn,{className:it("recharts-polar-angle-axis",xae,l.className)},y.createElement(Nae,l),y.createElement(kae,l)))};function vI(e){var t=mr(e,js);return y.createElement(bae,{id:t.angleAxisId,scale:t.scale,type:t.type,dataKey:t.dataKey,unit:void 0,name:t.name,allowDuplicatedCategory:!1,allowDataOverflow:!1,reversed:t.reversed,includeHidden:!1,allowDecimals:t.allowDecimals,tickCount:t.tickCount,ticks:t.ticks,tick:t.tick,domain:t.domain},y.createElement(Aae,t))}vI.displayName="PolarAngleAxis";var yI=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,Cx={},PC;function Eae(){return PC||(PC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(Cx)),Cx}var Px,DC;function Tae(){return DC||(DC=1,Px=Eae().isPlainObject),Px}var Oae=Tae();const Cae=Ca(Oae);var MC,RC,IC,LC,$C;function UC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function BC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UC(Object(r),!0).forEach(function(n){Pae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pae(e,t,r){return(t=Dae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dae(e){var t=Mae(e,"string");return typeof t=="symbol"?t:t+""}function Mae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sp(){return sp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sp.apply(null,arguments)}function Mu(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var zC=(e,t,r,n,a)=>{var s=r-n,l;return l=Ft(MC||(MC=Mu(["M ",",",""])),e,t),l+=Ft(RC||(RC=Mu(["L ",",",""])),e+r,t),l+=Ft(IC||(IC=Mu(["L ",",",""])),e+r-s/2,t+a),l+=Ft(LC||(LC=Mu(["L ",",",""])),e+r-s/2-n,t+a),l+=Ft($C||($C=Mu(["L ",","," Z"])),e,t),l},Rae={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Iae=e=>{var t=mr(e,Rae),{x:r,y:n,upperWidth:a,lowerWidth:s,height:l,className:u}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isUpdateAnimationActive:g}=t,v=y.useRef(null),[x,w]=y.useState(-1),S=y.useRef(a),N=y.useRef(s),_=y.useRef(l),A=y.useRef(r),k=y.useRef(n),O=eg(e,"trapezoid-");if(y.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var be=v.current.getTotalLength();be&&w(be)}catch{}},[]),r!==+r||n!==+n||a!==+a||s!==+s||l!==+l||a===0&&s===0||l===0)return null;var M=it("recharts-trapezoid",u);if(!g)return y.createElement("g",null,y.createElement("path",sp({},fr(t),{className:M,d:zC(r,n,a,s,l)})));var C=S.current,D=N.current,L=_.current,V=A.current,te=k.current,W="0px ".concat(x===-1?1:x,"px"),K="".concat(x,"px 0px"),Se=R5(["strokeDasharray"],h,f);return y.createElement(Jp,{animationId:O,key:O,canBegin:x>0,duration:h,easing:f,isActive:g,begin:m},be=>{var Ae=Mr(C,a,be),Y=Mr(D,s,be),ee=Mr(L,l,be),ce=Mr(V,r,be),we=Mr(te,n,be);v.current&&(S.current=Ae,N.current=Y,_.current=ee,A.current=ce,k.current=we);var G=be>0?{transition:Se,strokeDasharray:K}:{strokeDasharray:W};return y.createElement("path",sp({},fr(t),{className:M,d:zC(ce,we,Ae,Y,ee),ref:v,style:BC(BC({},G),t.style)}))})},Lae=["option","shapeType","activeClassName"];function $ae(e,t){if(e==null)return{};var r,n,a=Uae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Uae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function qC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function op(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qC(Object(r),!0).forEach(function(n){Bae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bae(e,t,r){return(t=zae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zae(e){var t=qae(e,"string");return typeof t=="symbol"?t:t+""}function qae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vae(e,t){return op(op({},t),e)}function Hae(e,t){return e==="symbols"}function VC(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return y.createElement(U5,r);case"trapezoid":return y.createElement(Iae,r);case"sector":return y.createElement(q5,r);case"symbols":if(Hae(t))return y.createElement(jR,r);break;case"curve":return y.createElement(M5,r);default:return null}}function Fae(e){return y.isValidElement(e)?e.props:e}function Kae(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,a=$ae(e,Lae),s;if(y.isValidElement(t))s=y.cloneElement(t,op(op({},a),Fae(t)));else if(typeof t=="function")s=t(a,a.index);else if(Cae(t)&&typeof t!="boolean"){var l=Vae(t,a);s=y.createElement(VC,{shapeType:r,elementProps:l})}else{var u=a;s=y.createElement(VC,{shapeType:r,elementProps:u})}return a.isActive?y.createElement(nn,{className:n},s):s}function xI(e){var{tooltipEntrySettings:t}=e,r=Gt(),n=an(),a=y.useRef(null);return y.useLayoutEffect(()=>{n||(a.current===null?r(FJ(t)):a.current!==t&&r(KJ({prev:a.current,next:t})),a.current=t)},[t,r,n]),y.useLayoutEffect(()=>()=>{a.current&&(r(GJ(a.current)),a.current=null)},[r]),null}function Gae(e){var{legendPayload:t}=e,r=Gt(),n=an(),a=y.useRef(null);return y.useLayoutEffect(()=>{n||(a.current===null?r(O5(t)):a.current!==t&&r(C5({prev:a.current,next:t})),a.current=t)},[r,n,t]),y.useLayoutEffect(()=>()=>{a.current&&(r(P5(a.current)),a.current=null)},[r]),null}function Wae(e){var{legendPayload:t}=e,r=Gt(),n=De(gt),a=y.useRef(null);return y.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(a.current===null?r(O5(t)):a.current!==t&&r(C5({prev:a.current,next:t})),a.current=t)},[r,n,t]),y.useLayoutEffect(()=>()=>{a.current&&(r(P5(a.current)),a.current=null)},[r]),null}var Dx,Yae=()=>{var[e]=y.useState(()=>ld("uid-"));return e},Xae=(Dx=sB.useId)!==null&&Dx!==void 0?Dx:Yae;function Zae(e,t){var r=Xae();return t||(e?"".concat(e,"-").concat(r):r)}var Qae=y.createContext(void 0),bI=e=>{var{id:t,type:r,children:n}=e,a=Zae("recharts-".concat(r),t);return y.createElement(Qae.Provider,{value:a},n(a))},Jae={cartesianItems:[],polarItems:[]},wI=wn({name:"graphicalItems",initialState:Jae,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Bt()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Ea(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:Bt()},removeCartesianGraphicalItem:{reducer(e,t){var r=Ea(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Bt()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Bt()},removePolarGraphicalItem:{reducer(e,t){var r=Ea(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Bt()}}}),{addCartesianGraphicalItem:eie,replaceCartesianGraphicalItem:tie,removeCartesianGraphicalItem:rie,addPolarGraphicalItem:nie,removePolarGraphicalItem:aie}=wI.actions,iie=wI.reducer,sie=e=>{var t=Gt(),r=y.useRef(null);return y.useLayoutEffect(()=>{r.current===null?t(eie(e)):r.current!==e&&t(tie({prev:r.current,next:e})),r.current=e},[t,e]),y.useLayoutEffect(()=>()=>{r.current&&(t(rie(r.current)),r.current=null)},[t]),null},oie=y.memo(sie);function lie(e){var t=Gt();return y.useLayoutEffect(()=>(t(nie(e)),()=>{t(aie(e))}),[t,e]),null}var cie=["points"];function HC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HC(Object(r),!0).forEach(function(n){uie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uie(e,t,r){return(t=die(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function die(e){var t=fie(e,"string");return typeof t=="symbol"?t:t+""}function fie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lp(){return lp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lp.apply(null,arguments)}function hie(e,t){if(e==null)return{};var r,n,a=mie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function mie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function pie(e){var{option:t,dotProps:r,className:n}=e;if(y.isValidElement(t))return y.cloneElement(t,r);if(typeof t=="function")return t(r);var a=it(n,typeof t!="boolean"?t.className:""),s=r??{},{points:l}=s,u=hie(s,cie);return y.createElement(I1,lp({},u,{className:a}))}function gie(e,t){return e==null?!1:t?!0:e.length===1}function jI(e){var{points:t,dot:r,className:n,dotClassName:a,dataKey:s,baseProps:l,needClip:u,clipPathId:f,zIndex:h=Sr.scatter}=e;if(!gie(t,r))return null;var m=yI(r),g=SH(r),v=t.map((w,S)=>{var N,_,A=Mx(Mx(Mx({r:3},l),g),{},{index:S,cx:(N=w.x)!==null&&N!==void 0?N:void 0,cy:(_=w.y)!==null&&_!==void 0?_:void 0,dataKey:s,value:w.value,payload:w.payload,points:t});return y.createElement(pie,{key:"dot-".concat(S),option:r,dotProps:A,className:a})}),x={};return u&&f!=null&&(x.clipPath="url(#clipPath-".concat(m?"":"dots-").concat(f,")")),y.createElement(Un,{zIndex:h},y.createElement(nn,lp({className:n},x),v))}function FC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function KC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FC(Object(r),!0).forEach(function(n){vie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vie(e,t,r){return(t=yie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yie(e){var t=xie(e,"string");return typeof t=="symbol"?t:t+""}function xie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bie={xAxis:{},yAxis:{},zAxis:{}},SI=wn({name:"cartesianAxis",initialState:bie,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Bt()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Bt()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Bt()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Bt()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Bt()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Bt()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Bt()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Bt()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Bt()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var s,l=a.widthHistory||[];if(l.length===3&&l[0]===l[2]&&n===l[1]&&n!==a.width&&Math.abs(n-((s=l[0])!==null&&s!==void 0?s:0))<=1)return;var u=[...l,n].slice(-3);e.yAxis[r]=KC(KC({},a),{},{width:n,widthHistory:u})}}}}),{addXAxis:wie,replaceXAxis:jie,removeXAxis:Sie,addYAxis:Nie,replaceYAxis:_ie,removeYAxis:kie,addZAxis:Bme,replaceZAxis:zme,removeZAxis:qme,updateYAxisWidth:Aie}=SI.actions,Eie=SI.reducer,Tie=J([Yr],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Oie=J([Tie,Fi,Ki],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),z1=()=>De(Oie),Cie=()=>De(Uee);function GC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GC(Object(r),!0).forEach(function(n){Pie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pie(e,t,r){return(t=Die(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Die(e){var t=Mie(e,"string");return typeof t=="symbol"?t:t+""}function Mie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rie=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:s,clipPath:l}=e;if(a===!1||t.x==null||t.y==null)return null;var u={index:r,dataKey:s,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},f=Rx(Rx(Rx({},u),gc(a)),dj(a)),h;return y.isValidElement(a)?h=y.cloneElement(a,f):typeof a=="function"?h=a(f):h=y.createElement(I1,f),y.createElement(nn,{className:"recharts-active-dot",clipPath:l},h)};function NI(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a,clipPath:s,zIndex:l=Sr.activeDot}=e,u=De(wd),f=Cie();if(t==null||f==null)return null;var h=t.find(m=>f.includes(m.payload));return Nr(h)?null:y.createElement(Un,{zIndex:l},y.createElement(Rie,{point:h,childIndex:Number(u),mainColor:r,dataKey:a,activeDot:n,clipPath:s}))}function WC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WC(Object(r),!0).forEach(function(n){Iie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Iie(e,t,r){return(t=Lie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lie(e){var t=$ie(e,"string");return typeof t=="symbol"?t:t+""}function $ie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _I=(e,t)=>Tc(e,"radiusAxis",t),Uie=J([_I],e=>{if(e!=null)return{scale:e}}),Bie=J([Yd,_I],(e,t)=>{if(!(e==null||t==null))return cp(cp({},e),{},{scale:t})}),zie=(e,t,r,n)=>Oc(e,"radiusAxis",t,n),kI=(e,t,r)=>jc(e,r),AI=(e,t,r)=>Tc(e,"angleAxis",r),qie=J([kI,AI],(e,t)=>{if(!(e==null||t==null))return cp(cp({},e),{},{scale:t})}),Vie=(e,t,r,n)=>Oc(e,"angleAxis",r,n),Hie=J([kI,AI,Sc],(e,t,r)=>{if(!(r==null||t==null))return{scale:t,type:e.type,dataKey:e.dataKey,cx:r.cx,cy:r.cy}}),Fie=(e,t,r,n,a)=>a,Kie=J([gt,Bie,zie,qie,Vie],(e,t,r,n,a)=>ei(e,"radiusAxis")?sc(t,r,!1):sc(n,a,!1)),Gie=J([cI,Fie],(e,t)=>{if(e!=null){var r=e.find(n=>n.type==="radar"&&t===n.id);return r?.dataKey}}),Wie=J([Uie,Hie,Zj,Gie,Kie],(e,t,r,n,a)=>{var{chartData:s,dataStartIndex:l,dataEndIndex:u}=r;if(!(e==null||t==null||s==null||a==null||n==null)){var f=s.slice(l,u+1);return ase({radiusAxis:e,angleAxis:t,displayedData:f,dataKey:n,bandSize:a})}}),Yie=["id"];function Nd(){return Nd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nd.apply(null,arguments)}function YC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YC(Object(r),!0).forEach(function(n){Xie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xie(e,t,r){return(t=Zie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zie(e){var t=Qie(e,"string");return typeof t=="symbol"?t:t+""}function Qie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jie(e,t){if(e==null)return{};var r,n,a=ese(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ese(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function q1(e,t){return e&&e!=="none"?e:t}var tse=e=>{var{dataKey:t,name:r,stroke:n,fill:a,legendType:s,hide:l}=e;return[{inactive:l,dataKey:t,type:s,color:q1(n,a),value:Vp(r,t),payload:e}]},rse=y.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:s,hide:l,tooltipType:u,id:f}=e,h={dataDefinedOnItem:void 0,getPosition:Hi,settings:{stroke:r,strokeWidth:n,fill:a,nameKey:void 0,dataKey:t,name:Vp(s,t),hide:l,type:u,color:q1(r,a),unit:"",graphicalItemId:f}};return y.createElement(xI,{tooltipEntrySettings:h})});function nse(e){var{points:t,props:r}=e,{dot:n,dataKey:a}=r,{id:s}=r,l=Jie(r,Yie),u=ir(l);return y.createElement(jI,{points:t,dot:n,className:"recharts-radar-dots",dotClassName:"recharts-radar-dot",dataKey:a,baseProps:u})}function ase(e){var{radiusAxis:t,angleAxis:r,displayedData:n,dataKey:a,bandSize:s}=e,{cx:l,cy:u}=r,f=!1,h=[],m=r.type!=="number"?s??0:0;n.forEach((v,x)=>{var w,S,N=nr(v,r.dataKey,x),_=nr(v,a),A=((w=r.scale.map(N))!==null&&w!==void 0?w:0)+m,k=Array.isArray(_)?nI(_):_,O=Nr(k)?0:(S=t.scale.map(k))!==null&&S!==void 0?S:0;Array.isArray(_)&&_.length>=2&&(f=!0),h.push(bn(bn({},Nt(l,u,O,A)),{},{name:N,value:_,cx:l,cy:u,radius:O,angle:A,payload:v}))});var g=[];return f&&h.forEach(v=>{if(Array.isArray(v.value)){var x,w=v.value[0],S=Nr(w)?0:(x=t.scale.map(w))!==null&&x!==void 0?x:0;g.push(bn(bn({},v),{},{radius:S},Nt(l,u,S,v.angle)))}else g.push(v)}),{points:h,isRange:f,baseLinePoints:g}}function ise(e){var{showLabels:t,points:r,children:n}=e,a=r.map(s=>{var l,u={x:s.x,y:s.y,width:0,lowerWidth:0,upperWidth:0,height:0};return bn(bn({},u),{},{value:(l=s.value)!==null&&l!==void 0?l:"",payload:s.payload,parentViewBox:void 0,viewBox:u,fill:void 0})});return y.createElement(iI,{value:t?a:void 0},n)}function sse(e){var{points:t,baseLinePoints:r,props:n}=e;if(t==null)return null;var{shape:a,isRange:s,connectNulls:l}=n,u=m=>{var{onMouseEnter:g}=n;g&&g(n,m)},f=m=>{var{onMouseLeave:g}=n;g&&g(n,m)},h;return y.isValidElement(a)?h=y.cloneElement(a,bn(bn({},n),{},{points:t})):typeof a=="function"?h=a(bn(bn({},n),{},{points:t})):h=y.createElement(lI,Nd({},fr(n),{onMouseEnter:u,onMouseLeave:f,points:t,baseLinePoints:s?r:void 0,connectNulls:l})),y.createElement(nn,{className:"recharts-radar-polygon"},h,y.createElement(nse,{props:n,points:t}))}var XC=(e,t,r)=>(n,a)=>{var s=e&&e[Math.floor(a*t)];return s?bn(bn({},n),{},{x:Mr(s.x,n.x,r),y:Mr(s.y,n.y,r)}):bn(bn({},n),{},{x:Mr(n.cx,n.x,r),y:Mr(n.cy,n.y,r)})};function ose(e){var{props:t,previousPointsRef:r,previousBaseLinePointsRef:n}=e,{points:a,baseLinePoints:s,isAnimationActive:l,animationBegin:u,animationDuration:f,animationEasing:h,onAnimationEnd:m,onAnimationStart:g}=t,v=r.current,x=n.current,w=v?v.length/a.length:1,S=x?x.length/s.length:1,N=eg(t,"recharts-radar-"),[_,A]=y.useState(!1),k=!_,O=y.useCallback(()=>{typeof m=="function"&&m(),A(!1)},[m]),M=y.useCallback(()=>{typeof g=="function"&&g(),A(!0)},[g]);return y.createElement(ise,{showLabels:k,points:a},y.createElement(Jp,{animationId:N,begin:u,duration:f,isActive:l,easing:h,key:"radar-".concat(N),onAnimationEnd:O,onAnimationStart:M},C=>{var D=C===1?a:a.map(XC(v,w,C)),L=C===1?s:s?.map(XC(x,S,C));return C>0&&(r.current=D,n.current=L),y.createElement(sse,{points:D,baseLinePoints:L,props:t})}),y.createElement(oI,{label:t.label}),t.children)}function lse(e){var t=y.useRef(void 0),r=y.useRef(void 0);return y.createElement(ose,{props:e,previousPointsRef:t,previousBaseLinePointsRef:r})}var cse={activeDot:!0,angleAxisId:0,animationBegin:0,animationDuration:1500,animationEasing:"ease",dot:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",radiusAxisId:0,zIndex:Sr.area};function use(e){var{hide:t,className:r,points:n}=e;if(t)return null;var a=it("recharts-radar",r);return y.createElement(Un,{zIndex:e.zIndex},y.createElement(nn,{className:a},y.createElement(lse,e)),y.createElement(NI,{points:n,mainColor:q1(e.stroke,e.fill),itemDataKey:e.dataKey,activeDot:e.activeDot}))}function dse(e){var t=an(),r=De(n=>Wie(n,e.radiusAxisId,e.angleAxisId,t,e.id));return r?.points==null?null:y.createElement(use,Nd({},e,{points:r?.points,baseLinePoints:r?.baseLinePoints,isRange:r?.isRange}))}function EI(e){var t=mr(e,cse);return y.createElement(bI,{id:t.id,type:"radar"},r=>y.createElement(y.Fragment,null,y.createElement(lie,{type:"radar",id:r,data:void 0,dataKey:t.dataKey,hide:t.hide,angleAxisId:t.angleAxisId,radiusAxisId:t.radiusAxisId}),y.createElement(Wae,{legendPayload:tse(t)}),y.createElement(rse,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType,id:r}),y.createElement(dse,Nd({},t,{id:r}))))}EI.displayName="Radar";var TI=e=>{var{chartData:t}=e,r=Gt(),n=an();return y.useEffect(()=>n?()=>{}:(r(GO(t)),()=>{r(GO(void 0))}),[t,r,n]),null},ZC={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},OI=wn({name:"brush",initialState:ZC,reducers:{setBrushSettings(e,t){return t.payload==null?ZC:t.payload}}}),{setBrushSettings:Vme}=OI.actions,fse=OI.reducer;function hse(e){return(e%180+180)%180}var mse=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=hse(a),l=s*Math.PI/180,u=Math.atan(n/r),f=l>u&&l<Math.PI-u?n/Math.sin(l):r/Math.cos(l);return Math.abs(f)},pse={dots:[],areas:[],lines:[]},CI=wn({name:"referenceElements",initialState:pse,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Ea(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Ea(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Ea(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:Hme,removeDot:Fme,addArea:Kme,removeArea:Gme,addLine:Wme,removeLine:Yme}=CI.actions,gse=CI.reducer,vse=y.createContext(void 0),yse=e=>{var{children:t}=e,[r]=y.useState("".concat(ld("recharts"),"-clip")),n=z1();if(n==null)return null;var{x:a,y:s,width:l,height:u}=n;return y.createElement(vse.Provider,{value:r},y.createElement("defs",null,y.createElement("clipPath",{id:r},y.createElement("rect",{x:a,y:s,height:u,width:l}))),t)};function PI(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var a=e[n];a!==void 0&&r.push(a)}return r}function xse(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return mse(n,r)}function bse(e,t,r){var n=r==="width",{x:a,y:s,width:l,height:u}=e;return t===1?{start:n?a:s,end:n?a+l:s+u}:{start:n?a+l:s+u,end:n?a:s}}function _d(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function wse(e,t){return PI(e,t+1)}function jse(e,t,r,n,a){for(var s=(n||[]).slice(),{start:l,end:u}=t,f=0,h=1,m=l,g=function(){var w=n?.[f];if(w===void 0)return{v:PI(n,h)};var S=f,N,_=()=>(N===void 0&&(N=r(w,S)),N),A=w.coordinate,k=f===0||_d(e,A,_,m,u);k||(f=0,m=l,h+=1),k&&(m=A+e*(_()/2+a),f+=h)},v;h<=s.length;)if(v=g(),v)return v.v;return[]}function Sse(e,t,r,n,a){var s=(n||[]).slice(),l=s.length;if(l===0)return[];for(var{start:u,end:f}=t,h=1;h<=l;h++){for(var m=(l-1)%h,g=u,v=!0,x=function(){var O=n[S];if(O==null)return 0;var M=S,C,D=()=>(C===void 0&&(C=r(O,M)),C),L=O.coordinate,V=S===m||_d(e,L,D,g,f);if(!V)return v=!1,1;V&&(g=L+e*(D()/2+a))},w,S=m;S<l&&(w=x(),!(w!==0&&w===1));S+=h);if(v){for(var N=[],_=m;_<l;_+=h){var A=n[_];A!=null&&N.push(A)}return N}}return[]}function QC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QC(Object(r),!0).forEach(function(n){Nse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nse(e,t,r){return(t=_se(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _se(e){var t=kse(e,"string");return typeof t=="symbol"?t:t+""}function kse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ase(e,t,r,n,a){for(var s=(n||[]).slice(),l=s.length,{start:u}=t,{end:f}=t,h=function(v){var x=s[v];if(x==null)return 1;var w=x,S,N=()=>(S===void 0&&(S=r(x,v)),S);if(v===l-1){var _=e*(w.coordinate+e*N()/2-f);s[v]=w=Qr(Qr({},w),{},{tickCoord:_>0?w.coordinate-_*e:w.coordinate})}else s[v]=w=Qr(Qr({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var A=_d(e,w.tickCoord,N,u,f);A&&(f=w.tickCoord-e*(N()/2+a),s[v]=Qr(Qr({},w),{},{isShow:!0}))}},m=l-1;m>=0;m--)h(m);return s}function Ese(e,t,r,n,a,s){var l=(n||[]).slice(),u=l.length,{start:f,end:h}=t;if(s){var m=n[u-1];if(m!=null){var g=r(m,u-1),v=e*(m.coordinate+e*g/2-h);if(l[u-1]=m=Qr(Qr({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate}),m.tickCoord!=null){var x=_d(e,m.tickCoord,()=>g,f,h);x&&(h=m.tickCoord-e*(g/2+a),l[u-1]=Qr(Qr({},m),{},{isShow:!0}))}}}for(var w=s?u-1:u,S=function(A){var k=l[A];if(k==null)return 1;var O=k,M,C=()=>(M===void 0&&(M=r(k,A)),M);if(A===0){var D=e*(O.coordinate-e*C()/2-f);l[A]=O=Qr(Qr({},O),{},{tickCoord:D<0?O.coordinate-D*e:O.coordinate})}else l[A]=O=Qr(Qr({},O),{},{tickCoord:O.coordinate});if(O.tickCoord!=null){var L=_d(e,O.tickCoord,C,f,h);L&&(f=O.tickCoord+e*(C()/2+a),l[A]=Qr(Qr({},O),{},{isShow:!0}))}},N=0;N<w;N++)S(N);return l}function V1(e,t,r){var{tick:n,ticks:a,viewBox:s,minTickGap:l,orientation:u,interval:f,tickFormatter:h,unit:m,angle:g}=e;if(!a||!a.length||!n)return[];if($e(f)||Qp.isSsr){var v;return(v=wse(a,$e(f)?f:0))!==null&&v!==void 0?v:[]}var x=[],w=u==="top"||u==="bottom"?"width":"height",S=m&&w==="width"?Hu(m,{fontSize:t,letterSpacing:r}):{width:0,height:0},N=(M,C)=>{var D=typeof h=="function"?h(M.value,C):M.value;return w==="width"?xse(Hu(D,{fontSize:t,letterSpacing:r}),S,g):Hu(D,{fontSize:t,letterSpacing:r})[w]},_=a[0],A=a[1],k=a.length>=2&&_!=null&&A!=null?ta(A.coordinate-_.coordinate):1,O=bse(s,k,w);return f==="equidistantPreserveStart"?jse(k,O,N,a,l):f==="equidistantPreserveEnd"?Sse(k,O,N,a,l):(f==="preserveStart"||f==="preserveStartEnd"?x=Ese(k,O,N,a,l,f==="preserveStartEnd"):x=Ase(k,O,N,a,l),x.filter(M=>M.isShow))}var Tse=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:s=0}=e,l=0;if(t){Array.from(t).forEach(m=>{if(m){var g=m.getBoundingClientRect();g.width>l&&(l=g.width)}});var u=r?r.getBoundingClientRect().width:0,f=a+s,h=l+f+u+(r?n:0);return Math.round(h)}return 0},Ose=["axisLine","width","height","className","hide","ticks","axisType"];function Cse(e,t){if(e==null)return{};var r,n,a=Pse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Pse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Uo(){return Uo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uo.apply(null,arguments)}function JC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JC(Object(r),!0).forEach(function(n){Dse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dse(e,t,r){return(t=Mse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mse(e){var t=Rse(e,"string");return typeof t=="symbol"?t:t+""}function Rse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Oi={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Sr.axis};function Ise(e){var{x:t,y:r,width:n,height:a,orientation:s,mirror:l,axisLine:u,otherSvgProps:f}=e;if(!u)return null;var h=Zt(Zt(Zt({},f),ir(u)),{},{fill:"none"});if(s==="top"||s==="bottom"){var m=+(s==="top"&&!l||s==="bottom"&&l);h=Zt(Zt({},h),{},{x1:t,y1:r+m*a,x2:t+n,y2:r+m*a})}else{var g=+(s==="left"&&!l||s==="right"&&l);h=Zt(Zt({},h),{},{x1:t+g*n,y1:r,x2:t+g*n,y2:r+a})}return y.createElement("line",Uo({},h,{className:it("recharts-cartesian-axis-line",Cp(u,"className"))}))}function Lse(e,t,r,n,a,s,l,u,f){var h,m,g,v,x,w,S=u?-1:1,N=e.tickSize||l,_=$e(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":h=m=e.coordinate,v=r+ +!u*a,g=v-S*N,w=g-S*f,x=_;break;case"left":g=v=e.coordinate,m=t+ +!u*n,h=m-S*N,x=h-S*f,w=_;break;case"right":g=v=e.coordinate,m=t+ +u*n,h=m+S*N,x=h+S*f,w=_;break;default:h=m=e.coordinate,v=r+ +u*a,g=v+S*N,w=g+S*f,x=_;break}return{line:{x1:h,y1:g,x2:m,y2:v},tick:{x,y:w}}}function $se(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Use(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Bse(e){var{option:t,tickProps:r,value:n}=e,a,s=it(r.className,"recharts-cartesian-axis-tick-value");if(y.isValidElement(t))a=y.cloneElement(t,Zt(Zt({},r),{},{className:s}));else if(typeof t=="function")a=t(Zt(Zt({},r),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=it(l,U1(t))),a=y.createElement(nf,Uo({},r,{className:l}),n)}return a}var zse=y.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:s,tickFormatter:l,unit:u,padding:f,tickTextProps:h,orientation:m,mirror:g,x:v,y:x,width:w,height:S,tickSize:N,tickMargin:_,fontSize:A,letterSpacing:k,getTicksConfig:O,events:M,axisType:C}=e,D=V1(Zt(Zt({},O),{},{ticks:r}),A,k),L=$se(m,g),V=Use(m,g),te=ir(O),W=gc(n),K={};typeof a=="object"&&(K=a);var Se=Zt(Zt({},te),{},{fill:"none"},K),be=D.map(ee=>Zt({entry:ee},Lse(ee,v,x,w,S,m,N,g,_))),Ae=be.map(ee=>{var{entry:ce,line:we}=ee;return y.createElement(nn,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(ce.value,"-").concat(ce.coordinate,"-").concat(ce.tickCoord)},a&&y.createElement("line",Uo({},Se,we,{className:it("recharts-cartesian-axis-tick-line",Cp(a,"className"))})))}),Y=be.map((ee,ce)=>{var we,G,{entry:T,tick:I}=ee,$=Zt(Zt(Zt(Zt({verticalAnchor:V},te),{},{textAnchor:L,stroke:"none",fill:s},I),{},{index:ce,payload:T,visibleTicksCount:D.length,tickFormatter:l,padding:f},h),{},{angle:(we=(G=h?.angle)!==null&&G!==void 0?G:te.angle)!==null&&we!==void 0?we:0}),B=Zt(Zt({},$),W);return y.createElement(nn,Uo({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},fj(M,T,ce)),n&&y.createElement(Bse,{option:n,tickProps:B,value:"".concat(typeof l=="function"?l(T.value,ce):T.value).concat(u||"")}))});return y.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(C,"-ticks")},Y.length>0&&y.createElement(Un,{zIndex:Sr.label},y.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(C,"-tick-labels"),ref:t},Y)),Ae.length>0&&y.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(C,"-tick-lines")},Ae))}),qse=y.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:s,hide:l,ticks:u,axisType:f}=e,h=Cse(e,Ose),[m,g]=y.useState(""),[v,x]=y.useState(""),w=y.useRef(null);y.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var N;return Tse({ticks:w.current,label:(N=e.labelRef)===null||N===void 0?void 0:N.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var S=y.useCallback(N=>{if(N){var _=N.getElementsByClassName("recharts-cartesian-axis-tick-value");w.current=_;var A=_[0];if(A){var k=window.getComputedStyle(A),O=k.fontSize,M=k.letterSpacing;(O!==m||M!==v)&&(g(O),x(M))}}},[m,v]);return l||n!=null&&n<=0||a!=null&&a<=0?null:y.createElement(Un,{zIndex:e.zIndex},y.createElement(nn,{className:it("recharts-cartesian-axis",s)},y.createElement(Ise,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:ir(e)}),y.createElement(zse,{ref:S,axisType:f,events:h,fontSize:m,getTicksConfig:e,height:e.height,letterSpacing:v,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:u,unit:e.unit,width:e.width,x:e.x,y:e.y}),y.createElement(Bre,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},y.createElement(Wre,{label:e.label,labelRef:e.labelRef}),e.children)))}),H1=y.forwardRef((e,t)=>{var r=mr(e,Oi);return y.createElement(qse,Uo({},r,{ref:t}))});H1.displayName="CartesianAxis";var Vse=["x1","y1","x2","y2","key"],Hse=["offset"],Fse=["xAxisId","yAxisId"],Kse=["xAxisId","yAxisId"];function eP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eP(Object(r),!0).forEach(function(n){Gse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gse(e,t,r){return(t=Wse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wse(e){var t=Yse(e,"string");return typeof t=="symbol"?t:t+""}function Yse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function So(){return So=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},So.apply(null,arguments)}function up(e,t){if(e==null)return{};var r,n,a=Xse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Xse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Zse=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:s,height:l,ry:u}=e;return y.createElement("rect",{x:n,y:a,ry:u,width:s,height:l,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function DI(e){var{option:t,lineItemProps:r}=e,n;if(y.isValidElement(t))n=y.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:s,y1:l,x2:u,y2:f,key:h}=r,m=up(r,Vse),g=(a=ir(m))!==null&&a!==void 0?a:{},{offset:v}=g,x=up(g,Hse);n=y.createElement("line",So({},x,{x1:s,y1:l,x2:u,y2:f,fill:"none",key:h}))}return n}function Qse(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:l}=e,u=up(e,Fse),f=a.map((h,m)=>{var g=Jr(Jr({},u),{},{x1:t,y1:h,x2:t+r,y2:h,key:"line-".concat(m),index:m});return y.createElement(DI,{key:"line-".concat(m),option:n,lineItemProps:g})});return y.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function Jse(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:l}=e,u=up(e,Kse),f=a.map((h,m)=>{var g=Jr(Jr({},u),{},{x1:h,y1:t,x2:h,y2:t+r,key:"line-".concat(m),index:m});return y.createElement(DI,{option:n,lineItemProps:g,key:"line-".concat(m)})});return y.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function eoe(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:s,height:l,horizontalPoints:u,horizontal:f=!0}=e;if(!f||!t||!t.length||u==null)return null;var h=u.map(g=>Math.round(g+a-a)).sort((g,v)=>g-v);a!==h[0]&&h.unshift(0);var m=h.map((g,v)=>{var x=h[v+1],w=x==null,S=w?a+l-g:x-g;if(S<=0)return null;var N=v%t.length;return y.createElement("rect",{key:"react-".concat(v),y:g,x:n,height:S,width:s,stroke:"none",fill:t[N],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function toe(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:s,width:l,height:u,verticalPoints:f}=e;if(!t||!r||!r.length)return null;var h=f.map(g=>Math.round(g+a-a)).sort((g,v)=>g-v);a!==h[0]&&h.unshift(0);var m=h.map((g,v)=>{var x=h[v+1],w=x==null,S=w?a+l-g:x-g;if(S<=0)return null;var N=v%r.length;return y.createElement("rect",{key:"react-".concat(v),x:g,y:s,width:S,height:u,stroke:"none",fill:r[N],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var roe=(e,t)=>{var{xAxis:r,width:n,height:a,offset:s}=e;return d5(V1(Jr(Jr(Jr({},Oi),r),{},{ticks:f5(r),viewBox:{x:0,y:0,width:n,height:a}})),s.left,s.left+s.width,t)},noe=(e,t)=>{var{yAxis:r,width:n,height:a,offset:s}=e;return d5(V1(Jr(Jr(Jr({},Oi),r),{},{ticks:f5(r),viewBox:{x:0,y:0,width:n,height:a}})),s.top,s.top+s.height,t)},aoe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Sr.grid};function MI(e){var t=x5(),r=b5(),n=y5(),a=Jr(Jr({},mr(e,aoe)),{},{x:$e(e.x)?e.x:n.left,y:$e(e.y)?e.y:n.top,width:$e(e.width)?e.width:n.width,height:$e(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:l,x:u,y:f,width:h,height:m,syncWithTicks:g,horizontalValues:v,verticalValues:x}=a,w=an(),S=De(V=>RO(V,"xAxis",s,w)),N=De(V=>RO(V,"yAxis",l,w));if(!Xa(h)||!Xa(m)||!$e(u)||!$e(f))return null;var _=a.verticalCoordinatesGenerator||roe,A=a.horizontalCoordinatesGenerator||noe,{horizontalPoints:k,verticalPoints:O}=a;if((!k||!k.length)&&typeof A=="function"){var M=v&&v.length,C=A({yAxis:N?Jr(Jr({},N),{},{ticks:M?v:N.ticks}):void 0,width:t??h,height:r??m,offset:n},M?!0:g);Mm(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(k=C)}if((!O||!O.length)&&typeof _=="function"){var D=x&&x.length,L=_({xAxis:S?Jr(Jr({},S),{},{ticks:D?x:S.ticks}):void 0,width:t??h,height:r??m,offset:n},D?!0:g);Mm(Array.isArray(L),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof L,"]")),Array.isArray(L)&&(O=L)}return y.createElement(Un,{zIndex:a.zIndex},y.createElement("g",{className:"recharts-cartesian-grid"},y.createElement(Zse,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),y.createElement(eoe,So({},a,{horizontalPoints:k})),y.createElement(toe,So({},a,{verticalPoints:O})),y.createElement(Qse,So({},a,{offset:n,horizontalPoints:k,xAxis:S,yAxis:N})),y.createElement(Jse,So({},a,{offset:n,verticalPoints:O,xAxis:S,yAxis:N}))))}MI.displayName="CartesianGrid";var ioe={},RI=wn({name:"errorBars",initialState:ioe,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?a:s))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:Xme,replaceErrorBar:Zme,removeErrorBar:Qme}=RI.actions,soe=RI.reducer,ooe=["children"];function loe(e,t){if(e==null)return{};var r,n,a=coe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function coe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var uoe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},doe=y.createContext(uoe);function foe(e){var{children:t}=e,r=loe(e,ooe);return y.createElement(doe.Provider,{value:r},t)}function II(e,t){var r,n,a=De(h=>Wi(h,e)),s=De(h=>Yi(h,t)),l=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:Cr.allowDataOverflow,u=(n=s?.allowDataOverflow)!==null&&n!==void 0?n:Pr.allowDataOverflow,f=l||u;return{needClip:f,needClipX:l,needClipY:u}}function hoe(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=z1(),{needClipX:s,needClipY:l,needClip:u}=II(t,r);if(!u||!a)return null;var{x:f,y:h,width:m,height:g}=a;return y.createElement("clipPath",{id:"clipPath-".concat(n)},y.createElement("rect",{x:s?f:f-m/2,y:l?h:h-g/2,width:s?m:m*2,height:l?g:g*2}))}var LI=(e,t,r,n)=>m3(e,"xAxis",t,n),$I=(e,t,r,n)=>h3(e,"xAxis",t,n),UI=(e,t,r,n)=>m3(e,"yAxis",r,n),BI=(e,t,r,n)=>h3(e,"yAxis",r,n),moe=J([gt,LI,UI,$I,BI],(e,t,r,n,a)=>ei(e,"xAxis")?sc(t,n,!1):sc(r,a,!1)),poe=(e,t,r,n,a)=>a;function goe(e){return e.type==="line"}var voe=J([K4,poe],(e,t)=>e.filter(goe).find(r=>r.id===t)),yoe=J([gt,LI,UI,$I,BI,voe,moe,Qj],(e,t,r,n,a,s,l,u)=>{var{chartData:f,dataStartIndex:h,dataEndIndex:m}=u;if(!(s==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||l==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:g,data:v}=s,x;if(v!=null&&v.length>0?x=v:x=f?.slice(h,m+1),x!=null)return ile({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:g,bandSize:l,displayedData:x})}});function xoe(e){var t=gc(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:s}=t,l=Number(a),u=Number(s);return(Number.isNaN(l)||l<0)&&(l=r),(Number.isNaN(u)||u<0)&&(u=n),{r:l,strokeWidth:u}}return{r,strokeWidth:n}}var Ix={exports:{}},Lx={};var tP;function boe(){if(tP)return Lx;tP=1;var e=fc();function t(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,a=e.useRef,s=e.useEffect,l=e.useMemo,u=e.useDebugValue;return Lx.useSyncExternalStoreWithSelector=function(f,h,m,g,v){var x=a(null);if(x.current===null){var w={hasValue:!1,value:null};x.current=w}else w=x.current;x=l(function(){function N(M){if(!_){if(_=!0,A=M,M=g(M),v!==void 0&&w.hasValue){var C=w.value;if(v(C,M))return k=C}return k=M}if(C=k,r(A,M))return C;var D=g(M);return v!==void 0&&v(C,D)?(A=M,C):(A=M,k=D)}var _=!1,A,k,O=m===void 0?null:m;return[function(){return N(h())},O===null?void 0:function(){return N(O())}]},[h,m,g,v]);var S=n(f,x[0],x[1]);return s(function(){w.hasValue=!0,w.value=S},[S]),u(S),S},Lx}var rP;function woe(){return rP||(rP=1,Ix.exports=boe()),Ix.exports}woe();function joe(e){e()}function Soe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){joe(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var nP={notify(){},get:()=>[]};function Noe(e,t){let r,n=nP,a=0,s=!1;function l(S){m();const N=n.subscribe(S);let _=!1;return()=>{_||(_=!0,N(),g())}}function u(){n.notify()}function f(){w.onStateChange&&w.onStateChange()}function h(){return s}function m(){a++,r||(r=e.subscribe(f),n=Soe())}function g(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=nP)}function v(){s||(s=!0,m())}function x(){s&&(s=!1,g())}const w={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:f,isSubscribed:h,trySubscribe:v,tryUnsubscribe:x,getListeners:()=>n};return w}var _oe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",koe=_oe(),Aoe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Eoe=Aoe(),Toe=()=>koe||Eoe?y.useLayoutEffect:y.useEffect,Ooe=Toe();function aP(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Coe(e,t){if(aP(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!aP(e[r[a]],t[r[a]]))return!1;return!0}var Poe=Symbol.for("react-redux-context"),Doe=typeof globalThis<"u"?globalThis:{};function Moe(){if(!y.createContext)return{};const e=Doe[Poe]??=new Map;let t=e.get(y.createContext);return t||(t=y.createContext(null),e.set(y.createContext,t)),t}var Roe=Moe();function Ioe(e){const{children:t,context:r,serverState:n,store:a}=e,s=y.useMemo(()=>{const f=Noe(a);return{store:a,subscription:f,getServerState:n?()=>n:void 0}},[a,n]),l=y.useMemo(()=>a.getState(),[a]);Ooe(()=>{const{subscription:f}=s;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),l!==a.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[s,l]);const u=r||Roe;return y.createElement(u.Provider,{value:s},t)}var Loe=Ioe,$oe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Uoe(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function F1(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if($oe.has(n)){if(e[n]==null&&t[n]==null)continue;if(!Coe(e[n],t[n]))return!1}else if(!Uoe(e[n],t[n]))return!1;return!0}var Boe=["id"],zoe=["type","layout","connectNulls","needClip","shape"],qoe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function kd(){return kd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kd.apply(null,arguments)}function iP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ha(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iP(Object(r),!0).forEach(function(n){Voe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Voe(e,t,r){return(t=Hoe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hoe(e){var t=Foe(e,"string");return typeof t=="symbol"?t:t+""}function Foe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function K1(e,t){if(e==null)return{};var r,n,a=Koe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Koe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Goe=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:Vp(r,t),payload:e}]},Woe=y.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:s,name:l,hide:u,unit:f,tooltipType:h,id:m}=e,g={dataDefinedOnItem:r,getPosition:Hi,settings:{stroke:n,strokeWidth:a,fill:s,dataKey:t,nameKey:void 0,name:Vp(l,t),hide:u,type:h,color:n,unit:f,graphicalItemId:m}};return y.createElement(xI,{tooltipEntrySettings:g})}),zI=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Yoe(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var Xoe=(e,t,r)=>{var n=r.reduce((x,w)=>x+w);if(!n)return zI(t,e);for(var a=Math.floor(e/n),s=e%n,l=t-e,u=[],f=0,h=0;f<r.length;h+=(m=r[f])!==null&&m!==void 0?m:0,++f){var m,g=r[f];if(g!=null&&h+g>s){u=[...r.slice(0,f),s-h];break}}var v=u.length%2===0?[0,l]:[l];return[...Yoe(r,a),...u,...v].map(x=>"".concat(x,"px")).join(", ")};function Zoe(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:s,needClip:l}=n,{id:u}=n,f=K1(n,Boe),h=ir(f);return y.createElement(jI,{points:r,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:h,needClip:l,clipPathId:t})}function Qoe(e){var{showLabels:t,children:r,points:n}=e,a=y.useMemo(()=>n?.map(s=>{var l,u,f={x:(l=s.x)!==null&&l!==void 0?l:0,y:(u=s.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Ha(Ha({},f),{},{value:s.value,payload:s.payload,viewBox:f,parentViewBox:void 0,fill:void 0})}),[n]);return y.createElement(iI,{value:t?a:void 0},r)}function sP(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:s}=e,{type:l,layout:u,connectNulls:f,needClip:h,shape:m}=s,g=K1(s,zoe),v=Ha(Ha({},fr(g)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(t,")"):void 0,points:n,type:l,layout:u,connectNulls:f,strokeDasharray:a??s.strokeDasharray});return y.createElement(y.Fragment,null,n?.length>1&&y.createElement(Kae,kd({shapeType:"curve",option:m},v,{pathRef:r})),y.createElement(Zoe,{points:n,clipPathId:t,props:s}))}function Joe(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function ele(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:s}=e,{points:l,strokeDasharray:u,isAnimationActive:f,animationBegin:h,animationDuration:m,animationEasing:g,animateNewValues:v,width:x,height:w,onAnimationEnd:S,onAnimationStart:N}=r,_=a.current,A=eg(l,"recharts-line-"),k=y.useRef(A),[O,M]=y.useState(!1),C=!O,D=y.useCallback(()=>{typeof S=="function"&&S(),M(!1)},[S]),L=y.useCallback(()=>{typeof N=="function"&&N(),M(!0)},[N]),V=Joe(n.current),te=y.useRef(0);k.current!==A&&(te.current=s.current,k.current=A);var W=te.current;return y.createElement(Qoe,{points:l,showLabels:C},r.children,y.createElement(Jp,{animationId:A,begin:h,duration:m,isActive:f,easing:g,onAnimationEnd:D,onAnimationStart:L,key:A},K=>{var Se=Mr(W,V+W,K),be=Math.min(Se,V),Ae;if(f)if(u){var Y="".concat(u).split(/[,\s]+/gim).map(we=>parseFloat(we));Ae=Xoe(be,V,Y)}else Ae=zI(V,be);else Ae=u==null?void 0:String(u);if(K>0&&V>0&&(a.current=l,s.current=Math.max(s.current,be)),_){var ee=_.length/l.length,ce=K===1?l:l.map((we,G)=>{var T=Math.floor(G*ee);if(_[T]){var I=_[T];return Ha(Ha({},we),{},{x:Mr(I.x,we.x,K),y:Mr(I.y,we.y,K)})}return v?Ha(Ha({},we),{},{x:Mr(x*2,we.x,K),y:Mr(w/2,we.y,K)}):Ha(Ha({},we),{},{x:we.x,y:we.y})});return a.current=ce,y.createElement(sP,{props:r,points:ce,clipPathId:t,pathRef:n,strokeDasharray:Ae})}return y.createElement(sP,{props:r,points:l,clipPathId:t,pathRef:n,strokeDasharray:Ae})}),y.createElement(oI,{label:r.label}))}function tle(e){var{clipPathId:t,props:r}=e,n=y.useRef(null),a=y.useRef(0),s=y.useRef(null);return y.createElement(ele,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:s})}var rle=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:nr(e.payload,t)}};class nle extends y.Component{render(){var{hide:t,dot:r,points:n,className:a,xAxisId:s,yAxisId:l,top:u,left:f,width:h,height:m,id:g,needClip:v,zIndex:x}=this.props;if(t)return null;var w=it("recharts-line",a),S=g,{r:N,strokeWidth:_}=xoe(r),A=yI(r),k=N*2+_,O=v?"url(#clipPath-".concat(A?"":"dots-").concat(S,")"):void 0;return y.createElement(Un,{zIndex:x},y.createElement(nn,{className:w},v&&y.createElement("defs",null,y.createElement(hoe,{clipPathId:S,xAxisId:s,yAxisId:l}),!A&&y.createElement("clipPath",{id:"clipPath-dots-".concat(S)},y.createElement("rect",{x:f-k/2,y:u-k/2,width:h+k,height:m+k}))),y.createElement(foe,{xAxisId:s,yAxisId:l,data:n,dataPointFormatter:rle,errorBarOffset:0},y.createElement(tle,{props:this.props,clipPathId:S}))),y.createElement(NI,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:O}))}}var qI={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Sr.line,type:"linear"};function ale(e){var t=mr(e,qI),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:s,animationEasing:l,connectNulls:u,dot:f,hide:h,isAnimationActive:m,label:g,legendType:v,xAxisId:x,yAxisId:w,id:S}=t,N=K1(t,qoe),{needClip:_}=II(x,w),A=z1(),k=vc(),O=an(),M=De(te=>yoe(te,x,w,O,S));if(k!=="horizontal"&&k!=="vertical"||M==null||A==null)return null;var{height:C,width:D,x:L,y:V}=A;return y.createElement(nle,kd({},N,{id:S,connectNulls:u,dot:f,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:s,animationEasing:l,isAnimationActive:m,hide:h,label:g,legendType:v,xAxisId:x,yAxisId:w,points:M,layout:k,height:C,width:D,left:L,top:V,needClip:_}))}function ile(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:s,dataKey:l,bandSize:u,displayedData:f}=e;return f.map((h,m)=>{var g=nr(h,l);if(t==="horizontal"){var v=RE({axis:r,ticks:a,bandSize:u,entry:h,index:m}),x=Nr(g)?null:n.scale.map(g);return{x:v,y:x??null,value:g,payload:h}}var w=Nr(g)?null:r.scale.map(g),S=RE({axis:n,ticks:s,bandSize:u,entry:h,index:m});return w==null||S==null?null:{x:w,y:S,value:g,payload:h}}).filter(Boolean)}function sle(e){var t=mr(e,qI),r=an();return y.createElement(bI,{id:t.id,type:"line"},n=>y.createElement(y.Fragment,null,y.createElement(Gae,{legendPayload:Goe(t)}),y.createElement(Woe,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),y.createElement(oie,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),y.createElement(ale,kd({},t,{id:n}))))}var VI=y.memo(sle,F1);VI.displayName="Line";var ole=["domain","range"],lle=["domain","range"];function oP(e,t){if(e==null)return{};var r,n,a=cle(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function cle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function lP(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function HI(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=oP(e,ole),{domain:s,range:l}=t,u=oP(t,lle);return!lP(r,s)||!lP(n,l)?!1:F1(a,u)}var ule=["type"],dle=["dangerouslySetInnerHTML","ticks","scale"],fle=["id","scale"];function cw(){return cw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cw.apply(null,arguments)}function cP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cP(Object(r),!0).forEach(function(n){hle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hle(e,t,r){return(t=mle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mle(e){var t=ple(e,"string");return typeof t=="symbol"?t:t+""}function ple(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uw(e,t){if(e==null)return{};var r,n,a=gle(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function gle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function vle(e){var t=Gt(),r=y.useRef(null),n=w5(),{type:a}=e,s=uw(e,ule),l=wc(n,"xAxis",a),u=y.useMemo(()=>{if(l!=null)return uP(uP({},s),{},{type:l})},[s,l]);return y.useLayoutEffect(()=>{u!=null&&(r.current===null?t(wie(u)):r.current!==u&&t(jie({prev:r.current,next:u})),r.current=u)},[u,t]),y.useLayoutEffect(()=>()=>{r.current&&(t(Sie(r.current)),r.current=null)},[t]),null}var yle=e=>{var{xAxisId:t,className:r}=e,n=De(m5),a=an(),s="xAxis",l=De(_=>d3(_,s,t,a)),u=De(_=>OJ(_,t)),f=De(_=>IJ(_,t)),h=De(_=>V4(_,t));if(u==null||f==null||h==null)return null;var{dangerouslySetInnerHTML:m,ticks:g,scale:v}=e,x=uw(e,dle),{id:w,scale:S}=h,N=uw(h,fle);return y.createElement(H1,cw({},x,N,{x:f.x,y:f.y,width:u.width,height:u.height,className:it("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:l,axisType:s}))},xle={allowDataOverflow:Cr.allowDataOverflow,allowDecimals:Cr.allowDecimals,allowDuplicatedCategory:Cr.allowDuplicatedCategory,angle:Cr.angle,axisLine:Oi.axisLine,height:Cr.height,hide:!1,includeHidden:Cr.includeHidden,interval:Cr.interval,label:!1,minTickGap:Cr.minTickGap,mirror:Cr.mirror,orientation:Cr.orientation,padding:Cr.padding,reversed:Cr.reversed,scale:Cr.scale,tick:Cr.tick,tickCount:Cr.tickCount,tickLine:Oi.tickLine,tickSize:Oi.tickSize,type:Cr.type,xAxisId:0},ble=e=>{var t=mr(e,xle);return y.createElement(y.Fragment,null,y.createElement(vle,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),y.createElement(yle,t))},FI=y.memo(ble,HI);FI.displayName="XAxis";var wle=["type"],jle=["dangerouslySetInnerHTML","ticks","scale"],Sle=["id","scale"];function dw(){return dw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dw.apply(null,arguments)}function dP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dP(Object(r),!0).forEach(function(n){Nle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nle(e,t,r){return(t=_le(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _le(e){var t=kle(e,"string");return typeof t=="symbol"?t:t+""}function kle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fw(e,t){if(e==null)return{};var r,n,a=Ale(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ale(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ele(e){var t=Gt(),r=y.useRef(null),n=w5(),{type:a}=e,s=fw(e,wle),l=wc(n,"yAxis",a),u=y.useMemo(()=>{if(l!=null)return fP(fP({},s),{},{type:l})},[l,s]);return y.useLayoutEffect(()=>{u!=null&&(r.current===null?t(Nie(u)):r.current!==u&&t(_ie({prev:r.current,next:u})),r.current=u)},[u,t]),y.useLayoutEffect(()=>()=>{r.current&&(t(kie(r.current)),r.current=null)},[t]),null}function Tle(e){var{yAxisId:t,className:r,width:n,label:a}=e,s=y.useRef(null),l=y.useRef(null),u=De(m5),f=an(),h=Gt(),m="yAxis",g=De(C=>UJ(C,t)),v=De(C=>$J(C,t)),x=De(C=>d3(C,m,t,f)),w=De(C=>H4(C,t));if(y.useLayoutEffect(()=>{if(!(n!=="auto"||!g||R1(a)||y.isValidElement(a)||w==null)){var C=s.current;if(C){var D=C.getCalculatedWidth();Math.round(g.width)!==Math.round(D)&&h(Aie({id:t,width:D}))}}},[x,g,h,a,t,n,w]),g==null||v==null||w==null)return null;var{dangerouslySetInnerHTML:S,ticks:N,scale:_}=e,A=fw(e,jle),{id:k,scale:O}=w,M=fw(w,Sle);return y.createElement(H1,dw({},A,M,{ref:s,labelRef:l,x:v.x,y:v.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:g.width,height:g.height,className:it("recharts-".concat(m," ").concat(m),r),viewBox:u,ticks:x,axisType:m}))}var Ole={allowDataOverflow:Pr.allowDataOverflow,allowDecimals:Pr.allowDecimals,allowDuplicatedCategory:Pr.allowDuplicatedCategory,angle:Pr.angle,axisLine:Oi.axisLine,hide:!1,includeHidden:Pr.includeHidden,interval:Pr.interval,label:!1,minTickGap:Pr.minTickGap,mirror:Pr.mirror,orientation:Pr.orientation,padding:Pr.padding,reversed:Pr.reversed,scale:Pr.scale,tick:Pr.tick,tickCount:Pr.tickCount,tickLine:Oi.tickLine,tickSize:Oi.tickSize,type:Pr.type,width:Pr.width,yAxisId:0},Cle=e=>{var t=mr(e,Ole);return y.createElement(y.Fragment,null,y.createElement(Ele,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),y.createElement(Tle,t))},KI=y.memo(Cle,HI);KI.displayName="YAxis";var Ple=(e,t)=>t,G1=J([Ple,gt,Sc,Lr,O3,Xi,Qee,Yr],ite),W1=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},GI=sa("mouseClick"),WI=Bd();WI.startListening({actionCreator:GI,effect:(e,t)=>{var r=e.payload,n=G1(t.getState(),W1(r));n?.activeIndex!=null&&t.dispatch(XJ({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var hw=sa("mouseMove"),YI=Bd(),Fh=null;YI.startListening({actionCreator:hw,effect:(e,t)=>{var r=e.payload;Fh!==null&&cancelAnimationFrame(Fh);var n=W1(r);Fh=requestAnimationFrame(()=>{var a=t.getState(),s=_1(a,a.tooltip.settings.shared);if(s==="axis"){var l=G1(a,n);l?.activeIndex!=null?t.dispatch(w3({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):t.dispatch(b3())}Fh=null})}});function Dle(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var hP={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},XI=wn({name:"rootProps",initialState:hP,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:hP.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Mle=XI.reducer,{updateOptions:Rle}=XI.actions,Ile=null,Lle={updatePolarOptions:(e,t)=>t.payload},ZI=wn({name:"polarOptions",initialState:Ile,reducers:Lle}),{updatePolarOptions:$le}=ZI.actions,Ule=ZI.reducer,QI=sa("keyDown"),JI=sa("focus"),Y1=Bd();Y1.startListening({actionCreator:QI,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=k1(a,Ec(r),Qd(r),tf(r)),u=l==null?-1:Number(l);if(!(!Number.isFinite(u)||u<0)){var f=Xi(r);if(s==="Enter"){var h=ap(r,"axis","hover",String(a.index));t.dispatch(aw({active:!a.active,activeIndex:a.index,activeCoordinate:h}));return}var m=zJ(r),g=m==="left-to-right"?1:-1,v=s==="ArrowRight"?1:-1,x=u+v*g;if(!(f==null||x>=f.length||x<0)){var w=ap(r,"axis","hover",String(x));t.dispatch(aw({active:!0,activeIndex:x.toString(),activeCoordinate:w}))}}}}}});Y1.startListening({actionCreator:JI,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var s="0",l=ap(r,"axis","hover",String(s));t.dispatch(aw({active:!0,activeIndex:s,activeCoordinate:l}))}}}});var Qn=sa("externalEvent"),eL=Bd(),$x=new Map;eL.startListening({actionCreator:Qn,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,s=$x.get(a);s!==void 0&&cancelAnimationFrame(s);var l=requestAnimationFrame(()=>{try{var u=t.getState(),f={activeCoordinate:Iee(u),activeDataKey:Mee(u),activeIndex:wd(u),activeLabel:D3(u),activeTooltipIndex:wd(u),isTooltipActive:Lee(u)};r(f,n)}finally{$x.delete(a)}});$x.set(a,l)}}});var Ble=J([kc],e=>e.tooltipItemPayloads),zle=J([Ble,(e,t)=>t,(e,t,r)=>r],(e,t,r)=>{if(t!=null){var n=e.find(s=>s.settings.graphicalItemId===r);if(n!=null){var{getPosition:a}=n;if(a!=null)return a(t)}}}),tL=sa("touchMove"),rL=Bd();rL.startListening({actionCreator:tL,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=_1(n,n.tooltip.settings.shared);if(a==="axis"){var s=r.touches[0];if(s==null)return;var l=G1(n,W1({clientX:s.clientX,clientY:s.clientY,currentTarget:r.currentTarget}));l?.activeIndex!=null&&t.dispatch(w3({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(a==="item"){var u,f=r.touches[0];if(document.elementFromPoint==null||f==null)return;var h=document.elementFromPoint(f.clientX,f.clientY);if(!h||!h.getAttribute)return;var m=h.getAttribute(UG),g=(u=h.getAttribute(BG))!==null&&u!==void 0?u:void 0,v=Ac(n).find(S=>S.id===g);if(m==null||v==null||g==null)return;var{dataKey:x}=v,w=zle(n,m,g);t.dispatch(YJ({activeDataKey:x,activeIndex:m,activeCoordinate:w,activeGraphicalItemId:g}))}}}});var qle=IR({brush:fse,cartesianAxis:Eie,chartData:Ite,errorBars:soe,graphicalItems:iie,layout:NG,legend:EW,options:Cte,polarAxis:Yne,polarOptions:Ule,referenceElements:gse,rootProps:Mle,tooltip:ZJ,zIndex:xte}),Vle=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return YK({reducer:qle,preloadedState:t,middleware:n=>{var a;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([WI.middleware,YI.middleware,Y1.middleware,eL.middleware,rL.middleware])},enhancers:n=>{var a=n;return typeof n=="function"&&(a=n()),a.concat(ZR({type:"raf"}))},devTools:{serialize:{replacer:Dle},name:"recharts-".concat(r)}})};function nL(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=an(),s=y.useRef(null);if(a)return r;s.current==null&&(s.current=Vle(t,n));var l=gj;return y.createElement(Loe,{context:l,store:s.current},r)}function Hle(e){var{layout:t,margin:r}=e,n=Gt(),a=an();return y.useEffect(()=>{a||(n(wG(t)),n(bG(r)))},[n,a,t,r]),null}var aL=y.memo(Hle,F1);function iL(e){var t=Gt();return y.useEffect(()=>{t(Rle(e))},[t,e]),null}function mP(e){var{zIndex:t,isPanorama:r}=e,n=y.useRef(null),a=Gt();return y.useLayoutEffect(()=>(n.current&&a(vte({zIndex:t,element:n.current,isPanorama:r})),()=>{a(yte({zIndex:t,isPanorama:r}))}),[a,t,r]),y.createElement("g",{tabIndex:-1,ref:n})}function pP(e){var{children:t,isPanorama:r}=e,n=De(ote);if(!n||n.length===0)return t;var a=n.filter(l=>l<0),s=n.filter(l=>l>0);return y.createElement(y.Fragment,null,a.map(l=>y.createElement(mP,{key:l,zIndex:l,isPanorama:r})),t,s.map(l=>y.createElement(mP,{key:l,zIndex:l,isPanorama:r})))}var Fle=["children"];function Kle(e,t){if(e==null)return{};var r,n,a=Gle(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Gle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function dp(){return dp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dp.apply(null,arguments)}var Wle={width:"100%",height:"100%",display:"block"},Yle=y.forwardRef((e,t)=>{var r=x5(),n=b5(),a=D5();if(!Xa(r)||!Xa(n))return null;var{children:s,otherAttributes:l,title:u,desc:f}=e,h,m;return l!=null&&(typeof l.tabIndex=="number"?h=l.tabIndex:h=a?0:void 0,typeof l.role=="string"?m=l.role:m=a?"application":void 0),y.createElement(tR,dp({},l,{title:u,desc:f,role:m,tabIndex:h,width:r,height:n,style:Wle,ref:t}),s)}),Xle=e=>{var{children:t}=e,r=De(Gp);if(!r)return null;var{width:n,height:a,y:s,x:l}=r;return y.createElement(tR,{width:n,height:a,x:l,y:s},t)},gP=y.forwardRef((e,t)=>{var{children:r}=e,n=Kle(e,Fle),a=an();return a?y.createElement(Xle,null,y.createElement(pP,{isPanorama:!0},r)):y.createElement(Yle,dp({ref:t},n),y.createElement(pP,{isPanorama:!1},r))});function Zle(){var e=Gt(),[t,r]=y.useState(null),n=De($G);return y.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),s=a.width/t.offsetWidth;ht(s)&&s!==n&&e(SG(s))}},[t,e,n]),r}function vP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qle(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vP(Object(r),!0).forEach(function(n){Jle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jle(e,t,r){return(t=ece(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ece(e){var t=tce(e,"string");return typeof t=="symbol"?t:t+""}function tce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ps(){return Ps=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ps.apply(null,arguments)}var rce=()=>(Fte(),null);function fp(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var nce=y.forwardRef((e,t)=>{var r,n,a=y.useRef(null),[s,l]=y.useState({containerWidth:fp((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:fp((n=e.style)===null||n===void 0?void 0:n.height)}),u=y.useCallback((h,m)=>{l(g=>{var v=Math.round(h),x=Math.round(m);return g.containerWidth===v&&g.containerHeight===x?g:{containerWidth:v,containerHeight:x}})},[]),f=y.useCallback(h=>{if(typeof t=="function"&&t(h),h!=null&&typeof ResizeObserver<"u"){var{width:m,height:g}=h.getBoundingClientRect();u(m,g);var v=w=>{var S=w[0];if(S!=null){var{width:N,height:_}=S.contentRect;u(N,_)}},x=new ResizeObserver(v);x.observe(h),a.current=x}},[t,u]);return y.useEffect(()=>()=>{var h=a.current;h?.disconnect()},[u]),y.createElement(y.Fragment,null,y.createElement(qd,{width:s.containerWidth,height:s.containerHeight}),y.createElement("div",Ps({ref:f},e)))}),ace=y.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,s]=y.useState({containerWidth:fp(r),containerHeight:fp(n)}),l=y.useCallback((f,h)=>{s(m=>{var g=Math.round(f),v=Math.round(h);return m.containerWidth===g&&m.containerHeight===v?m:{containerWidth:g,containerHeight:v}})},[]),u=y.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null){var{width:h,height:m}=f.getBoundingClientRect();l(h,m)}},[t,l]);return y.createElement(y.Fragment,null,y.createElement(qd,{width:a.containerWidth,height:a.containerHeight}),y.createElement("div",Ps({ref:u},e)))}),ice=y.forwardRef((e,t)=>{var{width:r,height:n}=e;return y.createElement(y.Fragment,null,y.createElement(qd,{width:r,height:n}),y.createElement("div",Ps({ref:t},e)))}),sce=y.forwardRef((e,t)=>{var{width:r,height:n}=e;return typeof r=="string"||typeof n=="string"?y.createElement(ace,Ps({},e,{ref:t})):typeof r=="number"&&typeof n=="number"?y.createElement(ice,Ps({},e,{width:r,height:n,ref:t})):y.createElement(y.Fragment,null,y.createElement(qd,{width:r,height:n}),y.createElement("div",Ps({ref:t},e)))});function oce(e){return e?nce:sce}var lce=y.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:s,onContextMenu:l,onDoubleClick:u,onMouseDown:f,onMouseEnter:h,onMouseLeave:m,onMouseMove:g,onMouseUp:v,onTouchEnd:x,onTouchMove:w,onTouchStart:S,style:N,width:_,responsive:A,dispatchTouchEvents:k=!0}=e,O=y.useRef(null),M=Gt(),[C,D]=y.useState(null),[L,V]=y.useState(null),te=Zle(),W=Sj(),K=W?.width>0?W.width:_,Se=W?.height>0?W.height:a,be=y.useCallback(Q=>{te(Q),typeof t=="function"&&t(Q),D(Q),V(Q),Q!=null&&(O.current=Q)},[te,t,D,V]),Ae=y.useCallback(Q=>{M(GI(Q)),M(Qn({handler:s,reactEvent:Q}))},[M,s]),Y=y.useCallback(Q=>{M(hw(Q)),M(Qn({handler:h,reactEvent:Q}))},[M,h]),ee=y.useCallback(Q=>{M(b3()),M(Qn({handler:m,reactEvent:Q}))},[M,m]),ce=y.useCallback(Q=>{M(hw(Q)),M(Qn({handler:g,reactEvent:Q}))},[M,g]),we=y.useCallback(()=>{M(JI())},[M]),G=y.useCallback(Q=>{M(QI(Q.key))},[M]),T=y.useCallback(Q=>{M(Qn({handler:l,reactEvent:Q}))},[M,l]),I=y.useCallback(Q=>{M(Qn({handler:u,reactEvent:Q}))},[M,u]),$=y.useCallback(Q=>{M(Qn({handler:f,reactEvent:Q}))},[M,f]),B=y.useCallback(Q=>{M(Qn({handler:v,reactEvent:Q}))},[M,v]),Z=y.useCallback(Q=>{M(Qn({handler:S,reactEvent:Q}))},[M,S]),ue=y.useCallback(Q=>{k&&M(tL(Q)),M(Qn({handler:w,reactEvent:Q}))},[M,k,w]),je=y.useCallback(Q=>{M(Qn({handler:x,reactEvent:Q}))},[M,x]),Oe=oce(A);return y.createElement(B3.Provider,{value:C},y.createElement(OH.Provider,{value:L},y.createElement(Oe,{width:K??N?.width,height:Se??N?.height,className:it("recharts-wrapper",n),style:Qle({position:"relative",cursor:"default",width:K,height:Se},N),onClick:Ae,onContextMenu:T,onDoubleClick:I,onFocus:we,onKeyDown:G,onMouseDown:$,onMouseEnter:Y,onMouseLeave:ee,onMouseMove:ce,onMouseUp:B,onTouchEnd:je,onTouchMove:ue,onTouchStart:Z,ref:be},y.createElement(rce,null),r)))}),cce=["width","height","responsive","children","className","style","compact","title","desc"];function uce(e,t){if(e==null)return{};var r,n,a=dce(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function dce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var sL=y.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:s,className:l,style:u,compact:f,title:h,desc:m}=e,g=uce(e,cce),v=ir(g);return f?y.createElement(y.Fragment,null,y.createElement(qd,{width:r,height:n}),y.createElement(gP,{otherAttributes:v,title:h,desc:m},s)):y.createElement(lce,{className:l,style:u,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},y.createElement(gP,{otherAttributes:v,title:h,desc:m,ref:t},y.createElement(yse,null,s)))});function mw(){return mw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mw.apply(null,arguments)}var fce={top:5,right:5,bottom:5,left:5},hce={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:fce,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},mce=y.forwardRef(function(t,r){var n,a=mr(t.categoricalChartProps,hce),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,categoricalChartProps:h}=t,m={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,eventEmitter:void 0};return y.createElement(nL,{preloadedState:{options:m},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:s},y.createElement(TI,{chartData:h.data}),y.createElement(aL,{layout:a.layout,margin:a.margin}),y.createElement(iL,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),y.createElement(sL,mw({},a,{ref:r})))}),pce=["axis"],gce=y.forwardRef((e,t)=>y.createElement(mce,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:pce,tooltipPayloadSearcher:z3,categoricalChartProps:e,ref:t}));function vce(e){var t=Gt();return y.useEffect(()=>{t($le(e))},[t,e]),null}var yce=["layout"];function pw(){return pw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pw.apply(null,arguments)}function xce(e,t){if(e==null)return{};var r,n,a=bce(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function bce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var wce={top:5,right:5,bottom:5,left:5},oL={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:wce,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},jce=y.forwardRef(function(t,r){var n,a=mr(t.categoricalChartProps,oL),{layout:s}=a,l=xce(a,yce),{chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:m}=t,g={chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:m,eventEmitter:void 0};return y.createElement(nL,{preloadedState:{options:g},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:u},y.createElement(TI,{chartData:a.data}),y.createElement(aL,{layout:s,margin:a.margin}),y.createElement(iL,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),y.createElement(vce,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),y.createElement(sL,pw({},l,{ref:r})))});function yP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yP(Object(r),!0).forEach(function(n){Sce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sce(e,t,r){return(t=Nce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nce(e){var t=_ce(e,"string");return typeof t=="symbol"?t:t+""}function _ce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kce=["axis"],Ace=xP(xP({},oL),{},{layout:"centric",startAngle:90,endAngle:-270}),Ece=y.forwardRef((e,t)=>{var r=mr(e,Ace);return y.createElement(jce,{chartName:"RadarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:kce,tooltipPayloadSearcher:z3,categoricalChartProps:r,ref:t})});function Tce({analytics:e,tasks:t,instanceName:r}){const n=y.useMemo(()=>{if(!e)return[];const s=new Map;return e.strengthAreas?.forEach(l=>{s.set(l.skill,{skill:l.skill.replace(/_/g," "),score:Math.round(l.score*100),fullMark:100})}),e.weaknessAreas?.forEach(l=>{s.has(l.skill)||s.set(l.skill,{skill:l.skill.replace(/_/g," "),score:Math.round(l.score*100),fullMark:100})}),Array.from(s.values())},[e]),a=y.useMemo(()=>t?t.filter(l=>l.status==="approved").sort((l,u)=>new Date(l.approvedAt)-new Date(u.approvedAt)).map((l,u)=>({name:`Task ${u+1}`,completed:u+1,quality:l.qualityScore?Math.round(l.qualityScore*100):null})):[],[t]);return e?c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsxs(He,{className:"p-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-student-primary/10 rounded-lg",children:c.jsx(Aa,{className:"w-5 h-5 text-student-primary"})}),c.jsxs("div",{children:[c.jsxs("div",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:[Math.round(e.completionPercentage||0),"%"]}),c.jsx("div",{className:"text-xs text-slate-500",children:"Completion"})]})]}),c.jsx("div",{className:"mt-3 h-2 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-student-primary transition-all duration-500",style:{width:`${e.completionPercentage||0}%`}})})]}),c.jsx(He,{className:"p-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-green-500/10 rounded-lg",children:c.jsx(nb,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),c.jsxs("div",{children:[c.jsxs("div",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:[e.averageQualityScore?Math.round(e.averageQualityScore*100):"--","%"]}),c.jsx("div",{className:"text-xs text-slate-500",children:"Avg Quality"})]})]})}),c.jsx(He,{className:"p-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg",children:c.jsx(Di,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),c.jsxs("div",{children:[c.jsxs("div",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:[e.onTimeCompletionRate?Math.round(e.onTimeCompletionRate*100):"--","%"]}),c.jsx("div",{className:"text-xs text-slate-500",children:"On-Time"})]})]})}),c.jsx(He,{className:"p-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-purple-500/10 rounded-lg",children:c.jsx(mm,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),c.jsxs("div",{children:[c.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:e.currentPaceTasksPerWeek||"--"}),c.jsx("div",{className:"text-xs text-slate-500",children:"Tasks/Week"})]})]})})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.length>0&&c.jsxs(He,{children:[c.jsxs("div",{className:"p-4 border-b border-slate-200 dark:border-slate-700",children:[c.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white",children:"Skills Analysis"}),c.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Your performance across different skill areas"})]}),c.jsx("div",{className:"p-4",children:c.jsx(KE,{width:"100%",height:300,children:c.jsxs(Ece,{data:n,children:[c.jsx(mI,{stroke:"#94a3b8"}),c.jsx(vI,{dataKey:"skill",tick:{fill:"#64748b",fontSize:12}}),c.jsx(gI,{angle:90,domain:[0,100],tick:{fill:"#64748b"}}),c.jsx(EI,{name:"Score",dataKey:"score",stroke:"#8b5cf6",fill:"#8b5cf6",fillOpacity:.6}),c.jsx(QO,{})]})})})]}),a.length>0&&c.jsxs(He,{children:[c.jsxs("div",{className:"p-4 border-b border-slate-200 dark:border-slate-700",children:[c.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white",children:"Progress Timeline"}),c.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Task completion over time"})]}),c.jsx("div",{className:"p-4",children:c.jsx(KE,{width:"100%",height:300,children:c.jsxs(gce,{data:a,children:[c.jsx(MI,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),c.jsx(FI,{dataKey:"name",tick:{fill:"#64748b",fontSize:12}}),c.jsx(KI,{tick:{fill:"#64748b"}}),c.jsx(QO,{}),c.jsx(VI,{type:"monotone",dataKey:"completed",stroke:"#8b5cf6",strokeWidth:2,dot:{fill:"#8b5cf6"}})]})})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.strengthAreas&&e.strengthAreas.length>0&&c.jsxs(He,{children:[c.jsx("div",{className:"p-4 border-b border-slate-200 dark:border-slate-700",children:c.jsxs("h3",{className:"font-semibold text-slate-900 dark:text-white flex items-center gap-2",children:[c.jsx(nb,{className:"w-5 h-5 text-green-600"}),"Your Strengths"]})}),c.jsx("div",{className:"p-4 space-y-3",children:e.strengthAreas.map((s,l)=>c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 capitalize",children:s.skill.replace(/_/g," ")}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-24 h-2 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-green-500 transition-all",style:{width:`${Math.round(s.score*100)}%`}})}),c.jsxs("span",{className:"text-sm font-bold text-green-600 dark:text-green-400 w-12 text-right",children:[Math.round(s.score*100),"%"]})]})]},l))})]}),e.weaknessAreas&&e.weaknessAreas.length>0&&c.jsxs(He,{children:[c.jsx("div",{className:"p-4 border-b border-slate-200 dark:border-slate-700",children:c.jsxs("h3",{className:"font-semibold text-slate-900 dark:text-white flex items-center gap-2",children:[c.jsx(mm,{className:"w-5 h-5 text-orange-600"}),"Areas for Improvement"]})}),c.jsx("div",{className:"p-4 space-y-3",children:e.weaknessAreas.map((s,l)=>c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 capitalize",children:s.skill.replace(/_/g," ")}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-24 h-2 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-orange-500 transition-all",style:{width:`${Math.round(s.score*100)}%`}})}),c.jsxs("span",{className:"text-sm font-bold text-orange-600 dark:text-orange-400 w-12 text-right",children:[Math.round(s.score*100),"%"]})]})]},l))})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.bottleneckTasks&&e.bottleneckTasks.length>0&&c.jsxs(He,{children:[c.jsx("div",{className:"p-4 border-b border-slate-200 dark:border-slate-700",children:c.jsxs("h3",{className:"font-semibold text-slate-900 dark:text-white flex items-center gap-2",children:[c.jsx(Qu,{className:"w-5 h-5 text-red-600"}),"Tasks Needing Attention"]})}),c.jsx("div",{className:"p-4 space-y-2",children:e.bottleneckTasks.map((s,l)=>c.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:[c.jsx("div",{className:"font-medium text-sm text-slate-900 dark:text-white",children:s.title}),c.jsxs("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:["Stuck for ",s.daysStuck," days"]})]},l))})]}),e.predictedCompletionDate&&c.jsxs(He,{children:[c.jsx("div",{className:"p-4 border-b border-slate-200 dark:border-slate-700",children:c.jsxs("h3",{className:"font-semibold text-slate-900 dark:text-white flex items-center gap-2",children:[c.jsx(en,{className:"w-5 h-5 text-blue-600"}),"Predicted Completion"]})}),c.jsxs("div",{className:"p-6 text-center",children:[c.jsx("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400 mb-2",children:wr(e.predictedCompletionDate)}),c.jsxs("p",{className:"text-sm text-slate-500",children:["Based on your current pace of ",e.currentPaceTasksPerWeek||0," tasks per week"]}),c.jsx("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:c.jsxs("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:[e.tasksTotal-e.tasksCompleted," tasks remaining"]})})]})]})]})]}):c.jsxs("div",{className:"p-8 text-center text-slate-500",children:[c.jsx(Qu,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),c.jsx("p",{children:"Analytics data not available yet. Complete some tasks to see your progress!"})]})}function Oce(e){if(!e||e.length===0)return 0;const t=e.filter(r=>r.status==="approved").length;return Math.round(t/e.length*100)}function Cce(e){if(!e||e.length===0)return[];const t=new Date,r=[];return e.forEach(n=>{if(n.status==="in_progress"||n.status==="submitted"){const a=new Date(n.createdAt),s=Math.floor((t-a)/(1e3*60*60*24));s>7&&r.push({taskId:n.id,title:n.title,daysStuck:s,status:n.status})}}),r.sort((n,a)=>a.daysStuck-n.daysStuck)}function Pce(e,t){if(!e||e.length===0||!t)return null;const r=e.length,n=e.filter(g=>g.status==="approved").length;if(n===0)return null;const a=new Date,s=new Date(t),l=Math.max(1,(a-s)/(1e3*60*60*24)),u=n/l;if(u===0)return null;const h=(r-n)/u,m=new Date(a);return m.setDate(m.getDate()+Math.ceil(h)),m}function Dce(e){if(!e||e.length===0)return 0;const t=e.filter(n=>n.status==="approved"&&n.deadline&&n.approvedAt);return t.length===0?0:t.filter(n=>{const a=new Date(n.deadline);return new Date(n.approvedAt)<=a}).length/t.length}function Mce(e=[]){const t=new Set(e.filter(Boolean).map(a=>{const s=new Date(a);return Number.isNaN(s.getTime())?null:(s.setHours(0,0,0,0),s.getTime())}).filter(a=>a!=null));if(t.size===0)return 0;const r=new Date;r.setHours(0,0,0,0);let n=0;for(;;){const a=new Date(r);if(a.setDate(a.getDate()-n),t.has(a.getTime()))n+=1;else break}return n}function Rce(){const{currentUser:e}=_t(),{hydrated:t,busy:r,instances:n,templates:a,instanceDetailsById:s,fetchMyInstances:l,fetchInstanceDetails:u}=Np(),f=y.useMemo(()=>e?.id?(n??[]).filter(A=>A.studentId===e.id):[],[e,n]),[h,m]=y.useState(""),g=y.useMemo(()=>h||f[0]?.id||"",[f,h]);y.useEffect(()=>{t&&e?.id&&l().catch(()=>{})},[e?.id,l,t]),y.useEffect(()=>{g&&u(g).catch(()=>{})},[g,u]);const v=y.useMemo(()=>g?s[g]??null:null,[g,s]),x=v?.instance??null,w=y.useMemo(()=>v?.tasks??[],[v]),S=y.useMemo(()=>x?(a??[]).find(k=>k.id===x.templateId)?.name??"My Program":"",[x,a]),N=y.useMemo(()=>{if(!x)return null;const A=w,k=Oce(A),O=A.length,M=A.filter(be=>be.status==="approved").length,C=A.filter(be=>be.status==="in_progress"||be.status==="submitted").length,D=Dce(A),L=Cce(A),V=Pce(A,x.startedAt),te=new Date(x.startedAt),K=Math.max(1,(new Date-te)/(1e3*60*60*24)),Se=Math.round(M/K*7*10)/10;return{id:`analytics_${x.id}`,instanceId:x.id,studentId:x.studentId,completionPercentage:k,tasksTotal:O,tasksCompleted:M,tasksInProgress:C,averageQualityScore:null,averageTimePerTaskMinutes:null,onTimeCompletionRate:D,strengthAreas:[],weaknessAreas:[],predictedCompletionDate:V?V.toISOString():null,currentPaceTasksPerWeek:Se,bottleneckTasks:L,lastCalculatedAt:new Date().toISOString()}},[x,w]),_=y.useMemo(()=>{const A=w.filter(M=>M.status==="approved").map(M=>M.approvedAt),k={tasksCompleted:w.filter(M=>M.status==="approved").length,currentStreak:Mce(A),highQualityCount:0},O=gH(k,[]);return{userStats:k,earnedBadges:O}},[w]);return e?.id?!t||r?c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsx("div",{className:"text-muted-foreground",children:"Loading analytics"})}):f.length===0?c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-heading font-bold text-slate-900 dark:text-white",children:"Analytics"}),c.jsx("p",{className:"mt-2 text-slate-500 font-medium",children:"Start a roadmap to unlock progress analytics and achievements."})]}),c.jsx(He,{className:"p-8 border-dashed",children:c.jsxs("div",{className:"text-center text-slate-500",children:[c.jsx(Ww,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),c.jsx("div",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"No roadmap started yet"}),c.jsx("div",{className:"text-sm mt-1",children:"Go to My Progress and start a template."})]})})]}):c.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-heading font-bold text-slate-900 dark:text-white",children:"Analytics"}),c.jsx("p",{className:"mt-2 text-slate-500 font-medium",children:"Track your streak, achievements, and roadmap progress."})]}),c.jsxs("div",{className:"w-full md:w-72",children:[c.jsx("label",{className:"block text-xs font-bold uppercase tracking-wider text-slate-500 mb-2",children:"Roadmap"}),c.jsx("select",{value:g,onChange:A=>m(A.target.value),className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm font-semibold text-slate-800 shadow-sm focus:outline-none focus:ring-2 focus:ring-student-primary/30 dark:bg-slate-900 dark:border-slate-700 dark:text-slate-100",children:f.map(A=>{const k=(a??[]).find(O=>O.id===A.templateId);return c.jsx("option",{value:A.id,children:k?.name??"Program"},A.id)})})]})]}),c.jsx(yH,{userStats:_.userStats,earnedBadges:_.earnedBadges}),c.jsxs(He,{className:"p-4",children:[c.jsx("div",{className:"text-sm text-slate-500",children:"Roadmap"}),c.jsx("div",{className:"text-xl font-heading font-bold text-slate-900 dark:text-white",children:S})]}),c.jsx(Tce,{analytics:N,tasks:w,instanceName:S})]}):c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsx("div",{className:"text-muted-foreground",children:"Sign in to view analytics."})})}function Ice(){const{currentUser:e,role:t}=_t(),{data:r,sendMessage:n,markAsRead:a,deleteMessageForMe:s,deleteMessageForEveryone:l,getUserById:u,getPresenceForUser:f}=Pt(),{showToast:h}=Da(),[m,g]=y.useState(null),[v,x]=y.useState(""),[w,S]=y.useState(""),[N,_]=y.useState(!1),[A,k]=y.useState(!1),[O,M]=y.useState(null),C=y.useRef(null),[D,L]=y.useState(!1),V=y.useRef(null),te=y.useRef(null),W=y.useRef(null),K=y.useRef(0),Se=y.useRef(null),be=y.useRef(null),Ae=y.useRef(null),Y=y.useRef(null);y.useEffect(()=>{WM()},[]);const ee=y.useMemo(()=>!e?.id||!r?[]:(r.messages??[]).filter(pe=>pe.receiverId===e.id||pe.senderId===e.id).sort((pe,ke)=>new Date(pe.sentAt)-new Date(ke.sentAt)),[e,r]),ce=y.useMemo(()=>{if(!e)return new Map;const pe=new Map;for(const ke of ee){const he=ke.senderId===e.id,Re=he?ke.receiverId:ke.senderId;if(!pe.has(Re)){const vt=u(Re);pe.set(Re,{peerId:Re,peer:vt,peerName:vt?.name??"Unknown User",peerRole:vt?.role??"",messages:[],lastMessage:null,unreadCount:0})}const Ge=pe.get(Re);Ge.messages.push(ke),Ge.lastMessage=ke,!he&&!ke.readAt&&Ge.unreadCount++}return pe},[ee,e,u]),we=y.useMemo(()=>{const pe=Array.from(ce.values());return(v.trim()?pe.filter(he=>he.peerName.toLowerCase().includes(v.toLowerCase())):pe).sort((he,Re)=>{const Ge=he.lastMessage?new Date(he.lastMessage.sentAt):new Date(0);return(Re.lastMessage?new Date(Re.lastMessage.sentAt):new Date(0))-Ge})},[ce,v]),G=y.useMemo(()=>m?ce.get(m)||{peerId:m,peer:u(m),peerName:u(m)?.name??"User",peerRole:u(m)?.role??"",messages:[],unreadCount:0}:null,[ce,m,u]),T=y.useMemo(()=>{if(!r||!t)return[];if(t==="student")return(r.users??[]).filter(pe=>pe.role==="coach");if(t==="coach"){const pe=(r.programs??[]).filter(he=>he.coachIds.includes(e?.id)).map(he=>he.id),ke=new Set((r.programs??[]).filter(he=>pe.includes(he.id)).flatMap(he=>he.participantStudentIds));return(r.users??[]).filter(he=>he.role==="student"&&ke.has(he.id))}return[]},[r,t,e]);y.useEffect(()=>{C.current&&C.current.scrollIntoView({behavior:"smooth"})},[G?.messages,D]),y.useEffect(()=>{if(m&&e&&G){const pe=G.messages.filter(ke=>ke.receiverId===e.id&&!ke.readAt).map(ke=>ke.id);pe.length>0&&a({messageIds:pe})}},[m,G,e,a]),y.useEffect(()=>{const pe=G?.messages??[];if(pe.length===0)return;const ke=pe[pe.length-1];if(Se.current===null){Se.current=ke.id;return}ke.id!==Se.current&&(Se.current=ke.id,ke.senderId===m&&YM().catch(he=>console.warn("Sound play failed",he)))},[G,m]);const I=y.useMemo(()=>{if(!e?.id||!m)return null;const pe=String(e.id),ke=String(m);return pe<ke?`${pe}:${ke}`:`${ke}:${pe}`},[e?.id,m]),$=ZM({currentUserId:e?.id,peerId:m,conversationKey:I});y.useEffect(()=>{if(be.current)try{be.current.srcObject=$.localStream??null}catch{}},[$.localStream]),y.useEffect(()=>{if(Ae.current)try{Ae.current.srcObject=$.remoteStream??null}catch{}if(Y.current)try{Y.current.srcObject=$.remoteStream??null}catch{}},[$.remoteStream]);const B=async()=>$.status==="incoming"?$.rejectCall():$.endCall(),Z=async()=>{(await $.startAudioCall())?.success||h("Call failed (check mic permission / Supabase auth)","error")},ue=async()=>{(await $.startVideoCall())?.success||h("Call failed (check camera permission / Supabase auth)","error")};y.useEffect(()=>{if(Promise.resolve().then(()=>L(!1)),V.current&&(ye.removeChannel(V.current),V.current=null),!I||!m)return;const pe=ye.channel(`typing:${I}`).on("broadcast",{event:"typing"},ke=>{const he=ke?.payload?.from,Re=!!ke?.payload?.isTyping;!he||he!==m||(L(Re),te.current&&window.clearTimeout(te.current),Re&&(te.current=window.setTimeout(()=>L(!1),5e3)))}).subscribe();return V.current=pe,()=>{ye.removeChannel(pe),te.current&&window.clearTimeout(te.current),W.current&&window.clearTimeout(W.current)}},[I,m]);const je=async pe=>{if(pe?.preventDefault(),!w.trim()||!m)return;const ke=w;S("");try{await n({senderId:e.id,receiverId:m,content:ke,subject:"Message"}),I&&V.current&&(V.current.send({type:"broadcast",event:"typing",payload:{from:e.id,isTyping:!1}}),K.current=0)}catch{h("Failed to send message","error"),S(ke)}},Oe=pe=>{if(S(pe.target.value),!I||!V.current)return;const ke=Date.now();W.current&&clearTimeout(W.current),ke-K.current>2e3&&(V.current.send({type:"broadcast",event:"typing",payload:{from:e.id,isTyping:!0}}),K.current=ke),W.current=setTimeout(()=>{V.current?.send({type:"broadcast",event:"typing",payload:{from:e.id,isTyping:!1}}),K.current=0},1500)},Q={recipientId:"",message:""},[de,Ee]=y.useState(Q),oe=async()=>{if(!de.recipientId)return h("Select a recipient","error");if(!de.message.trim())return h("Enter a message","error");try{await n({senderId:e.id,receiverId:de.recipientId,content:de.message,subject:"New Conversation"}),_(!1),g(de.recipientId),Ee(Q)}catch{h("Failed to start conversation","error")}};if(!e)return null;const qe=m?f(m):null,Be=pe=>{pe?.id&&(M({id:pe.id,isMe:pe.senderId===e?.id}),k(!0))};return c.jsxs("div",{className:"h-[calc(100vh-8rem)] min-h-[500px] w-full max-w-7xl mx-auto bg-white rounded-2xl shadow-xl border border-slate-200 overflow-hidden flex font-sans",children:[c.jsxs("div",{className:"w-80 md:w-96 border-r border-slate-100 flex flex-col bg-slate-50/50",children:[c.jsxs("div",{className:"p-4 border-b border-slate-100 bg-white",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"text-xl font-heading font-bold text-slate-900",children:"Chats"}),c.jsx("button",{onClick:()=>_(!0),className:"p-2 bg-blue-50 text-blue-600 rounded-full hover:bg-blue-100 transition-colors",title:"New Message",children:c.jsx(Ei,{className:"h-5 w-5"})})]}),c.jsxs("div",{className:"relative",children:[c.jsx(qi,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),c.jsx("input",{type:"text",placeholder:"Search messages...",className:"w-full pl-9 pr-4 py-2 bg-slate-100 border-none rounded-xl text-sm focus:ring-2 focus:ring-blue-500/20 text-slate-900 placeholder:text-slate-500",value:v,onChange:pe=>x(pe.target.value)})]})]}),c.jsx("div",{className:"flex-1 overflow-y-auto",children:we.length===0?c.jsxs("div",{className:"p-8 text-center text-slate-400",children:[c.jsx(td,{className:"h-12 w-12 mx-auto mb-2 opacity-20"}),c.jsx("p",{className:"text-sm",children:"No conversations yet"}),c.jsx("button",{onClick:()=>_(!0),className:"text-sm text-blue-600 font-semibold mt-2 hover:underline",children:"Start one"})]}):we.map(pe=>c.jsxs("button",{onClick:()=>g(pe.peerId),className:ft("w-full p-4 flex items-center gap-3 hover:bg-white transition-colors border-l-4 border-transparent text-left",m===pe.peerId?"bg-white border-blue-600 shadow-sm z-10":"border-transparent hover:border-slate-300"),children:[c.jsxs("div",{className:"relative shrink-0",children:[c.jsx("div",{className:ft("w-12 h-12 rounded-full flex items-center justify-center text-white font-heading font-bold text-lg",pe.peerRole==="student"?"bg-indigo-500":pe.peerRole==="coach"?"bg-emerald-500":"bg-slate-500"),children:pe.peerName.charAt(0)}),f(pe.peerId)?.online&&c.jsx("div",{className:"absolute bottom-0 right-0 w-3.5 h-3.5 bg-green-500 border-2 border-white rounded-full"})]}),c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[c.jsx("span",{className:ft("font-semibold truncate",m===pe.peerId?"text-slate-900":"text-slate-700"),children:pe.peerName}),pe.lastMessage&&c.jsx("span",{className:"text-[10px] text-slate-400 shrink-0",children:rn(pe.lastMessage.sentAt).split(",")[0]})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("p",{className:ft("text-sm truncate max-w-[140px]",pe.unreadCount>0?"font-bold text-slate-800":"text-slate-500"),children:pe.lastMessage?.content??"No messages"}),pe.unreadCount>0&&c.jsx("span",{className:"bg-blue-600 text-white text-[10px] h-5 min-w-[20px] px-1.5 rounded-full flex items-center justify-center font-bold",children:pe.unreadCount>9?"9+":pe.unreadCount})]})]})]},pe.peerId))})]}),c.jsx("div",{className:"flex-1 flex flex-col bg-white",children:m?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"h-16 px-6 border-b border-slate-100 flex items-center justify-between shrink-0 bg-white",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:ft("w-10 h-10 rounded-full flex items-center justify-center text-white font-heading font-bold",G?.peerRole==="student"?"bg-indigo-500":G?.peerRole==="coach"?"bg-emerald-500":"bg-slate-500"),children:G?.peerName.charAt(0)}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-heading font-bold text-slate-900 leading-none",children:G?.peerName}),c.jsx("div",{className:"text-xs text-slate-500 mt-1 flex items-center gap-1.5",children:qe?.online?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500"}),c.jsx("span",{className:"font-medium text-green-600",children:"Online"})]}):qe?.lastSeenAt?c.jsxs("span",{children:["Last seen ",new Date(qe.lastSeenAt).toLocaleString()]}):c.jsx("span",{className:"uppercase tracking-wider text-[10px]",children:G?.peerRole})})]})]}),c.jsxs("div",{className:"flex items-center gap-2 text-slate-400",children:[c.jsx("button",{type:"button",onClick:Z,className:"p-2 hover:bg-slate-100 rounded-full transition-colors",title:"Audio call",children:c.jsx(hM,{className:"h-5 w-5"})}),c.jsx("button",{type:"button",onClick:ue,className:"p-2 hover:bg-slate-100 rounded-full transition-colors",title:"Video call",children:c.jsx(Rd,{className:"h-5 w-5"})}),c.jsx("button",{className:"p-2 hover:bg-slate-100 rounded-full transition-colors",children:c.jsx(Ju,{className:"h-5 w-5"})})]})]}),c.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-slate-50/30",children:c.jsxs("div",{className:"flex flex-col gap-4",children:[G.messages.map((pe,ke)=>{const he=pe.senderId===e.id,Re=!he&&(ke===0||G.messages[ke-1].senderId!==pe.senderId),Ge=!!pe.readAt;return c.jsxs("div",{className:ft("flex w-full items-end gap-2 group",he?"justify-end":"justify-start"),children:[!he&&c.jsx("div",{className:"w-8 h-8 shrink-0 mb-1",children:Re&&c.jsx("div",{className:ft("w-8 h-8 rounded-full flex items-center justify-center text-white text-xs font-bold",G?.peerRole==="student"?"bg-indigo-500":G?.peerRole==="coach"?"bg-emerald-500":"bg-slate-500"),children:G?.peerName.charAt(0)})}),c.jsxs("div",{className:ft("max-w-[70%] px-4 py-2.5 rounded-2xl shadow-sm text-sm leading-relaxed relative pr-12 group/bubble",he?"bg-blue-600 text-white rounded-br-none":"bg-white text-slate-800 border border-slate-100 rounded-bl-none"),children:[c.jsx("div",{className:"break-words",children:pe.content}),c.jsxs("div",{className:ft("text-[10px] mt-1 text-right flex items-center justify-end gap-1 select-none",he?"text-blue-100/80":"text-slate-400"),children:[new Date(pe.sentAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),he&&(Ge?c.jsx("div",{className:"flex items-center gap-0.5",children:c.jsx(dm,{className:"h-3.5 w-3.5 text-blue-200"})}):c.jsx(oM,{className:"h-3.5 w-3.5 text-blue-200/70"}))]}),c.jsx("button",{type:"button",onClick:vt=>{vt.stopPropagation(),Be(pe)},className:ft("absolute top-1 right-1 opacity-0 group-hover/bubble:opacity-100 transition-opacity p-1 rounded-full",he?"hover:bg-blue-700 text-blue-100":"hover:bg-slate-100 text-slate-400"),title:"Options",children:c.jsx(Ju,{className:"h-3.5 w-3.5"})})]})]},pe.id)}),D&&c.jsxs("div",{className:"flex w-full items-end gap-2 justify-start",children:[c.jsx("div",{className:"w-8 h-8 shrink-0 mb-1",children:c.jsx("div",{className:ft("w-8 h-8 rounded-full flex items-center justify-center text-white text-xs font-bold",G?.peerRole==="student"?"bg-indigo-500":G?.peerRole==="coach"?"bg-emerald-500":"bg-slate-500"),children:G?.peerName.charAt(0)})}),c.jsxs("div",{className:"bg-white px-4 py-3 rounded-2xl rounded-bl-none shadow-sm border border-slate-100 flex gap-1 items-center",children:[c.jsx("span",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce"}),c.jsx("span",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce [animation-delay:0.1s]"}),c.jsx("span",{className:"w-1.5 h-1.5 bg-slate-400 rounded-full animate-bounce [animation-delay:0.2s]"})]})]}),c.jsx("div",{ref:C})]})}),c.jsx("div",{className:"p-4 bg-white border-t border-slate-100",children:c.jsxs("form",{onSubmit:je,className:"flex gap-3 items-end",children:[c.jsx("div",{className:"flex-1 bg-slate-100 rounded-2xl px-4 py-3 focus-within:ring-2 focus-within:ring-blue-100 focus-within:bg-white transition-all border border-transparent focus-within:border-blue-200",children:c.jsx("input",{type:"text",className:"w-full bg-transparent border-none focus:outline-none text-slate-800 placeholder:text-slate-400 text-sm max-h-32",placeholder:`Message ${G?.peerName}...`,value:w,onChange:Oe})}),c.jsx("button",{type:"submit",disabled:!w.trim(),className:"p-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-md active:scale-95 flex items-center justify-center",children:c.jsx(mM,{className:"h-5 w-5"})})]})}),c.jsx(XM,{open:$.status!=="idle"&&$.status!=="ended",status:$.status,direction:$.direction,callType:$.callType,peerName:G?.peerName,error:$.error,muted:$.muted,cameraOff:$.cameraOff,onAccept:$.acceptCall,onReject:$.rejectCall,onEnd:B,onToggleMute:$.toggleMute,onToggleCamera:$.toggleCamera,localVideoRef:be,remoteVideoRef:Ae,remoteAudioRef:Y})]}):c.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-slate-300 p-8",children:[c.jsx("div",{className:"w-24 h-24 bg-slate-50 rounded-full flex items-center justify-center mb-4",children:c.jsx(td,{className:"h-10 w-10 text-slate-300"})}),c.jsx("h3",{className:"text-lg font-heading font-semibold text-slate-900 mb-1",children:"Your Messages"}),c.jsx("p",{className:"text-slate-500 text-center max-w-xs text-sm",children:"Select a conversation from the sidebar or start a new one to begin messaging."}),c.jsx("button",{onClick:()=>_(!0),className:"mt-6 px-6 py-2.5 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 transition-colors shadow-md",children:"New Message"})]})}),N&&c.jsx(ar,{title:"New Message",onClose:()=>_(!1),footer:c.jsxs(c.Fragment,{children:[c.jsx("button",{className:"btn-ghost",onClick:()=>_(!1),children:"Cancel"}),c.jsx("button",{className:"btn-primary",onClick:oe,children:"Send Message"})]}),children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Recipient"}),c.jsxs("select",{className:"w-full rounded-lg border-slate-200 text-sm focus:ring-blue-500",value:de.recipientId,onChange:pe=>Ee({...de,recipientId:pe.target.value}),children:[c.jsx("option",{value:"",children:"Select a user..."}),T.map(pe=>c.jsxs("option",{value:pe.id,children:[pe.name," (",pe.role,")"]},pe.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Message"}),c.jsx("textarea",{className:"w-full rounded-lg border-slate-200 text-sm focus:ring-blue-500",rows:4,placeholder:"Type your first message...",value:de.message,onChange:pe=>Ee({...de,message:pe.target.value})})]})]})}),A&&O&&c.jsx(ar,{title:"Delete Message",onClose:()=>{k(!1),M(null)},footer:c.jsxs("div",{className:"flex flex-col gap-2 w-full sm:flex-row sm:justify-end",children:[c.jsx("button",{className:"px-4 py-2 text-slate-600 hover:bg-slate-100 rounded-lg text-sm font-medium transition-colors",onClick:()=>{k(!1),M(null)},children:"Cancel"}),c.jsx("button",{className:"px-4 py-2 text-red-600 bg-red-50 hover:bg-red-100 rounded-lg text-sm font-medium transition-colors",onClick:async()=>{(await s?.({messageId:O.id}))?.success||h("Failed to delete","error"),k(!1),M(null)},children:"Delete for me"}),O.isMe&&c.jsx("button",{className:"px-4 py-2 bg-red-600 text-white hover:bg-red-700 rounded-lg text-sm font-medium shadow-sm transition-colors",onClick:async()=>{(await l?.({messageId:O.id}))?.success||h("Failed to delete","error"),k(!1),M(null)},children:"Delete for everyone"})]}),children:c.jsxs("div",{className:"text-sm text-slate-600 leading-relaxed",children:["Are you sure you want to delete this message?",O.isMe&&c.jsx("p",{className:"mt-2 text-xs text-slate-500 bg-slate-50 p-3 rounded-lg border border-slate-100",children:'"Delete for everyone" will remove the message for all participants. "Delete for me" only removes it from your view.'})]})})]})}const Lce={first_submission:{label:"First Submission",icon:"",color:"bg-success-50 text-success-700"},perfect_attendance:{label:"Perfect Attendance",icon:"",color:"bg-secondary-50 text-secondary-700"},team_player:{label:"Team Player",icon:"",color:"bg-primary/10 text-primary"},top_performer:{label:"Top Performer",icon:"",color:"bg-warning-50 text-warning-700"}};function bP(){const{currentUser:e,role:t}=_t(),{data:r}=Pt(),{showToast:n}=Da(),[a,s]=y.useState(!1),[l,u]=y.useState(!1),[f,h]=y.useState({name:e?.name??"",email:e?.email??"",university:e?.university??"",major:e?.major??"",bio:e?.bio??"",expertise:e?.expertise??""}),m=(r?.users??[]).find(A=>A.id===e?.id),g=m?.id?`${m.id.slice(0,8)}${m.id.slice(-4)}`:"",v=()=>{s(!0),h({name:m?.name??"",email:m?.email??"",university:m?.university??"",major:m?.major??"",bio:m?.bio??"",expertise:m?.expertise??""})},x=()=>{s(!1)},w=()=>{n("Profile updated successfully!","success"),s(!1)},S=(A,k)=>{h(O=>({...O,[A]:k}))},N=t==="coach"?(r?.programs??[]).filter(A=>A.coachIds.includes(m?.id)):(r?.programs??[]).filter(A=>A.participantStudentIds.includes(m?.id)),_=t==="student"?{xp:m?.xp??0,level:m?.level??1,badges:m?.badges??[],programsCount:N.length}:{programsCount:N.length,studentsCount:N.reduce((A,k)=>A+k.participantStudentIds.length,0)};return m?c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"My Profile"}),c.jsx("p",{className:"mt-1 text-muted-foreground",children:"Manage your profile information"})]}),a?c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{type:"button",className:"btn-ghost",onClick:x,children:[c.jsx(Yw,{className:"h-4 w-4"}),"Cancel"]}),c.jsxs("button",{type:"button",className:"btn-primary",onClick:w,children:[c.jsx(f9,{className:"h-4 w-4"}),"Save"]})]}):c.jsxs("button",{type:"button",className:"btn-primary",onClick:v,children:[c.jsx(r9,{className:"h-4 w-4"}),"Edit Profile"]})]}),c.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[c.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[c.jsx(He,{title:"Basic Information",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-foreground",children:"Name"}),a?c.jsx("input",{type:"text",className:"mt-2 w-full rounded-lg border border-border bg-background px-3 py-2 text-sm text-foreground focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary",value:f.name,onChange:A=>S("name",A.target.value)}):c.jsxs("div",{className:"mt-2 flex items-center gap-2 text-foreground",children:[c.jsx(Co,{className:"h-4 w-4 text-muted-foreground"}),m.name]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-foreground",children:"Email"}),a?c.jsx("input",{type:"email",className:"mt-2 w-full rounded-lg border border-border bg-background px-3 py-2 text-sm text-foreground focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary",value:f.email,onChange:A=>S("email",A.target.value)}):c.jsxs("div",{className:"mt-2 flex items-center gap-2 text-foreground",children:[c.jsx(dM,{className:"h-4 w-4 text-muted-foreground"}),m.email]})]})]}),t==="student"&&c.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-foreground",children:"University"}),a?c.jsx("input",{type:"text",className:"mt-2 w-full rounded-lg border border-border bg-background px-3 py-2 text-sm text-foreground focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary",value:f.university,onChange:A=>S("university",A.target.value)}):c.jsxs("div",{className:"mt-2 flex items-center gap-2 text-foreground",children:[c.jsx(m9,{className:"h-4 w-4 text-muted-foreground"}),m.university]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-foreground",children:"Major"}),a?c.jsx("input",{type:"text",className:"mt-2 w-full rounded-lg border border-border bg-background px-3 py-2 text-sm text-foreground focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary",value:f.major,onChange:A=>S("major",A.target.value)}):c.jsxs("div",{className:"mt-2 flex items-center gap-2 text-foreground",children:[c.jsx(Zu,{className:"h-4 w-4 text-muted-foreground"}),m.major]})]})]}),t==="coach"&&m.expertise&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-foreground",children:"Expertise"}),a?c.jsx("input",{type:"text",className:"mt-2 w-full rounded-lg border border-border bg-background px-3 py-2 text-sm text-foreground focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary",value:f.expertise,onChange:A=>S("expertise",A.target.value)}):c.jsx("div",{className:"mt-2 text-foreground",children:m.expertise})]}),m.bio&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-foreground",children:"Bio"}),a?c.jsx("textarea",{className:"mt-2 w-full rounded-lg border border-border bg-background px-3 py-2 text-sm text-foreground focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary",rows:4,value:f.bio,onChange:A=>S("bio",A.target.value)}):c.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:m.bio})]})]})}),c.jsx(He,{title:"My Programs",children:N.length===0?c.jsx("div",{className:"py-8 text-center text-sm text-muted-foreground",children:"No programs yet"}):c.jsx("div",{className:"space-y-2",children:N.map(A=>c.jsx("div",{className:"flex items-center justify-between rounded-lg border border-border/50 bg-muted/30 p-3",children:c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-foreground",children:A.name}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:[A.participantStudentIds.length," participant",A.participantStudentIds.length===1?"":"s"]})]})},A.id))})})]}),c.jsxs("div",{className:"space-y-6",children:[t==="student"&&c.jsxs(c.Fragment,{children:[c.jsx(He,{title:"Level & XP",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"grid h-16 w-16 place-items-center rounded-full bg-primary/10 text-primary",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold",children:_.level}),c.jsx("div",{className:"text-xs",children:"Level"})]})}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Total XP"}),c.jsx("div",{className:"text-2xl font-bold text-foreground",children:_.xp})]})]})}),_.badges.length>0&&c.jsx(He,{title:"Badges",subtitle:`${_.badges.length} earned`,children:c.jsx("div",{className:"flex flex-wrap gap-2",children:_.badges.map(A=>{const k=Lce[A];return k?c.jsxs("div",{className:`flex items-center gap-2 rounded-full px-3 py-1.5 text-sm font-medium ${k.color}`,children:[c.jsx("span",{children:k.icon}),c.jsx("span",{children:k.label})]},A):null})})})]}),c.jsx(He,{title:"Statistics",children:c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm text-muted-foreground",children:"Programs"}),c.jsx("span",{className:"text-lg font-semibold text-foreground",children:_.programsCount})]}),t==="coach"&&c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm text-muted-foreground",children:"Students"}),c.jsx("span",{className:"text-lg font-semibold text-foreground",children:_.studentsCount})]})]})}),c.jsx(He,{title:"Account",children:c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"Role"}),c.jsx("span",{className:"font-medium capitalize text-foreground",children:t})]}),c.jsx("div",{className:"pt-1",children:c.jsx("button",{type:"button",onClick:()=>u(A=>!A),className:"text-xs font-semibold text-primary hover:text-primary-600 focus:outline-none focus:underline",children:l?"Hide advanced":"Show advanced"})}),l&&m?.id&&c.jsxs("div",{className:"flex items-center justify-between gap-3",children:[c.jsx("span",{className:"text-muted-foreground",children:"User ID"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-mono text-xs text-foreground",title:m.id,children:g}),c.jsx("button",{type:"button",className:"rounded-md border border-border bg-background px-2 py-1 text-xs font-medium text-foreground hover:bg-muted",onClick:async()=>{try{await navigator.clipboard.writeText(m.id),n("User ID copied to clipboard","success")}catch{n("Could not copy User ID","error")}},children:"Copy"})]})]})]})})]})]})]}):c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsx("div",{className:"text-muted-foreground",children:"Loading..."})})}function $ce(){return c.jsx("div",{className:"app-container flex min-h-screen items-center justify-center px-4",children:c.jsxs("div",{className:"surface p-6 text-center",children:[c.jsx("div",{className:"text-sm font-semibold text-foreground",children:"Unauthorized"}),c.jsx("div",{className:"mt-2 text-sm text-muted-foreground",children:"You do not have access to that page."}),c.jsx("div",{className:"mt-4",children:c.jsx(jp,{className:"btn-primary",to:"/",children:"Go home"})})]})})}function Uce(){return c.jsx("div",{className:"app-container flex min-h-screen items-center justify-center px-4",children:c.jsxs("div",{className:"surface p-6 text-center",children:[c.jsx("div",{className:"text-sm font-semibold text-foreground",children:"Page not found"}),c.jsx("div",{className:"mt-2 text-sm text-muted-foreground",children:"The page you requested does not exist."}),c.jsx("div",{className:"mt-4",children:c.jsx(jp,{className:"btn-primary",to:"/",children:"Go home"})})]})})}function Bce(){const{isAuthenticated:e,role:t}=_t();return e?t===xa.admin?c.jsx(Fl,{to:"/admin",replace:!0}):t===xa.coach?c.jsx(Fl,{to:"/coach",replace:!0}):c.jsx(Fl,{to:"/student",replace:!0}):c.jsx(Fl,{to:"/login",replace:!0})}function zce(){return c.jsxs(dz,{children:[c.jsx(nt,{path:"/",element:c.jsx(Bce,{})}),c.jsx(nt,{path:"/login",element:c.jsx(F9,{})}),c.jsx(nt,{path:"/unauthorized",element:c.jsx($ce,{})}),c.jsxs(nt,{path:"/admin",element:c.jsx(q0,{allowedRoles:[xa.admin],children:c.jsx(q9,{})}),children:[c.jsx(nt,{index:!0,element:c.jsx(W9,{})}),c.jsx(nt,{path:"projects",element:c.jsx(c7,{})}),c.jsx(nt,{path:"programs",element:c.jsx(e7,{})}),c.jsx(nt,{path:"applications",element:c.jsx(n7,{})}),c.jsx(nt,{path:"users",element:c.jsx(r7,{})}),c.jsx(nt,{path:"sessions",element:c.jsx(_h,{title:"Sessions overview",message:"Coming next."})}),c.jsx(nt,{path:"reports",element:c.jsx(_h,{title:"Reports",message:"System analytics coming soon."})}),c.jsx(nt,{path:"communications",element:c.jsx(_h,{title:"Communications",message:"Platform messaging center."})}),c.jsx(nt,{path:"settings",element:c.jsx(_h,{title:"Settings",message:"Platform configuration."})})]}),c.jsxs(nt,{path:"/coach",element:c.jsx(q0,{allowedRoles:[xa.coach],children:c.jsx(V9,{})}),children:[c.jsx(nt,{index:!0,element:c.jsx(u7,{})}),c.jsx(nt,{path:"projects",element:c.jsx(d7,{})}),c.jsx(nt,{path:"tasks",element:c.jsx(rH,{})}),c.jsx(nt,{path:"students",element:c.jsx(p7,{})}),c.jsx(nt,{path:"programs",element:c.jsx(f7,{})}),c.jsx(nt,{path:"sessions",element:c.jsx(h7,{})}),c.jsx(nt,{path:"deliverables",element:c.jsx(m7,{})}),c.jsx(nt,{path:"messages",element:c.jsx(ZV,{})}),c.jsx(nt,{path:"profile",element:c.jsx(bP,{})})]}),c.jsxs(nt,{path:"/student",element:c.jsx(q0,{allowedRoles:[xa.student],children:c.jsx(H9,{})}),children:[c.jsx(nt,{index:!0,element:c.jsx(nH,{})}),c.jsx(nt,{path:"projects",element:c.jsx(sH,{})}),c.jsx(nt,{path:"tasks",element:c.jsx(hH,{})}),c.jsx(nt,{path:"programs",element:c.jsx(oH,{})}),c.jsx(nt,{path:"analytics",element:c.jsx(Rce,{})}),c.jsx(nt,{path:"applications",element:c.jsx(lH,{})}),c.jsx(nt,{path:"deliverables",element:c.jsx(cH,{})}),c.jsx(nt,{path:"sessions",element:c.jsx(mH,{})}),c.jsx(nt,{path:"messages",element:c.jsx(Ice,{})}),c.jsx(nt,{path:"profile",element:c.jsx(bP,{})})]}),c.jsx(nt,{path:"*",element:c.jsx(Uce,{})})]})}function qce({children:e}){const[t,r]=y.useState(null),[n,a]=y.useState(!0),s=y.useCallback(w=>w==="admin"||w==="coach"||w==="student"?w:"student",[]),l=y.useCallback((w,S)=>{const N=typeof w=="string"?w.trim():"";return N||(typeof S=="string"&&S.includes("@")?S.split("@")[0]:"User")},[]),u=y.useCallback(async w=>{try{const{data:S,error:N}=await ye.from("users").select("*").eq("id",w).maybeSingle();if(N)throw N;return S?(r({id:S.id,role:S.role,name:S.name,email:S.email}),!0):!1}catch(S){return console.error("Error fetching user details:",S),!1}finally{a(!1)}},[]),f=y.useCallback(async w=>{const S=w?.email??"",N=w?.user_metadata??{},_=s(N.role),A=l(N.name,S),{error:k}=await ye.from("users").insert({id:w.id,email:S,name:A,role:_});if(k)throw k},[l,s]),h=y.useCallback(async w=>{try{return await u(w.id)?!0:(await f(w),await u(w.id))}catch(S){return console.error("Error ensuring user profile:",S),a(!1),!1}},[f,u]);y.useEffect(()=>{ye.auth.getSession().then(({data:{session:S}})=>{S?.user?h(S.user):a(!1)});const{data:{subscription:w}}=ye.auth.onAuthStateChange((S,N)=>{N?.user?h(N.user):(r(null),a(!1))});return()=>w.unsubscribe()},[h]);const m=y.useCallback(async({email:w,password:S})=>{try{const{data:N,error:_}=await ye.auth.signInWithPassword({email:w,password:S});if(_)throw _;return N.session?.user&&!await h(N.session.user)?{success:!1,error:"Login successful, but user profile could not be created. Check RLS policies."}:{success:!0}}catch(N){return console.error("Login error:",N),{success:!1,error:N.message}}},[h]),g=y.useCallback(async({email:w,password:S,name:N,role:_})=>{try{const{data:A,error:k}=await ye.auth.signUp({email:w,password:S,options:{data:{name:N,role:_}}});if(k)throw k;if(!A.user)throw new Error("No user data returned");if(!A.session)return{success:!0,needsEmailConfirmation:!0};const{error:O}=await ye.from("users").insert({id:A.user.id,email:w,name:N,role:s(_)});if(O)throw await ye.auth.signOut(),new Error(`Profile creation failed: ${O.message}`);return{success:!0,needsEmailConfirmation:!1}}catch(A){return console.error("Signup error:",A),{success:!1,error:A.message}}},[s]),v=y.useCallback(async()=>{try{if(t?.id)try{await ye.from("user_presence").upsert({user_id:t.id,online:!1,last_seen_at:new Date().toISOString()})}catch{}const{error:w}=await ye.auth.signOut();if(w)throw w;r(null)}catch(w){console.error("Logout error:",w)}},[t]),x=y.useMemo(()=>({currentUser:t,isAuthenticated:!!t?.id,role:t?.role??null,loading:n,login:m,signup:g,logout:v}),[t,n,m,g,v]);return c.jsx(wM.Provider,{value:x,children:e})}function Vce({children:e}){const[t,r]=y.useState(!1),[n,a]=y.useState(null),s=y.useRef(null),l=y.useRef(null),u=y.useRef({inbox:null,outbox:null}),f=y.useRef(null),h=y.useRef(null),[m,g]=y.useState({}),[v,x]=y.useState({users:[],programs:[],applications:[],coachingSessions:[],deliverables:[],messages:[],messageDeletions:[],projects:[],projectSubmissions:[],notifications:[],tasks:[]}),w=y.useCallback(P=>{const z=P.program_coaches?.map(H=>H.coach_id)||[],U=P.program_participants?.map(H=>H.student_id)||[];return{id:P.id,name:P.name,description:P.description,durationWeeks:P.duration_weeks,startDate:P.start_date,endDate:P.end_date,capacity:P.capacity,status:P.status,createdAt:P.created_at,updatedAt:P.updated_at,coachIds:z,participantStudentIds:U}},[]),S=y.useCallback(P=>({id:P.id,programId:P.program_id,studentId:P.student_id,status:P.status,motivation:P.motivation,decisionNote:P.decision_note,reviewedBy:P.reviewed_by,createdAt:P.created_at,updatedAt:P.updated_at}),[]),N=y.useCallback(P=>{const z=P.session_attendees?.map(U=>U.student_id)||[];return{id:P.id,programId:P.program_id,coachId:P.coach_id,title:P.title,description:P.description,startsAt:P.starts_at,endsAt:P.ends_at,location:P.location,status:P.status,notes:P.notes,createdAt:P.created_at,updatedAt:P.updated_at,attendeeStudentIds:z,attendance:P.session_attendees||[]}},[]),_=y.useCallback(P=>({id:P.id,deliverableId:P.deliverable_id,studentId:P.student_id,status:P.status,submittedAt:P.submitted_at,files:P.files,grade:P.grade,feedback:P.feedback,reviewedAt:P.reviewed_at,reviewerId:P.reviewer_id,createdAt:P.created_at,updatedAt:P.updated_at}),[]),A=y.useCallback(P=>{const z=P.deliverable_assignments?.map(H=>H.student_id)||[],U=(P.submissions||[]).map(_);return{id:P.id,programId:P.program_id,title:P.title,description:P.description,dueDate:P.due_date,maxScore:P.max_score,createdAt:P.created_at,updatedAt:P.updated_at,assignedStudentIds:z,submissions:U}},[_]),k=y.useCallback(P=>({id:P.id,senderId:P.sender_id,receiverId:P.recipient_id,subject:P.subject,content:P.body,sentAt:P.created_at,readAt:P.seen_at||(P.read?P.updated_at??P.created_at:null),seenAt:P.seen_at}),[]),O=y.useCallback(P=>({id:P.id,userId:P.user_id,messageId:P.message_id,deletedAt:P.deleted_at}),[]),M=y.useCallback(P=>({id:P.id,userId:P.user_id,type:P.type,title:P.title,message:P.message,linkUrl:P.link_url,meta:P.meta,createdAt:P.created_at,readAt:P.read_at}),[]),C=y.useCallback(P=>({id:P.id,projectId:P.project_id,submissionId:P.submission_id??null,title:P.title,description:P.description??null,taskType:V2(P.task_type),status:q2(P.status),deadline:P.deadline??null,checklistItems:P.checklist_items??null,studentSubmission:P.student_submission??null,coachFeedback:P.coach_feedback??null,createdBy:P.created_by,createdAt:P.created_at,updatedAt:P.updated_at,submittedAt:P.submitted_at??null,reviewedAt:P.reviewed_at??null,reviewedBy:P.reviewed_by??null}),[]),D=y.useCallback(P=>({id:P.id,studentId:P.student_id,title:P.title,stage:P.stage,createdAt:P.created_at,updatedAt:P.updated_at}),[]),L=y.useCallback(P=>({id:P.id,projectId:P.project_id,type:P.type,status:P.status,payload:P.payload,comments:P.comments,reviewerId:P.reviewer_id,reviewedAt:P.reviewed_at,createdAt:P.created_at,updatedAt:P.updated_at}),[]),V=y.useCallback(P=>{const z=P?.code,U=String(P?.message??"");if(z==="42P01")return!0;const H=U.toLowerCase();return!!(H.includes("could not find the table")||H.includes("relation")&&H.includes("does not exist")||H.includes("schema cache")&&H.includes("projects")||H.includes("schema cache")&&H.includes("project_submissions"))},[]),te=y.useCallback(P=>({userId:P.user_id,online:!!P.online,lastSeenAt:P.last_seen_at,updatedAt:P.updated_at}),[]),W=y.useCallback(async()=>{try{const[P,z,U,H,ie,me]=await Promise.all([ye.from("users").select("*"),ye.from("programs").select(`
          *,
          program_coaches(coach_id),
          program_participants(student_id)
        `),ye.from("applications").select("*"),ye.from("coaching_sessions").select(`
          *,
          session_attendees(student_id, attendance_status)
        `),ye.from("deliverables").select(`
          *,
          deliverable_assignments(student_id),
          submissions(*)
        `),ye.from("messages").select("*")]);let xe=[];try{const{data:kt}=await ye.from("message_deletions").select("*");xe=(kt||[]).map(O)}catch(kt){console.warn("Could not fetch message_deletions",kt)}const Ne=(z.data||[]).map(w),_e=(U.data||[]).map(S),ze=(H.data||[]).map(N),We=(ie.data||[]).map(A),Ye=(me.data||[]).map(k);let ct=[],lt=[];try{const[kt,$t]=await Promise.all([ye.from("projects").select("*").order("updated_at",{ascending:!1}),ye.from("project_submissions").select("*").order("created_at",{ascending:!0})]);if(kt.error)throw kt.error;if($t.error)throw $t.error;ct=(kt.data??[]).map(D),lt=($t.data??[]).map(L)}catch(kt){console.error("Could not fetch projects from Supabase:",kt),ct=[],lt=[]}let gr=[];try{const{data:kt,error:$t}=await ye.from("notifications").select("*").order("created_at",{ascending:!1});!$t&&Array.isArray(kt)&&(gr=kt.map(M))}catch{}let Vt=[];try{const{data:kt,error:$t}=await ye.from("tasks").select("*").order("created_at",{ascending:!1});!$t&&Array.isArray(kt)&&(Vt=kt.map(C))}catch(kt){console.warn("Could not fetch tasks from Supabase:",kt)}x({users:P.data||[],programs:Ne,applications:_e,coachingSessions:ze,deliverables:We,messages:Ye,messageDeletions:xe,projects:ct,projectSubmissions:lt,notifications:gr,tasks:Vt}),r(!0)}catch(P){console.error("Error fetching data:",P),r(!0)}},[S,N,A,k,O,M,w,D,L,C]),K=y.useCallback(async()=>{try{const[P,z]=await Promise.all([ye.from("projects").select("*").order("updated_at",{ascending:!1}),ye.from("project_submissions").select("*").order("created_at",{ascending:!0})]);if(P.error)throw P.error;if(z.error)throw z.error;const U=(P.data??[]).map(D),H=(z.data??[]).map(L);return x(ie=>({...ie,projects:U,projectSubmissions:H})),{success:!0}}catch(P){return V(P)?{success:!1,error:P,missingTable:!0}:{success:!1,error:P}}},[V,D,L]);y.useEffect(()=>{n&&W()},[W,n]),y.useEffect(()=>{if(!n)return;let P;try{P=ye.channel("realtime-projects").on("postgres_changes",{event:"*",schema:"public",table:"projects"},z=>{x(U=>{const H=U.projects??[],ie=z.eventType;if(ie==="DELETE"){const Ne=z.old?.id;return{...U,projects:H.filter(_e=>_e.id!==Ne)}}const me=z.new?D(z.new):null;if(!me)return U;const xe=H.some(Ne=>Ne.id===me.id);return ie==="INSERT"&&!xe?{...U,projects:[me,...H]}:ie==="UPDATE"&&xe?{...U,projects:H.map(Ne=>Ne.id===me.id?me:Ne)}:xe?U:{...U,projects:[me,...H]}})}).on("postgres_changes",{event:"*",schema:"public",table:"project_submissions"},z=>{x(U=>{const H=U.projectSubmissions??[],ie=z.eventType;if(ie==="DELETE"){const Ne=z.old?.id;return{...U,projectSubmissions:H.filter(_e=>_e.id!==Ne)}}const me=z.new?L(z.new):null;if(!me)return U;const xe=H.some(Ne=>Ne.id===me.id);return ie==="INSERT"&&!xe?{...U,projectSubmissions:[...H,me]}:ie==="UPDATE"&&xe?{...U,projectSubmissions:H.map(Ne=>Ne.id===me.id?me:Ne)}:xe?U:{...U,projectSubmissions:[...H,me]}})}).subscribe(),h.current=P}catch(z){console.warn("Projects realtime channel setup failed:",z)}return()=>{try{h.current&&(ye.removeChannel(h.current),h.current=null)}catch{}}},[n,D,L]),y.useEffect(()=>{if(l.current&&(ye.removeChannel(l.current),l.current=null),!n)return;const P=ye.channel("realtime-tasks").on("postgres_changes",{event:"*",schema:"public",table:"tasks"},z=>{x(U=>{const H=U.tasks??[],ie=z.eventType;if(ie==="DELETE"){const Ne=z.old?.id;return{...U,tasks:H.filter(_e=>_e.id!==Ne)}}const me=z.new?C(z.new):null;if(!me)return U;const xe=H.some(Ne=>Ne.id===me.id);return ie==="INSERT"&&!xe?{...U,tasks:[me,...H]}:ie==="UPDATE"&&xe?{...U,tasks:H.map(Ne=>Ne.id===me.id?me:Ne)}:xe?U:{...U,tasks:[me,...H]}})}).subscribe(z=>{z==="SUBSCRIBED"&&ye.from("tasks").select("*").order("created_at",{ascending:!1}).then(({data:U,error:H})=>{!H&&Array.isArray(U)&&x(ie=>({...ie,tasks:U.map(C)}))}).catch(()=>{}),z==="CHANNEL_ERROR"&&console.warn("[Tasks] Realtime channel error. Common causes: `tasks` table not created yet, not added to `supabase_realtime` publication, or RLS/policies block SELECT.",{userId:n})});return l.current=P,()=>{ye.removeChannel(P),l.current===P&&(l.current=null)}},[n,C]),y.useEffect(()=>{let P=!0;ye.auth.getSession().then(({data:{session:U}})=>{P&&a(U?.user?.id??null)});const{data:{subscription:z}}=ye.auth.onAuthStateChange((U,H)=>{P&&a(H?.user?.id??null)});return()=>{P=!1,z.unsubscribe()}},[]);const Se=y.useCallback(async()=>{try{const{data:P,error:z}=await ye.from("user_presence").select("*");if(z)return{success:!1,error:z};const U={};return(P??[]).forEach(H=>{const ie=te(H);U[ie.userId]=ie}),g(U),{success:!0}}catch(P){return{success:!1,error:P}}},[te]);y.useEffect(()=>{if(!n)return;let P=!1;const z=async()=>{try{const me=new Date().toISOString();await ye.from("user_presence").upsert({user_id:n,online:!0,last_seen_at:me},{onConflict:"user_id"})}catch{}},U=async()=>{try{const me=new Date().toISOString();await ye.from("user_presence").upsert({user_id:n,online:!1,last_seen_at:me},{onConflict:"user_id"})}catch{}};z();const H=window.setInterval(()=>{P||z()},2e4),ie=()=>{document.visibilityState==="hidden"?U():z()};return window.addEventListener("beforeunload",U),document.addEventListener("visibilitychange",ie),()=>{P=!0,window.clearInterval(H),window.removeEventListener("beforeunload",U),document.removeEventListener("visibilitychange",ie),U()}},[n]),y.useEffect(()=>{if(f.current&&(ye.removeChannel(f.current),f.current=null),!n)return;Se();const P=ye.channel("user_presence").on("postgres_changes",{event:"*",schema:"public",table:"user_presence"},z=>{const U=z?.new;if(!U)return;const H=te(U);g(ie=>({...ie,[H.userId]:H}))}).subscribe();return f.current=P,()=>{ye.removeChannel(P),f.current===P&&(f.current=null)}},[n,te,Se]);const be=y.useCallback(({userId:P,unreadOnly:z,limit:U}={})=>{const H=v.notifications??[];let ie=P?H.filter(me=>me.userId===P):H;return z&&(ie=ie.filter(me=>!me.readAt)),ie=[...ie].sort((me,xe)=>new Date(xe.createdAt)-new Date(me.createdAt)),U&&Number.isFinite(U)&&(ie=ie.slice(0,Math.max(0,U))),ie},[v.notifications]),Ae=y.useCallback(()=>(v.users??[]).filter(P=>P?.role==="admin"||P?.role==="coach").map(P=>P.id).filter(Boolean),[v.users]),Y=y.useCallback(async()=>{try{const{data:P,error:z}=await ye.from("notifications").select("*").order("created_at",{ascending:!1});if(z)return{success:!1,error:z};const U=(P??[]).map(M);return x(H=>({...H,notifications:U})),{success:!0}}catch(P){return{success:!1,error:P}}},[M]);y.useEffect(()=>{if(s.current&&(ye.removeChannel(s.current),s.current=null),!n)return;Y();const P=ye.channel(`notifications:${n}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${n}`},z=>{if(!z?.new)return;const U=M(z.new);x(H=>{const ie=H.notifications??[];return ie.some(me=>me.id===U.id)?H:{...H,notifications:[U,...ie]}})}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"notifications",filter:`user_id=eq.${n}`},z=>{if(!z?.new)return;const U=M(z.new);x(H=>{const me=(H.notifications??[]).map(xe=>xe.id===U.id?{...xe,...U}:xe);return{...H,notifications:me}})}).subscribe(z=>{z==="SUBSCRIBED"&&Y().catch(()=>{}),z==="CHANNEL_ERROR"&&console.warn("[Notifications] Realtime channel error. Ensure notifications is in supabase_realtime publication and policies allow SELECT.",{userId:n})});return s.current=P,()=>{ye.removeChannel(P),s.current===P&&(s.current=null)}},[n,M,Y]),y.useEffect(()=>{if(u.current?.inbox&&(ye.removeChannel(u.current.inbox),u.current.inbox=null),u.current?.outbox&&(ye.removeChannel(u.current.outbox),u.current.outbox=null),!n)return;const P=H=>{if(H?.eventType==="DELETE"){const _e=H?.old?.id;if(!_e)return;x(ze=>({...ze,messages:(ze.messages??[]).filter(We=>We.id!==_e)}));return}const me=H?.new;if(!me)return;const xe=k(me);if(x(Ne=>{const _e=Ne.messages??[],ze=_e.findIndex(We=>We.id===xe.id);if(ze>=0){const We=[..._e];return We[ze]={...We[ze],...xe},{...Ne,messages:We}}return{...Ne,messages:[..._e,xe]}}),typeof window<"u"){const Ne=H?.eventType,_e=me?.recipient_id===n&&me?.sender_id&&me?.sender_id!==n;Ne==="INSERT"&&_e&&(console.log("[DataContext] Dispatching sea:new-message",xe),window.dispatchEvent(new CustomEvent("sea:new-message",{detail:{message:xe}})))}},z=ye.channel(`messages:in:${n}`).on("postgres_changes",{event:"*",schema:"public",table:"messages",filter:`recipient_id=eq.${n}`},H=>P(H)).subscribe(),U=ye.channel(`messages:out:${n}`).on("postgres_changes",{event:"*",schema:"public",table:"messages",filter:`sender_id=eq.${n}`},H=>P(H)).subscribe();return u.current={inbox:z,outbox:U},()=>{ye.removeChannel(z),ye.removeChannel(U),u.current?.inbox===z&&(u.current.inbox=null),u.current?.outbox===U&&(u.current.outbox=null)}},[n,k]);const ee=y.useCallback(async({userId:P,title:z,message:U,type:H,linkUrl:ie,meta:me}={})=>{if(!P)throw new Error("Missing userId");const{data:xe,error:Ne}=await ye.from("notifications").insert({user_id:P,type:H??"info",title:z??"Notification",message:U??null,link_url:ie??null,meta:me??null}).select("*").single();if(Ne)throw Ne;const _e=M(xe);return x(ze=>({...ze,notifications:[_e,...ze.notifications??[]]})),_e},[M]),ce=y.useCallback(async({notificationId:P}={})=>{if(!P)throw new Error("Missing notificationId");const z=new Date().toISOString();try{await ye.from("notifications").update({read_at:z}).eq("id",P)}catch{}return x(U=>{const H=(U.notifications??[]).map(ie=>ie.id===P?{...ie,readAt:ie.readAt??z}:ie);return{...U,notifications:H}}),{success:!0}},[]),we=y.useCallback(async({userId:P}={})=>{if(!P)throw new Error("Missing userId");const z=new Date().toISOString();try{await ye.from("notifications").update({read_at:z}).eq("user_id",P).is("read_at",null)}catch{}return x(U=>{const H=(U.notifications??[]).map(ie=>ie.userId===P?{...ie,readAt:ie.readAt??z}:ie);return{...U,notifications:H}}),{success:!0}},[]),G=y.useCallback(P=>v.users.find(z=>z.id===P)??null,[v.users]),T=y.useCallback(P=>v.programs.find(z=>z.id===P)??null,[v.programs]),I=y.useCallback(({role:P}={})=>P?v.users.filter(z=>z.role===P):v.users,[v.users]),$=y.useCallback(({status:P}={})=>P?v.programs.filter(z=>z.status===P):v.programs,[v.programs]),B=y.useCallback(({status:P,programId:z,studentId:U}={})=>{let H=v.applications;return P&&(H=H.filter(ie=>ie.status===P)),z&&(H=H.filter(ie=>ie.programId===z)),U&&(H=H.filter(ie=>ie.studentId===U)),H},[v.applications]),Z=y.useCallback(({programId:P,coachId:z}={})=>{let U=v.coachingSessions;return P&&(U=U.filter(H=>H.programId===P)),z&&(U=U.filter(H=>H.coachId===z)),U},[v.coachingSessions]),ue=y.useCallback(({programId:P}={})=>P?v.deliverables.filter(z=>z.programId===P):v.deliverables,[v.deliverables]),je=y.useCallback(({userId:P}={})=>{if(!P)return v.messages;const z=new Set((v.messageDeletions??[]).filter(U=>U.userId===P).map(U=>U.messageId));return(v.messages??[]).filter(U=>U.senderId===P||U.receiverId===P).filter(U=>!z.has(U.id))},[v.messageDeletions,v.messages]),Oe=y.useCallback(async()=>{try{if(!n)return{success:!1,error:new Error("Not authenticated")};const{data:P,error:z}=await ye.from("message_deletions").select("*").eq("user_id",n);if(z)return{success:!1,error:z};const U=(P??[]).map(O);return x(H=>({...H,messageDeletions:U})),{success:!0}}catch(P){return{success:!1,error:P}}},[n,O]);y.useEffect(()=>{if(!n)return;Oe();const P=ye.channel(`message_deletions:${n}`).on("postgres_changes",{event:"*",schema:"public",table:"message_deletions",filter:`user_id=eq.${n}`},z=>{if(z?.eventType==="DELETE"){const xe=z?.old?.id;if(!xe)return;x(Ne=>({...Ne,messageDeletions:(Ne.messageDeletions??[]).filter(_e=>_e.id!==xe)}));return}const H=z?.new;if(!H)return;const ie=O(H);x(me=>{const xe=me.messageDeletions??[],Ne=xe.findIndex(_e=>_e.id===ie.id);if(Ne>=0){const _e=[...xe];return _e[Ne]={..._e[Ne],...ie},{...me,messageDeletions:_e}}return{...me,messageDeletions:[...xe,ie]}})}).subscribe();return()=>{ye.removeChannel(P)}},[n,O,Oe]);const Q=y.useCallback(async({messageId:P})=>{try{if(!n)throw new Error("Not authenticated");if(!P)throw new Error("Missing messageId");const{data:z,error:U}=await ye.from("message_deletions").insert({user_id:n,message_id:P}).select("*").single();if(U)throw U;const H=O(z);return x(ie=>{const me=ie.messageDeletions??[];return me.some(xe=>xe.id===H.id)?ie:{...ie,messageDeletions:[...me,H]}}),{success:!0}}catch(z){return console.error("Error deleting message for me:",z),{success:!1,error:z}}},[n,O]),de=y.useCallback(async({messageId:P})=>{try{if(!n)throw new Error("Not authenticated");if(!P)throw new Error("Missing messageId");const{error:z}=await ye.from("messages").delete().eq("id",P).eq("sender_id",n);if(z)throw z;return x(U=>({...U,messages:(U.messages??[]).filter(H=>H.id!==P)})),{success:!0}}catch(z){return console.error("Error deleting message for everyone:",z),{success:!1,error:z}}},[n]),Ee=y.useCallback(P=>(v.projects??[]).find(z=>z.id===P)??null,[v.projects]),oe=y.useCallback(({projectId:P}={})=>{const z=v.projectSubmissions??[];return[...P?z.filter(H=>H.projectId===P):z].sort((H,ie)=>new Date(H.createdAt)-new Date(ie.createdAt))},[v.projectSubmissions]),qe=y.useCallback(({studentId:P,coachId:z}={})=>{let U=v.projects??[];if(P&&(U=U.filter(H=>H.studentId===P)),z){const H=(v.programs??[]).filter(me=>(me.coachIds??[]).includes(z)),ie=new Set;H.forEach(me=>(me.participantStudentIds??[]).forEach(xe=>ie.add(xe))),ie.size>0&&(U=U.filter(me=>ie.has(me.studentId)))}return[...U].sort((H,ie)=>new Date(ie.updatedAt)-new Date(H.updatedAt))},[v.projects,v.programs]),Be=y.useCallback(async({studentId:P,idea:z})=>{const U=z2(z?.stage),H=ob({...z,stage:U});if(!H.ok)return{success:!1,errors:H.errors};const ie=new Date().toISOString(),me=Va("prj"),xe=Va("psub"),Ne={id:me,studentId:P,title:String(z.title).trim(),stage:U,createdAt:ie,updatedAt:ie},_e={id:xe,projectId:me,type:ot.idea,status:wa.pending,payload:{title:String(z.title).trim(),problemStatement:String(z.problemStatement).trim(),targetUsers:String(z.targetUsers).trim(),proposedSolution:String(z.proposedSolution).trim(),stage:U},comments:[],reviewerId:null,reviewedAt:null,createdAt:ie,updatedAt:ie};try{const{data:ze,error:We}=await ye.from("projects").insert({id:me,student_id:P,title:Ne.title,stage:Ne.stage,created_at:ie,updated_at:ie}).select("*").single();if(We)throw We;const{data:Ye,error:ct}=await ye.from("project_submissions").insert({id:xe,project_id:me,type:_e.type,status:_e.status,payload:_e.payload,comments:_e.comments,reviewer_id:null,reviewed_at:null,created_at:ie,updated_at:ie}).select("*").single();if(ct){try{await ye.from("projects").delete().eq("id",me)}catch{}throw ct}const lt=D(ze),gr=L(Ye);return x(Vt=>{const kt=[lt,...(Vt.projects??[]).filter(Ia=>Ia.id!==lt.id)],$t=[...(Vt.projectSubmissions??[]).filter(Ia=>Ia.id!==gr.id),gr];return{...Vt,projects:kt,projectSubmissions:$t}}),K().catch(()=>{}),{success:!0,project:lt,submission:gr}}catch(ze){let We="";try{We=new URL("https://mdgyxdfbxlnrvvemksck.supabase.co").host}catch{We=""}const Ye=`Failed to create project in Supabase.${We?` Connected Supabase: ${We}.`:""} Ensure you ran supabase-projects.sql in the same Supabase project and that RLS policies allow inserts/selects.`;return console.error(Ye,ze),{success:!1,errors:{form:Ye},error:ze}}},[D,L,K]),pe=y.useCallback(async({projectId:P,type:z,payload:U})=>{if(!Ee(P))return{success:!1,error:"Project not found"};const ie=oe({projectId:P});if(z!==ot.idea&&!AM(ie))return{success:!1,error:"Submit the IDEA first before adding other submission types."};if(z===ot.idea&&ie.some(Ne=>Ne.type===ot.idea))return{success:!1,error:"IDEA submission already exists for this project."};const me=new Date().toISOString(),xe={id:Va("psub"),projectId:P,type:z,status:wa.pending,payload:U??{},comments:[],reviewerId:null,reviewedAt:null,createdAt:me,updatedAt:me};try{const{data:Ne,error:_e}=await ye.from("project_submissions").insert({id:xe.id,project_id:P,type:xe.type,status:xe.status,payload:xe.payload,comments:xe.comments,reviewer_id:null,reviewed_at:null,created_at:me,updated_at:me}).select("*").single();if(_e)throw _e;try{await ye.from("projects").update({updated_at:me}).eq("id",P)}catch{}const ze=L(Ne);return x(We=>{const Ye=[...(We.projectSubmissions??[]).filter(lt=>lt.id!==ze.id),ze],ct=(We.projects??[]).map(lt=>lt.id===P?{...lt,updatedAt:me}:lt);return{...We,projects:ct,projectSubmissions:Ye}}),K().catch(()=>{}),{success:!0,submission:ze}}catch(Ne){return console.error("Error adding project submission in Supabase:",Ne),{success:!1,error:Ne}}},[Ee,oe,L,K]),ke=y.useCallback(async({submissionId:P,authorId:z,text:U})=>{const H=String(U??"").trim();if(!H)return{success:!1,error:"Comment cannot be empty"};const ie=new Date().toISOString(),me={id:Va("c"),authorId:z,text:H,createdAt:ie},xe=(v.projectSubmissions??[]).find(_e=>_e.id===P)??null,Ne=[...xe?.comments??[],me];try{const{data:_e,error:ze}=await ye.from("project_submissions").update({comments:Ne,updated_at:ie}).eq("id",P).select("*").single();if(ze)throw ze;const We=L(_e);x(Ye=>{const ct=(Ye.projectSubmissions??[]).map(lt=>lt.id===P?We:lt);return{...Ye,projectSubmissions:ct}}),K().catch(()=>{});try{const Ye=xe?.projectId,ct=Ye?(v.projects??[]).find($t=>$t.id===Ye):null,lt=ct?.studentId,gr=z?(v.users??[]).find($t=>$t.id===z)?.role:null;if((gr==="admin"||gr==="coach")&&lt&&await ee({userId:lt,type:"info",title:"New comment on your submission",message:ct?.title?`A coach/admin commented on ${ct.title}.`:"A coach/admin commented on your submission.",linkUrl:"/student/projects",meta:{submissionId:P,projectId:Ye,authorId:z},allowLocalFallback:!1}).catch($t=>(console.warn("Notification insert failed (staff comment -> student):",$t),null)),gr==="student"||z&&lt&&String(z)===String(lt)){const $t=Ae().filter(Ia=>String(Ia)!==String(z));$t.length>0&&await Promise.all($t.map(Ia=>ee({userId:Ia,type:"info",title:"New student comment",message:ct?.title?`New comment on ${ct.title}.`:"A student commented on a submission.",linkUrl:"/coach/projects",meta:{submissionId:P,projectId:Ye,authorId:z,studentId:lt},allowLocalFallback:!1}).catch(cf=>(console.warn("Notification insert failed (student comment -> staff):",cf),null))))}}catch(Ye){console.warn("Notification fan-out failed (submission comment):",Ye)}return{success:!0,comment:me}}catch(_e){return console.error("Error adding submission comment in Supabase:",_e),{success:!1,error:_e}}},[ee,v.projects,v.projectSubmissions,v.users,Ae,L,K]),he=y.useCallback(async({submissionId:P,status:z,reviewerId:U})=>{const H=Object.values(wa).includes(z)?z:wa.pending,ie=new Date().toISOString(),me=(v.projectSubmissions??[]).find(_e=>_e.id===P)??null,Ne=H!==wa.pending?me?.reviewedAt??ie:null;try{const{data:_e,error:ze}=await ye.from("project_submissions").update({status:H,reviewer_id:U??me?.reviewerId??null,reviewed_at:Ne,updated_at:ie}).eq("id",P).select("*").single();if(ze)throw ze;const We=L(_e);x(Ye=>{const ct=(Ye.projectSubmissions??[]).map(lt=>lt.id===P?We:lt);return{...Ye,projectSubmissions:ct}}),K().catch(()=>{})}catch(_e){return console.error("Error setting submission status in Supabase:",_e),{success:!1,error:_e}}return{success:!0}},[v.projectSubmissions,L,K]),Re=y.useCallback(async({projectId:P,stage:z})=>{const U=z2(z),H=new Date().toISOString();try{const{data:ie,error:me}=await ye.from("projects").update({stage:U,updated_at:H}).eq("id",P).select("*").single();if(me)throw me;const xe=D(ie);x(Ne=>{const _e=(Ne.projects??[]).map(ze=>ze.id===P?xe:ze);return{...Ne,projects:_e}}),K().catch(()=>{});try{const Ne=n,_e=Ne?(v.users??[]).find(We=>We.id===Ne)?.role:null;(_e==="admin"||_e==="coach")&&xe?.studentId&&await ee({userId:xe.studentId,type:"info",title:"Project stage updated",message:`${xe.title} is now in stage: ${xe.stage}.`,linkUrl:"/student/projects",meta:{projectId:xe.id,stage:xe.stage,actorId:Ne},allowLocalFallback:!1}).catch(We=>(console.warn("Notification insert failed (stage update -> student):",We),null))}catch(Ne){console.warn("Notification fan-out failed (stage update):",Ne)}return{success:!0}}catch(ie){return console.error("Error setting project stage in Supabase:",ie),{success:!1,error:ie}}},[n,ee,v.users,D,K]),Ge=y.useCallback(async P=>{try{const{data:z,error:U}=await ye.from("users").upsert(P).select().single();if(U)throw U;return x(H=>({...H,users:H.users.some(ie=>ie.id===z.id)?H.users.map(ie=>ie.id===z.id?z:ie):[...H.users,z]})),z}catch(z){throw console.error("Error upserting user:",z),z}},[]),vt=y.useCallback(async P=>{try{const{error:z}=await ye.from("users").delete().eq("id",P);if(z)throw z;x(U=>({...U,users:U.users.filter(H=>H.id!==P)}))}catch(z){throw console.error("Error deleting user:",z),z}},[]),$r=y.useCallback(async P=>{try{const{coachIds:z,participantStudentIds:U,...H}=P,ie=H?.id?(v.programs??[]).find(Ye=>Ye.id===H.id)??null:null,me=new Set(ie?.participantStudentIds??[]),xe={id:H.id,name:H.name,description:H.description,duration_weeks:H.durationWeeks,start_date:H.startDate,end_date:H.endDate,capacity:H.capacity,status:H.status};(xe.id===null||xe.id===""||xe.id===void 0)&&delete xe.id,Object.keys(xe).forEach(Ye=>{xe[Ye]===void 0&&delete xe[Ye]});const Ne=!H?.id,{data:_e,error:ze}=Ne?await ye.from("programs").insert(xe).select().single():await ye.from("programs").upsert(xe).select().single();if(ze)throw ze;const We=_e?.id;if(z&&We&&(await ye.from("program_coaches").delete().eq("program_id",We),z.length>0&&await ye.from("program_coaches").insert(z.map(Ye=>({program_id:We,coach_id:Ye})))),U&&We&&(await ye.from("program_participants").delete().eq("program_id",We),U.length>0&&await ye.from("program_participants").insert(U.map(Ye=>({program_id:We,student_id:Ye})))),U&&U.length>0){const Ye=U.filter(ct=>!me.has(ct));if(Ye.length>0){const ct=H?.name??_e?.name??"a program";await Promise.all(Ye.map(lt=>ee({userId:lt,type:"info",title:"Added to program",message:`You were added to ${ct}.`,linkUrl:"/student/programs",meta:{programId:We,programName:ct},allowLocalFallback:!1}).catch(gr=>(console.warn("Notification insert failed (program participant):",gr),null))))}}return await W(),_e}catch(z){throw console.error("Error upserting program:",z),z}},[ee,v.programs,W]),jn=y.useCallback(async P=>{try{const{error:z}=await ye.from("programs").delete().eq("id",P);if(z)throw z;x(U=>({...U,programs:U.programs.filter(H=>H.id!==P)}))}catch(z){throw console.error("Error deleting program:",z),z}},[]),Ho=y.useCallback(async({applicationId:P,status:z,decisionNote:U,actorId:H})=>{try{const{data:ie,error:me}=await ye.from("applications").update({status:z,decision_note:U,reviewed_by:H}).eq("id",P).select().single();if(me)throw me;try{const xe=S(ie),Ne=String(z??"").toLowerCase(),_e=Ne==="accepted"?"accepted":Ne==="rejected"?"rejected":Ne||"updated";xe?.studentId&&await ee({userId:xe.studentId,type:_e==="accepted"?"success":_e==="rejected"?"danger":"info",title:"Application update",message:`Your program application was ${_e}.`,linkUrl:"/student/applications",meta:{applicationId:xe.id,programId:xe.programId,status:xe.status},allowLocalFallback:!1})}catch{}if(z==="accepted"){const xe=v.applications.find(Ne=>Ne.id===P);xe&&await ye.from("program_participants").insert({program_id:xe.programId,student_id:xe.studentId})}return await W(),ie}catch(ie){throw console.error("Error updating application status:",ie),ie}},[ee,v.applications,W,S]),Ar=y.useCallback(async({programId:P,studentId:z,motivation:U}={})=>{try{if(!P||!z)throw new Error("Missing programId or studentId");const{data:H,error:ie}=await ye.from("applications").insert({program_id:P,student_id:z,status:"pending",motivation:U??null}).select("*").single();if(ie)throw String(ie.code)==="23505"?new Error("You already applied to this program."):(ie.message||"").toLowerCase().includes("row-level security")?new Error("Application could not be submitted due to permissions (RLS)."):ie;const me=S(H);x(xe=>({...xe,applications:[me,...xe.applications??[]]}));try{const xe=Ae().filter(_e=>String(_e)!==String(z)),Ne=(v.programs??[]).find(_e=>_e.id===P)?.name??"a program";xe.length>0&&await Promise.all(xe.map(_e=>ee({userId:_e,type:"info",title:"New program application",message:`A student applied to ${Ne}.`,linkUrl:"/admin/applications",meta:{applicationId:me.id,programId:P,studentId:z},allowLocalFallback:!1}).catch(ze=>(console.warn("Notification insert failed (student application -> staff):",ze),null))))}catch(xe){console.warn("Notification fan-out failed (application create -> staff):",xe)}return me}catch(H){throw console.error("Error creating application:",H),H}},[ee,v.programs,Ae,S]),Fo=y.useCallback(async({programId:P,coachId:z})=>{try{const{error:U}=await ye.from("program_coaches").insert({program_id:P,coach_id:z});if(U)throw U;await W()}catch(U){throw console.error("Error assigning coach:",U),U}},[W]),qs=y.useCallback(async({programId:P,studentId:z})=>{try{const{error:U}=await ye.from("program_participants").insert({program_id:P,student_id:z});if(U)throw U;await W()}catch(U){throw console.error("Error assigning student:",U),U}},[W]),Vs=y.useCallback(async({senderId:P,receiverId:z,content:U,subject:H="New Message"})=>{try{const{data:ie,error:me}=await ye.from("messages").insert({sender_id:P,recipient_id:z,subject:H,body:U,read:!1}).select().single();if(me)throw me;const xe=k(ie);return x(Ne=>{const _e=Ne.messages??[];return _e.some(ze=>ze.id===xe.id)?Ne:{...Ne,messages:[..._e,xe]}}),xe}catch(ie){throw console.error("Error sending message:",ie),ie}},[k]),ri=y.useCallback(async({messageIds:P})=>{try{if(!Array.isArray(P)||P.length===0||!n)return;const z=new Date().toISOString(),{error:U}=await ye.from("messages").update({seen_at:z,read:!0}).in("id",P).eq("recipient_id",n);if(U)throw U;x(H=>({...H,messages:H.messages.map(ie=>P.includes(ie.id)?{...ie,readAt:z,seenAt:z}:ie)}))}catch(z){throw console.error("Error marking messages as read:",z),z}},[n]),Ko=y.useCallback(P=>{if(!P)return{online:!1,lastSeenAt:null};const z=m?.[P];if(!z?.updatedAt)return{online:!1,lastSeenAt:z?.lastSeenAt??null};const U=new Date(z.updatedAt).getTime();return{online:Date.now()-U<45e3,lastSeenAt:z.lastSeenAt??z.updatedAt??null}},[m]),Hs=y.useCallback(P=>(v.tasks??[]).find(z=>z.id===P)??null,[v.tasks]),er=y.useCallback(({projectId:P,submissionId:z,status:U,studentId:H}={})=>{let ie=v.tasks??[];if(P&&(ie=ie.filter(me=>me.projectId===P)),z&&(ie=ie.filter(me=>me.submissionId===z)),U&&(ie=ie.filter(me=>String(me.status)===String(U))),H){const me=new Set((v.projects??[]).filter(xe=>String(xe.studentId)===String(H)).map(xe=>xe.id));ie=ie.filter(xe=>me.has(xe.projectId))}return[...ie].sort((me,xe)=>{const Ne=me.deadline??me.createdAt,_e=xe.deadline??xe.createdAt;return new Date(Ne).getTime()-new Date(_e).getTime()})},[v.projects,v.tasks]),Xr=y.useCallback(({studentId:P,coachId:z}={})=>(P?(v.projects??[]).filter(H=>String(H.studentId)===String(P)):z?qe({coachId:z}):v.projects??[]).map(H=>({project:H,tasks:er({projectId:H.id})})),[v.projects,qe,er]),Ra=y.useCallback(async({projectId:P,submissionId:z,title:U,description:H,taskType:ie,deadline:me,checklistItems:xe}={})=>{if(!n)throw new Error("Not authenticated");if(!P)throw new Error("Missing projectId");if(!String(U??"").trim())throw new Error("Missing title");if((v.users??[]).find(Vt=>Vt.id===n)?.role!=="coach")throw new Error("Only coaches can create tasks");const _e=(v.projects??[]).find(Vt=>Vt.id===P)??null;if(!_e)throw new Error("Project not found");const ze=V2(ie),We=ze===at.checklist?(Array.isArray(xe)?xe:[]).map(Vt=>({id:Vt?.id??Va("chk"),text:String(Vt?.text??"").trim()})).filter(Vt=>Vt.text):null,Ye=Va("tsk"),{data:ct,error:lt}=await ye.from("tasks").insert({id:Ye,project_id:P,submission_id:z??null,student_id:_e.studentId,title:String(U).trim(),description:String(H??"").trim()||null,task_type:ze,status:jr.pending,deadline:me??null,checklist_items:We,created_by:n,student_submission:null,submitted_at:null,coach_feedback:null,reviewed_at:null,reviewed_by:null}).select("*").single();if(lt)throw lt;const gr=C(ct);return x(Vt=>{const kt=Vt.tasks??[];return kt.some($t=>$t.id===gr.id)?Vt:{...Vt,tasks:[gr,...kt]}}),gr},[n,v.projects,v.users,C]),Er=y.useCallback(async({taskId:P,submission:z}={})=>{if(!n)throw new Error("Not authenticated");if(!P)throw new Error("Missing taskId");const U=(v.tasks??[]).find(_e=>_e.id===P)??null;if(!U)throw new Error("Task not found");const H=(v.projects??[]).find(_e=>_e.id===U.projectId)??null;if(!H)throw new Error("Project not found");if(String(H.studentId)!==String(n))throw new Error("Only the project student can submit this task");const ie=new Date().toISOString(),{data:me,error:xe}=await ye.from("tasks").update({status:jr.submitted,student_submission:z??null,submitted_at:ie}).eq("id",P).select("*").single();if(xe)throw xe;const Ne=C(me);return x(_e=>{const ze=_e.tasks??[],We=ze.some(Ye=>Ye.id===Ne.id);return{..._e,tasks:We?ze.map(Ye=>Ye.id===Ne.id?Ne:Ye):[Ne,...ze]}}),{success:!0}},[n,v.projects,v.tasks,C]),Sn=y.useCallback(async({taskId:P,status:z,feedback:U}={})=>{if(!n)throw new Error("Not authenticated");if(!P)throw new Error("Missing taskId");if((v.users??[]).find(ze=>ze.id===n)?.role!=="coach")throw new Error("Only coaches can review tasks");const ie=q2(z),me=new Date().toISOString(),{data:xe,error:Ne}=await ye.from("tasks").update({status:ie,coach_feedback:String(U??"").trim()||null,reviewed_at:me,reviewed_by:n}).eq("id",P).select("*").single();if(Ne)throw Ne;const _e=C(xe);return x(ze=>{const We=ze.tasks??[],Ye=We.some(ct=>ct.id===_e.id);return{...ze,tasks:Ye?We.map(ct=>ct.id===_e.id?_e:ct):[_e,...We]}}),{success:!0}},[n,v.users,C]),pr=y.useCallback(async()=>{await W()},[W]),se=y.useMemo(()=>({hydrated:t,data:v,reset:pr,listNotifications:be,refreshNotifications:Y,createNotification:ee,markNotificationRead:ce,markAllNotificationsRead:we,getUserById:G,getProgramById:T,listUsers:I,listPrograms:$,listApplications:B,listSessions:Z,listDeliverables:ue,listMessages:je,getProjectById:Ee,listProjects:qe,listProjectSubmissions:oe,createProjectWithIdea:Be,addProjectSubmission:pe,addProjectSubmissionComment:ke,setProjectSubmissionStatus:he,setProjectStage:Re,sendMessage:Vs,markAsRead:ri,deleteMessageForMe:Q,deleteMessageForEveryone:de,refreshPresence:Se,getPresenceForUser:Ko,upsertProgram:$r,deleteProgram:jn,upsertUser:Ge,deleteUser:vt,setApplicationStatus:Ho,createApplication:Ar,assignCoachToProgram:Fo,assignStudentToProgram:qs,getTaskById:Hs,listTasks:er,listTasksGroupedByProject:Xr,createTask:Ra,submitTask:Er,reviewTask:Sn}),[t,v,pr,be,Y,ee,ce,we,G,T,I,$,B,Z,ue,je,Ee,qe,oe,Be,pe,ke,he,Re,Vs,ri,Q,de,Se,Ko,$r,jn,Ge,vt,Ho,Ar,Fo,qs,Hs,er,Xr,Ra,Er,Sn]);return c.jsx(jM.Provider,{value:se,children:e})}const wP=e=>({id:e.id,name:e.name,description:e.description??"",isActive:!!e.is_active,createdBy:e.created_by??null,createdAt:e.created_at,updatedAt:e.updated_at}),jP=e=>({id:e.id,templateId:e.template_id,name:e.name,description:e.description??"",orderIndex:e.order_index??0}),SP=e=>({id:e.id,stageId:e.stage_id,contentType:e.content_type,title:e.title,description:e.description??"",url:e.url,provider:e.provider??"",durationMinutes:e.duration_minutes??null,orderIndex:e.order_index??0,meta:e.meta??{}}),NP=e=>({id:e.id,stageId:e.stage_id,title:e.title,description:e.description??"",taskType:e.task_type??"general",orderIndex:e.order_index??0,dueOffsetDays:e.due_offset_days??null,requiresApproval:!!e.requires_approval,meta:e.meta??{}}),_P=e=>({id:e.id,templateId:e.template_id,studentId:e.student_id,projectId:e.project_id??null,status:e.status,currentStageId:e.current_stage_id??null,startedAt:e.started_at,pausedAt:e.paused_at??null,completedAt:e.completed_at??null,createdAt:e.created_at,updatedAt:e.updated_at}),Hce=e=>({id:e.id,instanceId:e.instance_id,stageId:e.stage_id??null,templateTaskId:e.template_task_id??null,title:e.title,description:e.description??"",taskType:e.task_type??"general",status:e.status,orderIndex:e.order_index??0,deadline:e.deadline??null,requiresApproval:!!e.requires_approval,studentSubmission:e.student_submission??null,submittedAt:e.submitted_at??null,coachFeedback:e.coach_feedback??null,approvedAt:e.approved_at??null,approvedBy:e.approved_by??null,createdAt:e.created_at,updatedAt:e.updated_at});function Fce({children:e}){const{currentUser:t}=_t(),[r,n]=y.useState(!1),[a,s]=y.useState(!1),[l,u]=y.useState([]),[f,h]=y.useState({}),[m,g]=y.useState([]),[v,x]=y.useState({}),w=y.useRef(null),S=y.useCallback(async()=>{s(!0);try{const{data:G,error:T}=await ye.from("program_templates").select("*").order("updated_at",{ascending:!1});if(T)throw T;u((G??[]).map(wP))}finally{s(!1)}},[]),N=y.useCallback(async G=>{if(!G)return null;const T=await ye.from("program_template_stages").select("*").eq("template_id",G).order("order_index",{ascending:!0});if(T.error)throw T.error;const I=(T.data??[]).map(jP),$=I.map(de=>de.id);if($.length===0){const de={templateId:G,stages:[],contents:[],taskTemplates:[]};return h(Ee=>({...Ee,[G]:de})),de}const[B,Z]=await Promise.all([ye.from("program_template_contents").select("*").in("stage_id",$).order("order_index",{ascending:!0}),ye.from("program_task_templates").select("*").in("stage_id",$).order("order_index",{ascending:!0})]);if(B.error)throw B.error;if(Z.error)throw Z.error;const ue=new Map(I.map(de=>[de.id,de.orderIndex])),je=(B.data??[]).map(SP).sort((de,Ee)=>{const oe=ue.get(de.stageId)??0,qe=ue.get(Ee.stageId)??0;return oe!==qe?oe-qe:(de.orderIndex??0)-(Ee.orderIndex??0)}),Oe=(Z.data??[]).map(NP).sort((de,Ee)=>{const oe=ue.get(de.stageId)??0,qe=ue.get(Ee.stageId)??0;return oe!==qe?oe-qe:(de.orderIndex??0)-(Ee.orderIndex??0)}),Q={templateId:G,stages:I,contents:je,taskTemplates:Oe};return h(de=>({...de,[G]:Q})),Q},[]),_=y.useCallback(async({id:G,name:T,description:I,isActive:$}={})=>{if(!T)throw new Error("Template name is required");const B={...G?{id:G}:{},name:T,description:I??null,is_active:typeof $=="boolean"?$:!0,created_by:t?.id??null},{data:Z,error:ue}=await ye.from("program_templates").upsert(B).select("*").single();if(ue)throw ue;const je=wP(Z);return u(Oe=>{const Q=Oe.filter(de=>de.id!==je.id);return[je,...Q]}),je},[t?.id]),A=y.useCallback(async G=>{const{error:T}=await ye.from("program_templates").delete().eq("id",G);if(T)throw T;u(I=>I.filter($=>$.id!==G)),h(I=>{const $={...I};return delete $[G],$})},[]),k=y.useCallback(async({templateId:G,name:T,description:I,orderIndex:$}={})=>{if(!G)throw new Error("templateId required");if(!T)throw new Error("Stage name required");const{data:B,error:Z}=await ye.from("program_template_stages").insert({template_id:G,name:T,description:I??null,order_index:$??0}).select("*").single();if(Z)throw Z;const ue=jP(B);return h(je=>{const Oe=je[G]??{templateId:G,stages:[],contents:[],taskTemplates:[]};return{...je,[G]:{...Oe,stages:[...Oe.stages,ue].sort((Q,de)=>Q.orderIndex-de.orderIndex)}}}),ue},[]),O=y.useCallback(async({stageId:G,contentType:T,title:I,url:$,description:B,provider:Z,durationMinutes:ue,orderIndex:je,meta:Oe}={})=>{if(!G)throw new Error("stageId required");if(!T)throw new Error("contentType required");if(!I)throw new Error("title required");if(!$)throw new Error("url required");const{data:Q,error:de}=await ye.from("program_template_contents").insert({stage_id:G,content_type:T,title:I,description:B??null,url:$,provider:Z??null,duration_minutes:ue??null,order_index:je??0,meta:Oe??{}}).select("*").single();if(de)throw de;const Ee=SP(Q);return h(oe=>{const qe={...oe};for(const Be of Object.keys(qe)){const pe=qe[Be];pe&&pe.stages?.some(ke=>ke.id===G)&&(qe[Be]={...pe,contents:[...pe.contents,Ee].sort((ke,he)=>ke.stageId===he.stageId?ke.orderIndex-he.orderIndex:0)})}return qe}),Ee},[]),M=y.useCallback(async({stageId:G,title:T,description:I,taskType:$,orderIndex:B,dueOffsetDays:Z,requiresApproval:ue,meta:je}={})=>{if(!G)throw new Error("stageId required");if(!T)throw new Error("title required");const{data:Oe,error:Q}=await ye.from("program_task_templates").insert({stage_id:G,title:T,description:I??null,task_type:$??"general",order_index:B??0,due_offset_days:Z??null,requires_approval:typeof ue=="boolean"?ue:!0,meta:je??{}}).select("*").single();if(Q)throw Q;const de=NP(Oe);return h(Ee=>{const oe={...Ee};for(const qe of Object.keys(oe)){const Be=oe[qe];Be&&Be.stages?.some(pe=>pe.id===G)&&(oe[qe]={...Be,taskTemplates:[...Be.taskTemplates,de].sort((pe,ke)=>pe.stageId===ke.stageId?pe.orderIndex-ke.orderIndex:0)})}return oe}),de},[]),C=y.useCallback(async({templateId:G,stageId:T}={})=>{if(!G)throw new Error("templateId required");if(!T)throw new Error("stageId required");const{error:I}=await ye.from("program_template_stages").delete().eq("id",T);if(I)throw I;h($=>{const B=$[G];if(!B)return $;const Z={...$};return Z[G]={...B,stages:(B.stages??[]).filter(ue=>ue.id!==T),contents:(B.contents??[]).filter(ue=>ue.stageId!==T),taskTemplates:(B.taskTemplates??[]).filter(ue=>ue.stageId!==T)},Z})},[]),D=y.useCallback(async({contentId:G}={})=>{if(!G)throw new Error("contentId required");const{error:T}=await ye.from("program_template_contents").delete().eq("id",G);if(T)throw T;h(I=>{const $={...I};for(const B of Object.keys($)){const Z=$[B];Z&&(Z.contents??[]).some(ue=>ue.id===G)&&($[B]={...Z,contents:(Z.contents??[]).filter(ue=>ue.id!==G)})}return $})},[]),L=y.useCallback(async({taskTemplateId:G}={})=>{if(!G)throw new Error("taskTemplateId required");const{error:T}=await ye.from("program_task_templates").delete().eq("id",G);if(T)throw T;h(I=>{const $={...I};for(const B of Object.keys($)){const Z=$[B];Z&&(Z.taskTemplates??[]).some(ue=>ue.id===G)&&($[B]={...Z,taskTemplates:(Z.taskTemplates??[]).filter(ue=>ue.id!==G)})}return $})},[]),V=y.useCallback(async()=>{if(!t?.id){g([]);return}const{data:G,error:T}=await ye.from("program_instances").select("*").order("updated_at",{ascending:!1});if(T)throw T;const I=(G??[]).map(_P);return g(I),I},[t?.id]),te=y.useCallback(async G=>{if(!G)return null;const[T,I]=await Promise.all([ye.from("program_instances").select("*").eq("id",G).single(),ye.from("program_instance_tasks").select("*").eq("instance_id",G).order("order_index",{ascending:!0})]);if(T.error)throw T.error;if(I.error)throw I.error;const $=_P(T.data),B=(I.data??[]).map(Hce),Z={instance:$,tasks:B};return x(ue=>({...ue,[G]:Z})),Z},[]),W=y.useCallback(async({templateId:G,projectId:T}={})=>{if(!G)throw new Error("templateId required");const{data:I,error:$}=await ye.rpc("create_program_instance",{p_template_id:G,p_project_id:T??null});if($)throw $;const B=I;return await V(),B&&await te(B),B},[te,V]),K=y.useCallback(async({taskId:G,submission:T}={})=>{if(!G)throw new Error("taskId required");const{error:I}=await ye.rpc("submit_program_instance_task",{p_task_id:G,p_submission:T??{}});if(I)throw I;const $=v,B=Object.keys($).find(Z=>$[Z]?.tasks?.some(ue=>ue.id===G));B&&await te(B)},[te,v]),Se=y.useCallback(async({taskId:G,feedback:T,approved:I}={})=>{if(!G)throw new Error("taskId required");const{error:$}=await ye.rpc("approve_program_instance_task",{p_task_id:G,p_feedback:T??null,p_approved:typeof I=="boolean"?I:!0});if($)throw $;const B=v,Z=Object.keys(B).find(ue=>B[ue]?.tasks?.some(je=>je.id===G));Z&&await te(Z)},[te,v]),be=y.useCallback(async({instanceId:G,orderedTaskIds:T}={})=>{if(!G)throw new Error("instanceId required");if(!Array.isArray(T)||T.length===0)return;const{error:I}=await ye.rpc("reorder_program_instance_tasks",{p_instance_id:G,p_task_ids:T});if(I)throw I;await te(G)},[te]),Ae=y.useCallback(async({instanceId:G,stageId:T}={})=>{if(!G)throw new Error("instanceId required");if(!T)throw new Error("stageId required");const{error:I}=await ye.rpc("advance_program_instance_stage",{p_instance_id:G,p_stage_id:T});if(I)throw I;await te(G)},[te]),Y=y.useCallback(async({instanceId:G,stageId:T,title:I,description:$,taskType:B,deadline:Z,requiresApproval:ue}={})=>{if(!G)throw new Error("instanceId required");if(!T)throw new Error("stageId required");if(!I)throw new Error("title required");const{data:je,error:Oe}=await ye.rpc("inject_program_instance_task",{p_instance_id:G,p_stage_id:T,p_title:I,p_description:$??null,p_task_type:B??"general",p_deadline:Z??null,p_requires_approval:typeof ue=="boolean"?ue:!0});if(Oe)throw Oe;return await te(G),je},[te]),ee=y.useCallback(async({taskId:G,deadline:T}={})=>{if(!G)throw new Error("taskId required");if(!T)throw new Error("deadline required");const{error:I}=await ye.rpc("extend_program_instance_task_deadline",{p_task_id:G,p_deadline:T});if(I)throw I;const $=v,B=Object.keys($).find(Z=>$[Z]?.tasks?.some(ue=>ue.id===G));B&&await te(B)},[te,v]),ce=y.useCallback(async G=>{if(!G)return;w.current&&(ye.removeChannel(w.current),w.current=null);const T=ye.channel(`program_instance_tasks:${G}`).on("postgres_changes",{event:"*",schema:"public",table:"program_instance_tasks",filter:`instance_id=eq.${G}`},()=>{te(G).catch(()=>{})}).subscribe();w.current=T},[te]);y.useEffect(()=>{if(!t?.id){n(!0),u([]),g([]);return}let G=!1;return(async()=>{try{await Promise.all([S(),V()])}catch{}finally{G||n(!0)}})(),()=>{G=!0}},[t?.id,V,S]),y.useEffect(()=>()=>{w.current&&ye.removeChannel(w.current),w.current=null},[]);const we=y.useMemo(()=>({hydrated:r,busy:a,templates:l,templateDetailsById:f,instances:m,instanceDetailsById:v,fetchTemplates:S,fetchTemplateDetails:N,upsertTemplate:_,deleteTemplate:A,addStage:k,addContentItem:O,addTaskTemplate:M,deleteStage:C,deleteContentItem:D,deleteTaskTemplate:L,fetchMyInstances:V,fetchInstanceDetails:te,createInstanceFromTemplate:W,submitInstanceTask:K,approveInstanceTask:Se,reorderInstanceTasks:be,advanceInstanceStage:Ae,injectTask:Y,extendTaskDeadline:ee,subscribeToInstanceTasks:ce}),[r,a,l,f,m,v,S,N,_,A,k,O,M,C,D,L,V,te,W,K,Se,be,Ae,Y,ee,ce]);return c.jsx(NM.Provider,{value:we,children:e})}function Kce({children:e}){const[t,r]=y.useState([]),n=y.useCallback(u=>{r(f=>f.filter(h=>h.id!==u))},[]),a=y.useCallback(u=>{const f=u.id??Va("toast"),h={id:f,title:u.title??"Notification",message:u.message??"",type:u.type??"info",durationMs:u.durationMs??3500,onClick:typeof u.onClick=="function"?u.onClick:null};return r(m=>[h,...m].slice(0,5)),h.durationMs>0&&window.setTimeout(()=>n(f),h.durationMs),f},[n]),s=y.useCallback((u,f="info",h)=>{const m=f==="error"?"danger":f;return a({type:m,title:h??(m==="danger"?"Error":"Notification"),message:u??""})},[a]),l=y.useMemo(()=>({toasts:t,push:a,dismiss:n,showToast:s}),[t,a,n,s]);return c.jsx(SM.Provider,{value:l,children:e})}const Gce=y.createContext(null);function Wce(){return!1}function Kh(e){return e==="dark"?!0:e==="light"?!1:Wce()}function Yce({children:e}){const[t,r]=y.useState("light"),n=y.useMemo(()=>Kh(t),[t]);y.useEffect(()=>{const s=document.documentElement;s.classList.toggle("dark",n),s.style.colorScheme=n?"dark":"light"},[n]),y.useEffect(()=>{if(t!=="system")return;const s=window.matchMedia?.("(prefers-color-scheme: dark)");if(!s)return;const l=()=>{const u=document.documentElement;u.classList.toggle("dark",Kh("system")),u.style.colorScheme=Kh("system")?"dark":"light"};return s.addEventListener?s.addEventListener("change",l):s.addListener(l),()=>{s.removeEventListener?s.removeEventListener("change",l):s.removeListener(l)}},[t]);const a=y.useMemo(()=>({mode:t,isDark:n,setMode:r,toggle:()=>r(s=>Kh(s)?"light":"dark")}),[t,n]);return c.jsx(Gce.Provider,{value:a,children:e})}const X1=y.createContext({});function Z1(e){const t=y.useRef(null);return t.current===null&&(t.current=e()),t.current}const lL=typeof window<"u",cL=lL?y.useLayoutEffect:y.useEffect,bg=y.createContext(null);function Q1(e,t){e.indexOf(t)===-1&&e.push(t)}function J1(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const Qa=(e,t,r)=>r>t?t:r<e?e:r;let eS=()=>{};const zi={},uL=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function dL(e){return typeof e=="object"&&e!==null}const fL=e=>/^0[^.\s]+$/u.test(e);function tS(e){let t;return()=>(t===void 0&&(t=e()),t)}const ia=e=>e,Xce=(e,t)=>r=>t(e(r)),af=(...e)=>e.reduce(Xce),Ad=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class rS{constructor(){this.subscriptions=[]}add(t){return Q1(this.subscriptions,t),()=>J1(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let s=0;s<a;s++){const l=this.subscriptions[s];l&&l(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ci=e=>e*1e3,na=e=>e/1e3;function hL(e,t){return t?e*(1e3/t):0}const mL=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,Zce=1e-7,Qce=12;function Jce(e,t,r,n,a){let s,l,u=0;do l=t+(r-t)/2,s=mL(l,n,a)-e,s>0?r=l:t=l;while(Math.abs(s)>Zce&&++u<Qce);return l}function sf(e,t,r,n){if(e===t&&r===n)return ia;const a=s=>Jce(s,0,1,e,r);return s=>s===0||s===1?s:mL(a(s),t,n)}const pL=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,gL=e=>t=>1-e(1-t),vL=sf(.33,1.53,.69,.99),nS=gL(vL),yL=pL(nS),xL=e=>(e*=2)<1?.5*nS(e):.5*(2-Math.pow(2,-10*(e-1))),aS=e=>1-Math.sin(Math.acos(e)),bL=gL(aS),wL=pL(aS),eue=sf(.42,0,1,1),tue=sf(0,0,.58,1),jL=sf(.42,0,.58,1),rue=e=>Array.isArray(e)&&typeof e[0]!="number",SL=e=>Array.isArray(e)&&typeof e[0]=="number",nue={linear:ia,easeIn:eue,easeInOut:jL,easeOut:tue,circIn:aS,circInOut:wL,circOut:bL,backIn:nS,backInOut:yL,backOut:vL,anticipate:xL},aue=e=>typeof e=="string",kP=e=>{if(SL(e)){eS(e.length===4);const[t,r,n,a]=e;return sf(t,r,n,a)}else if(aue(e))return nue[e];return e},Gh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function iue(e,t){let r=new Set,n=new Set,a=!1,s=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function f(m){l.has(m)&&(h.schedule(m),e()),m(u)}const h={schedule:(m,g=!1,v=!1)=>{const w=v&&a?r:n;return g&&l.add(m),w.has(m)||w.add(m),m},cancel:m=>{n.delete(m),l.delete(m)},process:m=>{if(u=m,a){s=!0;return}a=!0,[r,n]=[n,r],r.forEach(f),r.clear(),a=!1,s&&(s=!1,h.process(m))}};return h}const sue=40;function NL(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,l=Gh.reduce((k,O)=>(k[O]=iue(s),k),{}),{setup:u,read:f,resolveKeyframes:h,preUpdate:m,update:g,preRender:v,render:x,postRender:w}=l,S=()=>{const k=zi.useManualTiming?a.timestamp:performance.now();r=!1,zi.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(k-a.timestamp,sue),1)),a.timestamp=k,a.isProcessing=!0,u.process(a),f.process(a),h.process(a),m.process(a),g.process(a),v.process(a),x.process(a),w.process(a),a.isProcessing=!1,r&&t&&(n=!1,e(S))},N=()=>{r=!0,n=!0,a.isProcessing||e(S)};return{schedule:Gh.reduce((k,O)=>{const M=l[O];return k[O]=(C,D=!1,L=!1)=>(r||N(),M.schedule(C,D,L)),k},{}),cancel:k=>{for(let O=0;O<Gh.length;O++)l[Gh[O]].cancel(k)},state:a,steps:l}}const{schedule:Lt,cancel:Rs,state:Gr,steps:Ux}=NL(typeof requestAnimationFrame<"u"?requestAnimationFrame:ia,!0);let sm;function oue(){sm=void 0}const ln={now:()=>(sm===void 0&&ln.set(Gr.isProcessing||zi.useManualTiming?Gr.timestamp:performance.now()),sm),set:e=>{sm=e,queueMicrotask(oue)}},_L=e=>t=>typeof t=="string"&&t.startsWith(e),kL=_L("--"),lue=_L("var(--"),iS=e=>lue(e)?cue.test(e.split("/*")[0].trim()):!1,cue=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function AP(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const Cc={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ed={...Cc,transform:e=>Qa(0,1,e)},Wh={...Cc,default:1},Ku=e=>Math.round(e*1e5)/1e5,sS=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function uue(e){return e==null}const due=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,oS=(e,t)=>r=>!!(typeof r=="string"&&due.test(r)&&r.startsWith(e)||t&&!uue(r)&&Object.prototype.hasOwnProperty.call(r,t)),AL=(e,t,r)=>n=>{if(typeof n!="string")return n;const[a,s,l,u]=n.match(sS);return{[e]:parseFloat(a),[t]:parseFloat(s),[r]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},fue=e=>Qa(0,255,e),Bx={...Cc,transform:e=>Math.round(fue(e))},No={test:oS("rgb","red"),parse:AL("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+Bx.transform(e)+", "+Bx.transform(t)+", "+Bx.transform(r)+", "+Ku(Ed.transform(n))+")"};function hue(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const gw={test:oS("#"),parse:hue,transform:No.transform},of=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ss=of("deg"),Wa=of("%"),Me=of("px"),mue=of("vh"),pue=of("vw"),EP={...Wa,parse:e=>Wa.parse(e)/100,transform:e=>Wa.transform(e*100)},Xl={test:oS("hsl","hue"),parse:AL("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Wa.transform(Ku(t))+", "+Wa.transform(Ku(r))+", "+Ku(Ed.transform(n))+")"},dr={test:e=>No.test(e)||gw.test(e)||Xl.test(e),parse:e=>No.test(e)?No.parse(e):Xl.test(e)?Xl.parse(e):gw.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?No.transform(e):Xl.transform(e),getAnimatableNone:e=>{const t=dr.parse(e);return t.alpha=0,dr.transform(t)}},gue=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function vue(e){return isNaN(e)&&typeof e=="string"&&(e.match(sS)?.length||0)+(e.match(gue)?.length||0)>0}const EL="number",TL="color",yue="var",xue="var(",TP="${}",bue=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Td(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},a=[];let s=0;const u=t.replace(bue,f=>(dr.test(f)?(n.color.push(s),a.push(TL),r.push(dr.parse(f))):f.startsWith(xue)?(n.var.push(s),a.push(yue),r.push(f)):(n.number.push(s),a.push(EL),r.push(parseFloat(f))),++s,TP)).split(TP);return{values:r,split:u,indexes:n,types:a}}function OL(e){return Td(e).values}function CL(e){const{split:t,types:r}=Td(e),n=t.length;return a=>{let s="";for(let l=0;l<n;l++)if(s+=t[l],a[l]!==void 0){const u=r[l];u===EL?s+=Ku(a[l]):u===TL?s+=dr.transform(a[l]):s+=a[l]}return s}}const wue=e=>typeof e=="number"?0:dr.test(e)?dr.getAnimatableNone(e):e;function jue(e){const t=OL(e);return CL(e)(t.map(wue))}const Is={test:vue,parse:OL,createTransformer:CL,getAnimatableNone:jue};function zx(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function Sue({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,s=0,l=0;if(!t)a=s=l=r;else{const u=r<.5?r*(1+t):r+t-r*t,f=2*r-u;a=zx(f,u,e+1/3),s=zx(f,u,e),l=zx(f,u,e-1/3)}return{red:Math.round(a*255),green:Math.round(s*255),blue:Math.round(l*255),alpha:n}}function hp(e,t){return r=>r>0?t:e}const Kt=(e,t,r)=>e+(t-e)*r,qx=(e,t,r)=>{const n=e*e,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},Nue=[gw,No,Xl],_ue=e=>Nue.find(t=>t.test(e));function OP(e){const t=_ue(e);if(!t)return!1;let r=t.parse(e);return t===Xl&&(r=Sue(r)),r}const CP=(e,t)=>{const r=OP(e),n=OP(t);if(!r||!n)return hp(e,t);const a={...r};return s=>(a.red=qx(r.red,n.red,s),a.green=qx(r.green,n.green,s),a.blue=qx(r.blue,n.blue,s),a.alpha=Kt(r.alpha,n.alpha,s),No.transform(a))},vw=new Set(["none","hidden"]);function kue(e,t){return vw.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function Aue(e,t){return r=>Kt(e,t,r)}function lS(e){return typeof e=="number"?Aue:typeof e=="string"?iS(e)?hp:dr.test(e)?CP:Oue:Array.isArray(e)?PL:typeof e=="object"?dr.test(e)?CP:Eue:hp}function PL(e,t){const r=[...e],n=r.length,a=e.map((s,l)=>lS(s)(s,t[l]));return s=>{for(let l=0;l<n;l++)r[l]=a[l](s);return r}}function Eue(e,t){const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=lS(e[a])(e[a],t[a]));return a=>{for(const s in n)r[s]=n[s](a);return r}}function Tue(e,t){const r=[],n={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const s=t.types[a],l=e.indexes[s][n[s]],u=e.values[l]??0;r[a]=u,n[s]++}return r}const Oue=(e,t)=>{const r=Is.createTransformer(t),n=Td(e),a=Td(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?vw.has(e)&&!a.values.length||vw.has(t)&&!n.values.length?kue(e,t):af(PL(Tue(n,a),a.values),r):hp(e,t)};function DL(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Kt(e,t,r):lS(e)(e,t)}const Cue=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>Lt.update(t,r),stop:()=>Rs(t),now:()=>Gr.isProcessing?Gr.timestamp:ln.now()}},ML=(e,t,r=10)=>{let n="";const a=Math.max(Math.round(t/r),2);for(let s=0;s<a;s++)n+=Math.round(e(s/(a-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},mp=2e4;function cS(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<mp;)t+=r,n=e.next(t);return t>=mp?1/0:t}function Pue(e,t=100,r){const n=r({...e,keyframes:[0,t]}),a=Math.min(cS(n),mp);return{type:"keyframes",ease:s=>n.next(a*s).value/t,duration:na(a)}}const Due=5;function RL(e,t,r){const n=Math.max(t-Due,0);return hL(r-e(n),t-n)}const Qt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Vx=.001;function Mue({duration:e=Qt.duration,bounce:t=Qt.bounce,velocity:r=Qt.velocity,mass:n=Qt.mass}){let a,s,l=1-t;l=Qa(Qt.minDamping,Qt.maxDamping,l),e=Qa(Qt.minDuration,Qt.maxDuration,na(e)),l<1?(a=h=>{const m=h*l,g=m*e,v=m-r,x=yw(h,l),w=Math.exp(-g);return Vx-v/x*w},s=h=>{const g=h*l*e,v=g*r+r,x=Math.pow(l,2)*Math.pow(h,2)*e,w=Math.exp(-g),S=yw(Math.pow(h,2),l);return(-a(h)+Vx>0?-1:1)*((v-x)*w)/S}):(a=h=>{const m=Math.exp(-h*e),g=(h-r)*e+1;return-Vx+m*g},s=h=>{const m=Math.exp(-h*e),g=(r-h)*(e*e);return m*g});const u=5/e,f=Iue(a,s,u);if(e=Ci(e),isNaN(f))return{stiffness:Qt.stiffness,damping:Qt.damping,duration:e};{const h=Math.pow(f,2)*n;return{stiffness:h,damping:l*2*Math.sqrt(n*h),duration:e}}}const Rue=12;function Iue(e,t,r){let n=r;for(let a=1;a<Rue;a++)n=n-e(n)/t(n);return n}function yw(e,t){return e*Math.sqrt(1-t*t)}const Lue=["duration","bounce"],$ue=["stiffness","damping","mass"];function PP(e,t){return t.some(r=>e[r]!==void 0)}function Uue(e){let t={velocity:Qt.velocity,stiffness:Qt.stiffness,damping:Qt.damping,mass:Qt.mass,isResolvedFromDuration:!1,...e};if(!PP(e,$ue)&&PP(e,Lue))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,s=2*Qa(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:Qt.mass,stiffness:a,damping:s}}else{const r=Mue(e);t={...t,...r,mass:Qt.mass},t.isResolvedFromDuration=!0}return t}function pp(e=Qt.visualDuration,t=Qt.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=r;const s=r.keyframes[0],l=r.keyframes[r.keyframes.length-1],u={done:!1,value:s},{stiffness:f,damping:h,mass:m,duration:g,velocity:v,isResolvedFromDuration:x}=Uue({...r,velocity:-na(r.velocity||0)}),w=v||0,S=h/(2*Math.sqrt(f*m)),N=l-s,_=na(Math.sqrt(f/m)),A=Math.abs(N)<5;n||(n=A?Qt.restSpeed.granular:Qt.restSpeed.default),a||(a=A?Qt.restDelta.granular:Qt.restDelta.default);let k;if(S<1){const M=yw(_,S);k=C=>{const D=Math.exp(-S*_*C);return l-D*((w+S*_*N)/M*Math.sin(M*C)+N*Math.cos(M*C))}}else if(S===1)k=M=>l-Math.exp(-_*M)*(N+(w+_*N)*M);else{const M=_*Math.sqrt(S*S-1);k=C=>{const D=Math.exp(-S*_*C),L=Math.min(M*C,300);return l-D*((w+S*_*N)*Math.sinh(L)+M*N*Math.cosh(L))/M}}const O={calculatedDuration:x&&g||null,next:M=>{const C=k(M);if(x)u.done=M>=g;else{let D=M===0?w:0;S<1&&(D=M===0?Ci(w):RL(k,M,C));const L=Math.abs(D)<=n,V=Math.abs(l-C)<=a;u.done=L&&V}return u.value=u.done?l:C,u},toString:()=>{const M=Math.min(cS(O),mp),C=ML(D=>O.next(M*D).value,M,30);return M+"ms "+C},toTransition:()=>{}};return O}pp.applyToOptions=e=>{const t=Pue(e,100,pp);return e.ease=t.ease,e.duration=Ci(t.duration),e.type="keyframes",e};function xw({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:s=500,modifyTarget:l,min:u,max:f,restDelta:h=.5,restSpeed:m}){const g=e[0],v={done:!1,value:g},x=L=>u!==void 0&&L<u||f!==void 0&&L>f,w=L=>u===void 0?f:f===void 0||Math.abs(u-L)<Math.abs(f-L)?u:f;let S=r*t;const N=g+S,_=l===void 0?N:l(N);_!==N&&(S=_-g);const A=L=>-S*Math.exp(-L/n),k=L=>_+A(L),O=L=>{const V=A(L),te=k(L);v.done=Math.abs(V)<=h,v.value=v.done?_:te};let M,C;const D=L=>{x(v.value)&&(M=L,C=pp({keyframes:[v.value,w(v.value)],velocity:RL(k,L,v.value),damping:a,stiffness:s,restDelta:h,restSpeed:m}))};return D(0),{calculatedDuration:null,next:L=>{let V=!1;return!C&&M===void 0&&(V=!0,O(L),D(L)),M!==void 0&&L>=M?C.next(L-M):(!V&&O(L),v)}}}function Bue(e,t,r){const n=[],a=r||zi.mix||DL,s=e.length-1;for(let l=0;l<s;l++){let u=a(e[l],e[l+1]);if(t){const f=Array.isArray(t)?t[l]||ia:t;u=af(f,u)}n.push(u)}return n}function zue(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const s=e.length;if(eS(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const l=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const u=Bue(t,n,a),f=u.length,h=m=>{if(l&&m<e[0])return t[0];let g=0;if(f>1)for(;g<e.length-2&&!(m<e[g+1]);g++);const v=Ad(e[g],e[g+1],m);return u[g](v)};return r?m=>h(Qa(e[0],e[s-1],m)):h}function que(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=Ad(0,t,n);e.push(Kt(r,1,a))}}function Vue(e){const t=[0];return que(t,e.length-1),t}function Hue(e,t){return e.map(r=>r*t)}function Fue(e,t){return e.map(()=>t||jL).splice(0,e.length-1)}function Gu({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=rue(n)?n.map(kP):kP(n),s={done:!1,value:t[0]},l=Hue(r&&r.length===t.length?r:Vue(t),e),u=zue(l,t,{ease:Array.isArray(a)?a:Fue(t,a)});return{calculatedDuration:e,next:f=>(s.value=u(f),s.done=f>=e,s)}}const Kue=e=>e!==null;function uS(e,{repeat:t,repeatType:r="loop"},n,a=1){const s=e.filter(Kue),u=a<0||t&&r!=="loop"&&t%2===1?0:s.length-1;return!u||n===void 0?s[u]:n}const Gue={decay:xw,inertia:xw,tween:Gu,keyframes:Gu,spring:pp};function IL(e){typeof e.type=="string"&&(e.type=Gue[e.type])}class dS{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const Wue=e=>e/100;class fS extends dS{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==ln.now()&&this.tick(ln.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;IL(t);const{type:r=Gu,repeat:n=0,repeatDelay:a=0,repeatType:s,velocity:l=0}=t;let{keyframes:u}=t;const f=r||Gu;f!==Gu&&typeof u[0]!="number"&&(this.mixKeyframes=af(Wue,DL(u[0],u[1])),u=[0,100]);const h=f({...t,keyframes:u});s==="mirror"&&(this.mirroredGenerator=f({...t,keyframes:[...u].reverse(),velocity:-l})),h.calculatedDuration===null&&(h.calculatedDuration=cS(h));const{calculatedDuration:m}=h;this.calculatedDuration=m,this.resolvedDuration=m+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=h}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:a,mixKeyframes:s,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:f}=this;if(this.startTime===null)return n.next(0);const{delay:h=0,keyframes:m,repeat:g,repeatType:v,repeatDelay:x,type:w,onUpdate:S,finalKeyframe:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const _=this.currentTime-h*(this.playbackSpeed>=0?1:-1),A=this.playbackSpeed>=0?_<0:_>a;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let k=this.currentTime,O=n;if(g){const L=Math.min(this.currentTime,a)/u;let V=Math.floor(L),te=L%1;!te&&L>=1&&(te=1),te===1&&V--,V=Math.min(V,g+1),V%2&&(v==="reverse"?(te=1-te,x&&(te-=x/u)):v==="mirror"&&(O=l)),k=Qa(0,1,te)*u}const M=A?{done:!1,value:m[0]}:O.next(k);s&&(M.value=s(M.value));let{done:C}=M;!A&&f!==null&&(C=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return D&&w!==xw&&(M.value=uS(m,this.options,N,this.speed)),S&&S(M.value),D&&this.finish(),M}then(t,r){return this.finished.then(t,r)}get duration(){return na(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+na(t)}get time(){return na(this.currentTime)}set time(t){t=Ci(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(ln.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=na(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=Cue,startTime:r}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ln.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function Yue(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const _o=e=>e*180/Math.PI,bw=e=>{const t=_o(Math.atan2(e[1],e[0]));return ww(t)},Xue={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:bw,rotateZ:bw,skewX:e=>_o(Math.atan(e[1])),skewY:e=>_o(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},ww=e=>(e=e%360,e<0&&(e+=360),e),DP=bw,MP=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),RP=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Zue={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:MP,scaleY:RP,scale:e=>(MP(e)+RP(e))/2,rotateX:e=>ww(_o(Math.atan2(e[6],e[5]))),rotateY:e=>ww(_o(Math.atan2(-e[2],e[0]))),rotateZ:DP,rotate:DP,skewX:e=>_o(Math.atan(e[4])),skewY:e=>_o(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function jw(e){return e.includes("scale")?1:0}function Sw(e,t){if(!e||e==="none")return jw(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=Zue,a=r;else{const u=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Xue,a=u}if(!a)return jw(t);const s=n[t],l=a[1].split(",").map(Jue);return typeof s=="function"?s(l):l[s]}const Que=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return Sw(r,t)};function Jue(e){return parseFloat(e.trim())}const Pc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Dc=new Set(Pc),IP=e=>e===Cc||e===Me,ede=new Set(["x","y","z"]),tde=Pc.filter(e=>!ede.has(e));function rde(e){const t=[];return tde.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Os={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Sw(t,"x"),y:(e,{transform:t})=>Sw(t,"y")};Os.translateX=Os.x;Os.translateY=Os.y;const To=new Set;let Nw=!1,_w=!1,kw=!1;function LL(){if(_w){const e=Array.from(To).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const a=rde(n);a.length&&(r.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([s,l])=>{n.getValue(s)?.set(l)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}_w=!1,Nw=!1,To.forEach(e=>e.complete(kw)),To.clear()}function $L(){To.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(_w=!0)})}function nde(){kw=!0,$L(),LL(),kw=!1}class hS{constructor(t,r,n,a,s,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=a,this.element=s,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(To.add(this),Nw||(Nw=!0,Lt.read($L),Lt.resolveKeyframes(LL))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:a}=this;if(t[0]===null){const s=a?.get(),l=t[t.length-1];if(s!==void 0)t[0]=s;else if(n&&r){const u=n.readValue(r,l);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=l),a&&s===void 0&&a.set(t[0])}Yue(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),To.delete(this)}cancel(){this.state==="scheduled"&&(To.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const ade=e=>e.startsWith("--");function ide(e,t,r){ade(t)?e.style.setProperty(t,r):e.style[t]=r}const sde=tS(()=>window.ScrollTimeline!==void 0),ode={};function lde(e,t){const r=tS(e);return()=>ode[t]??r()}const UL=lde(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Bu=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,LP={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Bu([0,.65,.55,1]),circOut:Bu([.55,0,1,.45]),backIn:Bu([.31,.01,.66,-.59]),backOut:Bu([.33,1.53,.69,.99])};function BL(e,t){if(e)return typeof e=="function"?UL()?ML(e,t):"ease-out":SL(e)?Bu(e):Array.isArray(e)?e.map(r=>BL(r,t)||LP.easeOut):LP[e]}function cde(e,t,r,{delay:n=0,duration:a=300,repeat:s=0,repeatType:l="loop",ease:u="easeOut",times:f}={},h=void 0){const m={[t]:r};f&&(m.offset=f);const g=BL(u,a);Array.isArray(g)&&(m.easing=g);const v={delay:n,duration:a,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:s+1,direction:l==="reverse"?"alternate":"normal"};return h&&(v.pseudoElement=h),e.animate(m,v)}function zL(e){return typeof e=="function"&&"applyToOptions"in e}function ude({type:e,...t}){return zL(e)&&UL()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class dde extends dS{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:r,name:n,keyframes:a,pseudoElement:s,allowFlatten:l=!1,finalKeyframe:u,onComplete:f}=t;this.isPseudoElement=!!s,this.allowFlatten=l,this.options=t,eS(typeof t.type!="string");const h=ude(t);this.animation=cde(r,n,a,h,s),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const m=uS(a,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(m):ide(r,n,m),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return na(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+na(t)}get time(){return na(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Ci(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&sde()?(this.animation.timeline=t,ia):r(this)}}const qL={anticipate:xL,backInOut:yL,circInOut:wL};function fde(e){return e in qL}function hde(e){typeof e.ease=="string"&&fde(e.ease)&&(e.ease=qL[e.ease])}const Hx=10;class mde extends dde{constructor(t){hde(t),IL(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:a,element:s,...l}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const u=new fS({...l,autoplay:!1}),f=Math.max(Hx,ln.now()-this.startTime),h=Qa(0,Hx,f-Hx);r.setWithVelocity(u.sample(Math.max(0,f-h)).value,u.sample(f).value,h),u.stop()}}const $P=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Is.test(e)||e==="0")&&!e.startsWith("url("));function pde(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function gde(e,t,r,n){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],l=$P(a,t),u=$P(s,t);return!l||!u?!1:pde(e)||(r==="spring"||zL(r))&&n}function Aw(e){e.duration=0,e.type="keyframes"}const vde=new Set(["opacity","clipPath","filter","transform"]),yde=tS(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function xde(e){const{motionValue:t,name:r,repeatDelay:n,repeatType:a,damping:s,type:l}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:h}=t.owner.getProps();return yde()&&r&&vde.has(r)&&(r!=="transform"||!h)&&!f&&!n&&a!=="mirror"&&s!==0&&l!=="inertia"}const bde=40;class wde extends dS{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:s=0,repeatType:l="loop",keyframes:u,name:f,motionValue:h,element:m,...g}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=ln.now();const v={autoplay:t,delay:r,type:n,repeat:a,repeatDelay:s,repeatType:l,name:f,motionValue:h,element:m,...g},x=m?.KeyframeResolver||hS;this.keyframeResolver=new x(u,(w,S,N)=>this.onKeyframesResolved(w,S,v,!N),f,h,m),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,r,n,a){this.keyframeResolver=void 0;const{name:s,type:l,velocity:u,delay:f,isHandoff:h,onUpdate:m}=n;this.resolvedAt=ln.now(),gde(t,s,l,u)||((zi.instantAnimations||!f)&&m?.(uS(t,n,r)),t[0]=t[t.length-1],Aw(n),n.repeat=0);const v={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>bde?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},x=!h&&xde(v),w=v.motionValue?.owner?.current,S=x?new mde({...v,element:w}):new fS(v);S.finished.then(()=>{this.notifyFinished()}).catch(ia),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),nde()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function VL(e,t,r,n=0,a=1){const s=Array.from(e).sort((h,m)=>h.sortNodePosition(m)).indexOf(t),l=e.size,u=(l-1)*n;return typeof r=="function"?r(s,l):a===1?s*n:u-s*n}const jde=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Sde(e){const t=jde.exec(e);if(!t)return[,];const[,r,n,a]=t;return[`--${r??n}`,a]}function HL(e,t,r=1){const[n,a]=Sde(e);if(!n)return;const s=window.getComputedStyle(t).getPropertyValue(n);if(s){const l=s.trim();return uL(l)?parseFloat(l):l}return iS(a)?HL(a,t,r+1):a}const Nde={type:"spring",stiffness:500,damping:25,restSpeed:10},_de=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),kde={type:"keyframes",duration:.8},Ade={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Ede=(e,{keyframes:t})=>t.length>2?kde:Dc.has(e)?e.startsWith("scale")?_de(t[1]):Nde:Ade,Tde=e=>e!==null;function Ode(e,{repeat:t,repeatType:r="loop"},n){const a=e.filter(Tde),s=t&&r!=="loop"&&t%2===1?0:a.length-1;return a[s]}function mS(e,t){return e?.[t]??e?.default??e}function Cde({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:s,repeatType:l,repeatDelay:u,from:f,elapsed:h,...m}){return!!Object.keys(m).length}const pS=(e,t,r,n={},a,s)=>l=>{const u=mS(n,e)||{},f=u.delay||n.delay||0;let{elapsed:h=0}=n;h=h-Ci(f);const m={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...u,delay:-h,onUpdate:v=>{t.set(v),u.onUpdate&&u.onUpdate(v)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:e,motionValue:t,element:s?void 0:a};Cde(u)||Object.assign(m,Ede(e,m)),m.duration&&(m.duration=Ci(m.duration)),m.repeatDelay&&(m.repeatDelay=Ci(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let g=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(Aw(m),m.delay===0&&(g=!0)),(zi.instantAnimations||zi.skipAnimations)&&(g=!0,Aw(m),m.delay=0),m.allowFlatten=!u.type&&!u.ease,g&&!s&&t.get()!==void 0){const v=Ode(m.keyframes,u);if(v!==void 0){Lt.update(()=>{m.onUpdate(v),m.onComplete()});return}}return u.isSync?new fS(m):new wde(m)};function UP(e){const t=[{},{}];return e?.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function gS(e,t,r,n){if(typeof t=="function"){const[a,s]=UP(n);t=t(r!==void 0?r:e.custom,a,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,s]=UP(n);t=t(r!==void 0?r:e.custom,a,s)}return t}function nc(e,t,r){const n=e.getProps();return gS(n,t,r!==void 0?r:n.custom,e)}const FL=new Set(["width","height","top","left","right","bottom",...Pc]),BP=30,Pde=e=>!isNaN(parseFloat(e));class Dde{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{const a=ln.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=ln.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Pde(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new rS);const n=this.events[t].add(r);return t==="change"?()=>{n(),Lt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=ln.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>BP)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,BP);return hL(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function dc(e,t){return new Dde(e,t)}const Ew=e=>Array.isArray(e);function Mde(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,dc(r))}function Rde(e){return Ew(e)?e[e.length-1]||0:e}function Ide(e,t){const r=nc(e,t);let{transitionEnd:n={},transition:a={},...s}=r||{};s={...s,...n};for(const l in s){const u=Rde(s[l]);Mde(e,l,u)}}const tn=e=>!!(e&&e.getVelocity);function Lde(e){return!!(tn(e)&&e.add)}function Tw(e,t){const r=e.getValue("willChange");if(Lde(r))return r.add(t);if(!r&&zi.WillChange){const n=new zi.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function vS(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const $de="framerAppearId",KL="data-"+vS($de);function GL(e){return e.props[KL]}function Ude({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function WL(e,t,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:l,...u}=t;n&&(s=n);const f=[],h=a&&e.animationState&&e.animationState.getState()[a];for(const m in u){const g=e.getValue(m,e.latestValues[m]??null),v=u[m];if(v===void 0||h&&Ude(h,m))continue;const x={delay:r,...mS(s||{},m)},w=g.get();if(w!==void 0&&!g.isAnimating&&!Array.isArray(v)&&v===w&&!x.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const _=GL(e);if(_){const A=window.MotionHandoffAnimation(_,m,Lt);A!==null&&(x.startTime=A,S=!0)}}Tw(e,m),g.start(pS(m,g,v,e.shouldReduceMotion&&FL.has(m)?{type:!1}:x,e,S));const N=g.animation;N&&f.push(N)}return l&&Promise.all(f).then(()=>{Lt.update(()=>{l&&Ide(e,l)})}),f}function Ow(e,t,r={}){const n=nc(e,t,r.type==="exit"?e.presenceContext?.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const s=n?()=>Promise.all(WL(e,n,r)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(f=0)=>{const{delayChildren:h=0,staggerChildren:m,staggerDirection:g}=a;return Bde(e,t,f,h,m,g,r)}:()=>Promise.resolve(),{when:u}=a;if(u){const[f,h]=u==="beforeChildren"?[s,l]:[l,s];return f().then(()=>h())}else return Promise.all([s(),l(r.delay)])}function Bde(e,t,r=0,n=0,a=0,s=1,l){const u=[];for(const f of e.variantChildren)f.notify("AnimationStart",t),u.push(Ow(f,t,{...l,delay:r+(typeof n=="function"?0:n)+VL(e.variantChildren,f,n,a,s)}).then(()=>f.notify("AnimationComplete",t)));return Promise.all(u)}function zde(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(s=>Ow(e,s,r));n=Promise.all(a)}else if(typeof t=="string")n=Ow(e,t,r);else{const a=typeof t=="function"?nc(e,t,r.custom):t;n=Promise.all(WL(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}const qde={test:e=>e==="auto",parse:e=>e},YL=e=>t=>t.test(e),XL=[Cc,Me,Wa,Ss,pue,mue,qde],zP=e=>XL.find(YL(e));function Vde(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||fL(e):!0}const Hde=new Set(["brightness","contrast","saturate","opacity"]);function Fde(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(sS)||[];if(!n)return e;const a=r.replace(n,"");let s=Hde.has(t)?1:0;return n!==r&&(s*=100),t+"("+s+a+")"}const Kde=/\b([a-z-]*)\(.*?\)/gu,Cw={...Is,getAnimatableNone:e=>{const t=e.match(Kde);return t?t.map(Fde).join(" "):e}},qP={...Cc,transform:Math.round},Gde={rotate:Ss,rotateX:Ss,rotateY:Ss,rotateZ:Ss,scale:Wh,scaleX:Wh,scaleY:Wh,scaleZ:Wh,skew:Ss,skewX:Ss,skewY:Ss,distance:Me,translateX:Me,translateY:Me,translateZ:Me,x:Me,y:Me,z:Me,perspective:Me,transformPerspective:Me,opacity:Ed,originX:EP,originY:EP,originZ:Me},yS={borderWidth:Me,borderTopWidth:Me,borderRightWidth:Me,borderBottomWidth:Me,borderLeftWidth:Me,borderRadius:Me,borderTopLeftRadius:Me,borderTopRightRadius:Me,borderBottomRightRadius:Me,borderBottomLeftRadius:Me,width:Me,maxWidth:Me,height:Me,maxHeight:Me,top:Me,right:Me,bottom:Me,left:Me,inset:Me,insetBlock:Me,insetBlockStart:Me,insetBlockEnd:Me,insetInline:Me,insetInlineStart:Me,insetInlineEnd:Me,padding:Me,paddingTop:Me,paddingRight:Me,paddingBottom:Me,paddingLeft:Me,paddingBlock:Me,paddingBlockStart:Me,paddingBlockEnd:Me,paddingInline:Me,paddingInlineStart:Me,paddingInlineEnd:Me,margin:Me,marginTop:Me,marginRight:Me,marginBottom:Me,marginLeft:Me,marginBlock:Me,marginBlockStart:Me,marginBlockEnd:Me,marginInline:Me,marginInlineStart:Me,marginInlineEnd:Me,fontSize:Me,backgroundPositionX:Me,backgroundPositionY:Me,...Gde,zIndex:qP,fillOpacity:Ed,strokeOpacity:Ed,numOctaves:qP},Wde={...yS,color:dr,backgroundColor:dr,outlineColor:dr,fill:dr,stroke:dr,borderColor:dr,borderTopColor:dr,borderRightColor:dr,borderBottomColor:dr,borderLeftColor:dr,filter:Cw,WebkitFilter:Cw},ZL=e=>Wde[e];function QL(e,t){let r=ZL(e);return r!==Cw&&(r=Is),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const Yde=new Set(["auto","none","0"]);function Xde(e,t,r){let n=0,a;for(;n<e.length&&!a;){const s=e[n];typeof s=="string"&&!Yde.has(s)&&Td(s).values.length&&(a=e[n]),n++}if(a&&r)for(const s of t)e[s]=QL(r,a)}class Zde extends hS{constructor(t,r,n,a,s){super(t,r,n,a,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let g=t[m];if(typeof g=="string"&&(g=g.trim(),iS(g))){const v=HL(g,r.current);v!==void 0&&(t[m]=v),m===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!FL.has(n)||t.length!==2)return;const[a,s]=t,l=zP(a),u=zP(s),f=AP(a),h=AP(s);if(f!==h&&Os[n]){this.needsMeasurement=!0;return}if(l!==u)if(IP(l)&&IP(u))for(let m=0;m<t.length;m++){const g=t[m];typeof g=="string"&&(t[m]=parseFloat(g))}else Os[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let a=0;a<t.length;a++)(t[a]===null||Vde(t[a]))&&n.push(a);n.length&&Xde(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Os[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const s=n.length-1,l=n[s];n[s]=Os[r](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([u,f])=>{t.getValue(u).set(f)}),this.resolveNoneKeyframes()}}function Qde(e,t,r){if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const a=r?.[e]??n.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e).filter(n=>n!=null)}const JL=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Pw(e){return dL(e)&&"offsetHeight"in e}const{schedule:xS}=NL(queueMicrotask,!1),pa={x:!1,y:!1};function e6(){return pa.x||pa.y}function Jde(e){return e==="x"||e==="y"?pa[e]?null:(pa[e]=!0,()=>{pa[e]=!1}):pa.x||pa.y?null:(pa.x=pa.y=!0,()=>{pa.x=pa.y=!1})}function t6(e,t){const r=Qde(e),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[r,a,()=>n.abort()]}function VP(e){return!(e.pointerType==="touch"||e6())}function efe(e,t,r={}){const[n,a,s]=t6(e,r),l=u=>{if(!VP(u))return;const{target:f}=u,h=t(f,u);if(typeof h!="function"||!f)return;const m=g=>{VP(g)&&(h(g),f.removeEventListener("pointerleave",m))};f.addEventListener("pointerleave",m,a)};return n.forEach(u=>{u.addEventListener("pointerenter",l,a)}),s}const r6=(e,t)=>t?e===t?!0:r6(e,t.parentElement):!1,bS=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,tfe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function n6(e){return tfe.has(e.tagName)||e.isContentEditable===!0}const om=new WeakSet;function HP(e){return t=>{t.key==="Enter"&&e(t)}}function Fx(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const rfe=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=HP(()=>{if(om.has(r))return;Fx(r,"down");const a=HP(()=>{Fx(r,"up")}),s=()=>Fx(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",s,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function FP(e){return bS(e)&&!e6()}function nfe(e,t,r={}){const[n,a,s]=t6(e,r),l=u=>{const f=u.currentTarget;if(!FP(u))return;om.add(f);const h=t(f,u),m=(x,w)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",v),om.has(f)&&om.delete(f),FP(x)&&typeof h=="function"&&h(x,{success:w})},g=x=>{m(x,f===window||f===document||r.useGlobalTarget||r6(f,x.target))},v=x=>{m(x,!1)};window.addEventListener("pointerup",g,a),window.addEventListener("pointercancel",v,a)};return n.forEach(u=>{(r.useGlobalTarget?window:u).addEventListener("pointerdown",l,a),Pw(u)&&(u.addEventListener("focus",h=>rfe(h,a)),!n6(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),s}function a6(e){return dL(e)&&"ownerSVGElement"in e}function afe(e){return a6(e)&&e.tagName==="svg"}const ife=[...XL,dr,Is],sfe=e=>ife.find(YL(e)),KP=()=>({translate:0,scale:1,origin:0,originPoint:0}),Zl=()=>({x:KP(),y:KP()}),GP=()=>({min:0,max:0}),xr=()=>({x:GP(),y:GP()}),Dw={current:null},i6={current:!1},ofe=typeof window<"u";function lfe(){if(i6.current=!0,!!ofe)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Dw.current=e.matches;e.addEventListener("change",t),t()}else Dw.current=!1}const cfe=new WeakMap;function wg(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Od(e){return typeof e=="string"||Array.isArray(e)}const wS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],jS=["initial",...wS];function jg(e){return wg(e.animate)||jS.some(t=>Od(e[t]))}function s6(e){return!!(jg(e)||e.variants)}function ufe(e,t,r){for(const n in t){const a=t[n],s=r[n];if(tn(a))e.addValue(n,a);else if(tn(s))e.addValue(n,dc(a,{owner:e}));else if(s!==a)if(e.hasValue(n)){const l=e.getValue(n);l.liveStyle===!0?l.jump(a):l.hasAnimated||l.set(a)}else{const l=e.getStaticValue(n);e.addValue(n,dc(l!==void 0?l:a,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const WP=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let gp={};function o6(e){gp=e}function dfe(){return gp}class ffe{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:s,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=hS,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=ln.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,Lt.render(this.render,!1,!0))};const{latestValues:f,renderState:h}=l;this.latestValues=f,this.baseTarget={...f},this.initialValues=r.initial?{...f}:{},this.renderState=h,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=u,this.blockInitialAnimation=!!s,this.isControllingVariants=jg(r),this.isVariantNode=s6(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:m,...g}=this.scrapeMotionValuesFromProps(r,{},this);for(const v in g){const x=g[v];f[v]!==void 0&&tn(x)&&x.set(f[v])}}mount(t){this.current=t,cfe.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(i6.current||lfe(),this.shouldReduceMotion=Dw.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Rs(this.notifyUpdate),Rs(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Dc.has(t);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Lt.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;typeof window<"u"&&window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),s&&s(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in gp){const r=gp[t];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):xr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<WP.length;n++){const a=WP[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const s="on"+a,l=t[s];l&&(this.propEventSubscriptions[a]=this.on(a,l))}this.prevMotionValues=ufe(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=dc(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(uL(n)||fL(n))?n=parseFloat(n):!sfe(n)&&Is.test(r)&&(n=QL(t,r)),this.setBaseTarget(t,tn(n)?n.get():n)),tn(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const s=gS(this.props,r,this.presenceContext?.custom);s&&(n=s[t])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!tn(a)?a:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new rS),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){xS.render(this.render)}}class l6 extends ffe{constructor(){super(...arguments),this.KeyframeResolver=Zde}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){const n=t.style;return n?n[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;tn(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}class zs{constructor(t){this.isMounted=!1,this.node=t}update(){}}function c6({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function hfe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function mfe(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Kx(e){return e===void 0||e===1}function Mw({scale:e,scaleX:t,scaleY:r}){return!Kx(e)||!Kx(t)||!Kx(r)}function go(e){return Mw(e)||u6(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function u6(e){return YP(e.x)||YP(e.y)}function YP(e){return e&&e!=="0%"}function vp(e,t,r){const n=e-r,a=t*n;return r+a}function XP(e,t,r,n,a){return a!==void 0&&(e=vp(e,a,n)),vp(e,r,n)+t}function Rw(e,t=0,r=1,n,a){e.min=XP(e.min,t,r,n,a),e.max=XP(e.max,t,r,n,a)}function d6(e,{x:t,y:r}){Rw(e.x,t.translate,t.scale,t.originPoint),Rw(e.y,r.translate,r.scale,r.originPoint)}const ZP=.999999999999,QP=1.0000000000001;function pfe(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let s,l;for(let u=0;u<a;u++){s=r[u],l=s.projectionDelta;const{visualElement:f}=s.options;f&&f.props.style&&f.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Jl(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,d6(e,l)),n&&go(s.latestValues)&&Jl(e,s.latestValues))}t.x<QP&&t.x>ZP&&(t.x=1),t.y<QP&&t.y>ZP&&(t.y=1)}function Ql(e,t){e.min=e.min+t,e.max=e.max+t}function JP(e,t,r,n,a=.5){const s=Kt(e.min,e.max,a);Rw(e,t,r,s,n)}function Jl(e,t){JP(e.x,t.x,t.scaleX,t.scale,t.originX),JP(e.y,t.y,t.scaleY,t.scale,t.originY)}function f6(e,t){return c6(mfe(e.getBoundingClientRect(),t))}function gfe(e,t,r){const n=f6(e,r),{scroll:a}=t;return a&&(Ql(n.x,a.offset.x),Ql(n.y,a.offset.y)),n}const vfe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},yfe=Pc.length;function xfe(e,t,r){let n="",a=!0;for(let s=0;s<yfe;s++){const l=Pc[s],u=e[l];if(u===void 0)continue;let f=!0;if(typeof u=="number")f=u===(l.startsWith("scale")?1:0);else{const h=parseFloat(u);f=l.startsWith("scale")?h===1:h===0}if(!f||r){const h=JL(u,yS[l]);if(!f){a=!1;const m=vfe[l]||l;n+=`${m}(${h}) `}r&&(t[l]=h)}}return n=n.trim(),r?n=r(t,a?"":n):a&&(n="none"),n}function SS(e,t,r){const{style:n,vars:a,transformOrigin:s}=e;let l=!1,u=!1;for(const f in t){const h=t[f];if(Dc.has(f)){l=!0;continue}else if(kL(f)){a[f]=h;continue}else{const m=JL(h,yS[f]);f.startsWith("origin")?(u=!0,s[f]=m):n[f]=m}}if(t.transform||(l||r?n.transform=xfe(t,e.transform,r):n.transform&&(n.transform="none")),u){const{originX:f="50%",originY:h="50%",originZ:m=0}=s;n.transformOrigin=`${f} ${h} ${m}`}}function h6(e,{style:t,vars:r},n,a){const s=e.style;let l;for(l in t)s[l]=t[l];a?.applyProjectionStyles(s,n);for(l in r)s.setProperty(l,r[l])}function eD(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ru={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Me.test(e))e=parseFloat(e);else return e;const r=eD(e,t.target.x),n=eD(e,t.target.y);return`${r}% ${n}%`}},bfe={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=Is.parse(e);if(a.length>5)return n;const s=Is.createTransformer(e),l=typeof a[0]!="number"?1:0,u=r.x.scale*t.x,f=r.y.scale*t.y;a[0+l]/=u,a[1+l]/=f;const h=Kt(u,f,.5);return typeof a[2+l]=="number"&&(a[2+l]/=h),typeof a[3+l]=="number"&&(a[3+l]/=h),s(a)}},Iw={borderRadius:{...Ru,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ru,borderTopRightRadius:Ru,borderBottomLeftRadius:Ru,borderBottomRightRadius:Ru,boxShadow:bfe};function m6(e,{layout:t,layoutId:r}){return Dc.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Iw[e]||e==="opacity")}function NS(e,t,r){const n=e.style,a=t?.style,s={};if(!n)return s;for(const l in n)(tn(n[l])||a&&tn(a[l])||m6(l,e)||r?.getValue(l)?.liveStyle!==void 0)&&(s[l]=n[l]);return s}function wfe(e){return window.getComputedStyle(e)}class jfe extends l6{constructor(){super(...arguments),this.type="html",this.renderInstance=h6}readValueFromInstance(t,r){if(Dc.has(r))return this.projection?.isProjecting?jw(r):Que(t,r);{const n=wfe(t),a=(kL(r)?n.getPropertyValue(r):n[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:r}){return f6(t,r)}build(t,r,n){SS(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return NS(t,r,n)}}const Sfe={offset:"stroke-dashoffset",array:"stroke-dasharray"},Nfe={offset:"strokeDashoffset",array:"strokeDasharray"};function _fe(e,t,r=1,n=0,a=!0){e.pathLength=1;const s=a?Sfe:Nfe;e[s.offset]=`${-n}`,e[s.array]=`${t} ${r}`}const kfe=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function p6(e,{attrX:t,attrY:r,attrScale:n,pathLength:a,pathSpacing:s=1,pathOffset:l=0,...u},f,h,m){if(SS(e,u,h),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:v}=e;g.transform&&(v.transform=g.transform,delete g.transform),(v.transform||g.transformOrigin)&&(v.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),v.transform&&(v.transformBox=m?.transformBox??"fill-box",delete g.transformBox);for(const x of kfe)g[x]!==void 0&&(v[x]=g[x],delete g[x]);t!==void 0&&(g.x=t),r!==void 0&&(g.y=r),n!==void 0&&(g.scale=n),a!==void 0&&_fe(g,a,s,l,!1)}const g6=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),v6=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Afe(e,t,r,n){h6(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(g6.has(a)?a:vS(a),t.attrs[a])}function y6(e,t,r){const n=NS(e,t,r);for(const a in e)if(tn(e[a])||tn(t[a])){const s=Pc.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[s]=e[a]}return n}class Efe extends l6{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=xr}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Dc.has(r)){const n=ZL(r);return n&&n.default||0}return r=g6.has(r)?r:vS(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return y6(t,r,n)}build(t,r,n){p6(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,a){Afe(t,r,n,a)}mount(t){this.isSVGTag=v6(t.tagName),super.mount(t)}}const Tfe=jS.length;function x6(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?x6(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<Tfe;r++){const n=jS[r],a=e.props[n];(Od(a)||a===!1)&&(t[n]=a)}return t}function b6(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const Ofe=[...wS].reverse(),Cfe=wS.length;function Pfe(e){return t=>Promise.all(t.map(({animation:r,options:n})=>zde(e,r,n)))}function Dfe(e){let t=Pfe(e),r=tD(),n=!0;const a=f=>(h,m)=>{const g=nc(e,m,f==="exit"?e.presenceContext?.custom:void 0);if(g){const{transition:v,transitionEnd:x,...w}=g;h={...h,...w,...x}}return h};function s(f){t=f(e)}function l(f){const{props:h}=e,m=x6(e.parent)||{},g=[],v=new Set;let x={},w=1/0;for(let N=0;N<Cfe;N++){const _=Ofe[N],A=r[_],k=h[_]!==void 0?h[_]:m[_],O=Od(k),M=_===f?A.isActive:null;M===!1&&(w=N);let C=k===m[_]&&k!==h[_]&&O;if(C&&n&&e.manuallyAnimateOnMount&&(C=!1),A.protectedKeys={...x},!A.isActive&&M===null||!k&&!A.prevProp||wg(k)||typeof k=="boolean")continue;const D=Mfe(A.prevProp,k);let L=D||_===f&&A.isActive&&!C&&O||N>w&&O,V=!1;const te=Array.isArray(k)?k:[k];let W=te.reduce(a(_),{});M===!1&&(W={});const{prevResolvedValues:K={}}=A,Se={...K,...W},be=ee=>{L=!0,v.has(ee)&&(V=!0,v.delete(ee)),A.needsAnimating[ee]=!0;const ce=e.getValue(ee);ce&&(ce.liveStyle=!1)};for(const ee in Se){const ce=W[ee],we=K[ee];if(x.hasOwnProperty(ee))continue;let G=!1;Ew(ce)&&Ew(we)?G=!b6(ce,we):G=ce!==we,G?ce!=null?be(ee):v.add(ee):ce!==void 0&&v.has(ee)?be(ee):A.protectedKeys[ee]=!0}A.prevProp=k,A.prevResolvedValues=W,A.isActive&&(x={...x,...W}),n&&e.blockInitialAnimation&&(L=!1);const Ae=C&&D;L&&(!Ae||V)&&g.push(...te.map(ee=>{const ce={type:_};if(typeof ee=="string"&&n&&!Ae&&e.manuallyAnimateOnMount&&e.parent){const{parent:we}=e,G=nc(we,ee);if(we.enteringChildren&&G){const{delayChildren:T}=G.transition||{};ce.delay=VL(we.enteringChildren,e,T)}}return{animation:ee,options:ce}}))}if(v.size){const N={};if(typeof h.initial!="boolean"){const _=nc(e,Array.isArray(h.initial)?h.initial[0]:h.initial);_&&_.transition&&(N.transition=_.transition)}v.forEach(_=>{const A=e.getBaseTarget(_),k=e.getValue(_);k&&(k.liveStyle=!0),N[_]=A??null}),g.push({animation:N})}let S=!!g.length;return n&&(h.initial===!1||h.initial===h.animate)&&!e.manuallyAnimateOnMount&&(S=!1),n=!1,S?t(g):Promise.resolve()}function u(f,h){if(r[f].isActive===h)return Promise.resolve();e.variantChildren?.forEach(g=>g.animationState?.setActive(f,h)),r[f].isActive=h;const m=l(f);for(const g in r)r[g].protectedKeys={};return m}return{animateChanges:l,setActive:u,setAnimateFunction:s,getState:()=>r,reset:()=>{r=tD()}}}function Mfe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!b6(t,e):!1}function uo(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function tD(){return{animate:uo(!0),whileInView:uo(),whileHover:uo(),whileTap:uo(),whileDrag:uo(),whileFocus:uo(),exit:uo()}}function rD(e,t){e.min=t.min,e.max=t.max}function fa(e,t){rD(e.x,t.x),rD(e.y,t.y)}function nD(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}const w6=1e-4,Rfe=1-w6,Ife=1+w6,j6=.01,Lfe=0-j6,$fe=0+j6;function cn(e){return e.max-e.min}function Ufe(e,t,r){return Math.abs(e-t)<=r}function aD(e,t,r,n=.5){e.origin=n,e.originPoint=Kt(t.min,t.max,e.origin),e.scale=cn(r)/cn(t),e.translate=Kt(r.min,r.max,e.origin)-e.originPoint,(e.scale>=Rfe&&e.scale<=Ife||isNaN(e.scale))&&(e.scale=1),(e.translate>=Lfe&&e.translate<=$fe||isNaN(e.translate))&&(e.translate=0)}function Wu(e,t,r,n){aD(e.x,t.x,r.x,n?n.originX:void 0),aD(e.y,t.y,r.y,n?n.originY:void 0)}function iD(e,t,r){e.min=r.min+t.min,e.max=e.min+cn(t)}function Bfe(e,t,r){iD(e.x,t.x,r.x),iD(e.y,t.y,r.y)}function sD(e,t,r){e.min=t.min-r.min,e.max=e.min+cn(t)}function yp(e,t,r){sD(e.x,t.x,r.x),sD(e.y,t.y,r.y)}function oD(e,t,r,n,a){return e-=t,e=vp(e,1/r,n),a!==void 0&&(e=vp(e,1/a,n)),e}function zfe(e,t=0,r=1,n=.5,a,s=e,l=e){if(Wa.test(t)&&(t=parseFloat(t),t=Kt(l.min,l.max,t/100)-l.min),typeof t!="number")return;let u=Kt(s.min,s.max,n);e===s&&(u-=t),e.min=oD(e.min,t,r,u,a),e.max=oD(e.max,t,r,u,a)}function lD(e,t,[r,n,a],s,l){zfe(e,t[r],t[n],t[a],t.scale,s,l)}const qfe=["x","scaleX","originX"],Vfe=["y","scaleY","originY"];function cD(e,t,r,n){lD(e.x,t,qfe,r?r.x:void 0,n?n.x:void 0),lD(e.y,t,Vfe,r?r.y:void 0,n?n.y:void 0)}function uD(e){return e.translate===0&&e.scale===1}function S6(e){return uD(e.x)&&uD(e.y)}function dD(e,t){return e.min===t.min&&e.max===t.max}function Hfe(e,t){return dD(e.x,t.x)&&dD(e.y,t.y)}function fD(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function N6(e,t){return fD(e.x,t.x)&&fD(e.y,t.y)}function hD(e){return cn(e.x)/cn(e.y)}function mD(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function Jn(e){return[e("x"),e("y")]}function Ffe(e,t,r){let n="";const a=e.x.translate/t.x,s=e.y.translate/t.y,l=r?.z||0;if((a||s||l)&&(n=`translate3d(${a}px, ${s}px, ${l}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:h,rotate:m,rotateX:g,rotateY:v,skewX:x,skewY:w}=r;h&&(n=`perspective(${h}px) ${n}`),m&&(n+=`rotate(${m}deg) `),g&&(n+=`rotateX(${g}deg) `),v&&(n+=`rotateY(${v}deg) `),x&&(n+=`skewX(${x}deg) `),w&&(n+=`skewY(${w}deg) `)}const u=e.x.scale*t.x,f=e.y.scale*t.y;return(u!==1||f!==1)&&(n+=`scale(${u}, ${f})`),n||"none"}const _6=["TopLeft","TopRight","BottomLeft","BottomRight"],Kfe=_6.length,pD=e=>typeof e=="string"?parseFloat(e):e,gD=e=>typeof e=="number"||Me.test(e);function Gfe(e,t,r,n,a,s){a?(e.opacity=Kt(0,r.opacity??1,Wfe(n)),e.opacityExit=Kt(t.opacity??1,0,Yfe(n))):s&&(e.opacity=Kt(t.opacity??1,r.opacity??1,n));for(let l=0;l<Kfe;l++){const u=`border${_6[l]}Radius`;let f=vD(t,u),h=vD(r,u);if(f===void 0&&h===void 0)continue;f||(f=0),h||(h=0),f===0||h===0||gD(f)===gD(h)?(e[u]=Math.max(Kt(pD(f),pD(h),n),0),(Wa.test(h)||Wa.test(f))&&(e[u]+="%")):e[u]=h}(t.rotate||r.rotate)&&(e.rotate=Kt(t.rotate||0,r.rotate||0,n))}function vD(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Wfe=k6(0,.5,bL),Yfe=k6(.5,.95,ia);function k6(e,t,r){return n=>n<e?0:n>t?1:r(Ad(e,t,n))}function Xfe(e,t,r){const n=tn(e)?e:dc(e);return n.start(pS("",n,t,r)),n.animation}function Cd(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}const Zfe=(e,t)=>e.depth-t.depth;class Qfe{constructor(){this.children=[],this.isDirty=!1}add(t){Q1(this.children,t),this.isDirty=!0}remove(t){J1(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Zfe),this.isDirty=!1,this.children.forEach(t)}}function Jfe(e,t){const r=ln.now(),n=({timestamp:a})=>{const s=a-r;s>=t&&(Rs(n),e(s-t))};return Lt.setup(n,!0),()=>Rs(n)}function lm(e){return tn(e)?e.get():e}class ehe{constructor(){this.members=[]}add(t){Q1(this.members,t),t.scheduleRender()}remove(t){if(J1(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const s=this.members[a];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender();const a=n.options.layoutDependency,s=t.options.layoutDependency;a!==void 0&&s!==void 0&&a===s||(t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0));const{crossfade:u}=t.options;u===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const cm={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Gx=["","X","Y","Z"],the=1e3;let rhe=0;function Wx(e,t,r,n){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function A6(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=GL(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Lt,!(a||s))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&A6(n)}function E6({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(l={},u=t?.()){this.id=rhe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(ihe),this.nodes.forEach(che),this.nodes.forEach(uhe),this.nodes.forEach(she)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new Qfe)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new rS),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const f=this.eventHandlers.get(l);f&&f.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=a6(l)&&!afe(l),this.instance=l;const{layoutId:u,layout:f,visualElement:h}=this.options;if(h&&!h.current&&h.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||u)&&(this.isLayoutDirty=!0),e){let m,g=0;const v=()=>this.root.updateBlockedByResize=!1;Lt.read(()=>{g=window.innerWidth}),e(l,()=>{const x=window.innerWidth;x!==g&&(g=x,this.root.updateBlockedByResize=!0,m&&m(),m=Jfe(v,250),cm.hasAnimatedSinceResize&&(cm.hasAnimatedSinceResize=!1,this.nodes.forEach(bD)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&h&&(u||f)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:g,hasRelativeLayoutChanged:v,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||h.getDefaultTransition()||phe,{onLayoutAnimationStart:S,onLayoutAnimationComplete:N}=h.getProps(),_=!this.targetLayout||!N6(this.targetLayout,x),A=!g&&v;if(this.options.layoutRoot||this.resumeFrom||A||g&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const k={...mS(w,"layout"),onPlay:S,onComplete:N};(h.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k),this.setAnimationOrigin(m,A)}else g||bD(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Rs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(dhe),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&A6(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const g=this.path[m];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:u,layout:f}=this.options;if(u===void 0&&!f)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(yD);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(xD);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(lhe),this.nodes.forEach(nhe),this.nodes.forEach(ahe)):this.nodes.forEach(xD),this.clearAllSnapshots();const u=ln.now();Gr.delta=Qa(0,1e3/60,u-Gr.timestamp),Gr.timestamp=u,Gr.isProcessing=!0,Ux.update.process(Gr),Ux.preRender.process(Gr),Ux.render.process(Gr),Gr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,xS.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(ohe),this.sharedNodes.forEach(fhe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Lt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Lt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!cn(this.snapshot.measuredBox.x)&&!cn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=xr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const f=n(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:f,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!a)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!S6(this.projectionDelta),f=this.getTransformTemplate(),h=f?f(this.latestValues,""):void 0,m=h!==this.prevTransformTemplateValue;l&&this.instance&&(u||go(this.latestValues)||m)&&(a(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let f=this.removeElementScroll(u);return l&&(f=this.removeTransform(f)),ghe(f),{animationId:this.root.animationId,measuredBox:u,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return xr();const u=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(vhe))){const{scroll:h}=this.root;h&&(Ql(u.x,h.offset.x),Ql(u.y,h.offset.y))}return u}removeElementScroll(l){const u=xr();if(fa(u,l),this.scroll?.wasRoot)return u;for(let f=0;f<this.path.length;f++){const h=this.path[f],{scroll:m,options:g}=h;h!==this.root&&m&&g.layoutScroll&&(m.wasRoot&&fa(u,l),Ql(u.x,m.offset.x),Ql(u.y,m.offset.y))}return u}applyTransform(l,u=!1){const f=xr();fa(f,l);for(let h=0;h<this.path.length;h++){const m=this.path[h];!u&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Jl(f,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),go(m.latestValues)&&Jl(f,m.latestValues)}return go(this.latestValues)&&Jl(f,this.latestValues),f}removeTransform(l){const u=xr();fa(u,l);for(let f=0;f<this.path.length;f++){const h=this.path[f];if(!h.instance||!go(h.latestValues))continue;Mw(h.latestValues)&&h.updateSnapshot();const m=xr(),g=h.measurePageBox();fa(m,g),cD(u,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,m)}return go(this.latestValues)&&cD(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Gr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==u;if(!(l||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:g}=this.options;if(!this.layout||!(m||g))return;this.resolvedRelativeTargetAt=Gr.timestamp;const v=this.getClosestProjectingParent();v&&this.linkedParentVersion!==v.layoutVersion&&!v.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(v&&v.layout?this.createRelativeTarget(v,this.layout.layoutBox,v.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=xr(),this.targetWithTransforms=xr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Bfe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):fa(this.target,this.layout.layoutBox),d6(this.target,this.targetDelta)):fa(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?this.createRelativeTarget(v,this.target,v.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Mw(this.parent.latestValues)||u6(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(l,u,f){this.relativeParent=l,this.linkedParentVersion=l.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=xr(),this.relativeTargetOrigin=xr(),yp(this.relativeTargetOrigin,u,f),fa(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const l=this.getLead(),u=!!this.resumingFrom||this!==l;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Gr.timestamp&&(f=!1),f)return;const{layout:h,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||m))return;fa(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,v=this.treeScale.y;pfe(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=xr());const{target:x}=l;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(nD(this.prevProjectionDelta.x,this.projectionDelta.x),nD(this.prevProjectionDelta.y,this.projectionDelta.y)),Wu(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==v||!mD(this.projectionDelta.x,this.prevProjectionDelta.x)||!mD(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Zl(),this.projectionDelta=Zl(),this.projectionDeltaWithTransform=Zl()}setAnimationOrigin(l,u=!1){const f=this.snapshot,h=f?f.latestValues:{},m={...this.latestValues},g=Zl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const v=xr(),x=f?f.source:void 0,w=this.layout?this.layout.source:void 0,S=x!==w,N=this.getStack(),_=!N||N.members.length<=1,A=!!(S&&!_&&this.options.crossfade===!0&&!this.path.some(mhe));this.animationProgress=0;let k;this.mixTargetDelta=O=>{const M=O/1e3;wD(g.x,l.x,M),wD(g.y,l.y,M),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(yp(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),hhe(this.relativeTarget,this.relativeTargetOrigin,v,M),k&&Hfe(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=xr()),fa(k,this.relativeTarget)),S&&(this.animationValues=m,Gfe(m,h,this.latestValues,M,A,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Rs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Lt.update(()=>{cm.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=dc(0)),this.currentAnimation=Xfe(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(the),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:f,layout:h,latestValues:m}=l;if(!(!u||!f||!h)){if(this!==l&&this.layout&&h&&T6(this.options.animationType,this.layout.layoutBox,h.layoutBox)){f=this.target||xr();const g=cn(this.layout.layoutBox.x);f.x.min=l.target.x.min,f.x.max=f.x.min+g;const v=cn(this.layout.layoutBox.y);f.y.min=l.target.y.min,f.y.max=f.y.min+v}fa(u,f),Jl(u,m),Wu(this.projectionDeltaWithTransform,this.layoutCorrected,u,m)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new ehe),this.sharedNodes.get(l).add(u);const h=u.options.initialPromotionConfig;u.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:f}={}){const h=this.getStack();h&&h.promote(this,f),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:f}=l;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(u=!0),!u)return;const h={};f.z&&Wx("z",l,h,this.animationValues);for(let m=0;m<Gx.length;m++)Wx(`rotate${Gx[m]}`,l,h,this.animationValues),Wx(`skew${Gx[m]}`,l,h,this.animationValues);l.render();for(const m in h)l.setStaticValue(m,h[m]),this.animationValues&&(this.animationValues[m]=h[m]);l.scheduleRender()}applyProjectionStyles(l,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=lm(u?.pointerEvents)||"",l.transform=f?f(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=lm(u?.pointerEvents)||""),this.hasProjected&&!go(this.latestValues)&&(l.transform=f?f({},""):"none",this.hasProjected=!1);return}l.visibility="";const m=h.animationValues||h.latestValues;this.applyTransformsToTarget();let g=Ffe(this.projectionDeltaWithTransform,this.treeScale,m);f&&(g=f(m,g)),l.transform=g;const{x:v,y:x}=this.projectionDelta;l.transformOrigin=`${v.origin*100}% ${x.origin*100}% 0`,h.animationValues?l.opacity=h===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:l.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const w in Iw){if(m[w]===void 0)continue;const{correct:S,applyTo:N,isCSSVariable:_}=Iw[w],A=g==="none"?m[w]:S(m[w],h);if(N){const k=N.length;for(let O=0;O<k;O++)l[N[O]]=A}else _?this.options.visualElement.renderState.vars[w]=A:l[w]=A}this.options.layoutId&&(l.pointerEvents=h===this?lm(u?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(yD),this.root.sharedNodes.clear()}}}function nhe(e){e.updateLayout()}function ahe(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:n}=e.layout,{animationType:a}=e.options,s=t.source!==e.layout.source;a==="size"?Jn(m=>{const g=s?t.measuredBox[m]:t.layoutBox[m],v=cn(g);g.min=r[m].min,g.max=g.min+v}):T6(a,t.layoutBox,r)&&Jn(m=>{const g=s?t.measuredBox[m]:t.layoutBox[m],v=cn(r[m]);g.max=g.min+v,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+v)});const l=Zl();Wu(l,r,t.layoutBox);const u=Zl();s?Wu(u,e.applyTransform(n,!0),t.measuredBox):Wu(u,r,t.layoutBox);const f=!S6(l);let h=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:g,layout:v}=m;if(g&&v){const x=xr();yp(x,t.layoutBox,g.layoutBox);const w=xr();yp(w,r,v.layoutBox),N6(x,w)||(h=!0),m.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=x,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:u,layoutDelta:l,hasLayoutChanged:f,hasRelativeLayoutChanged:h})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function ihe(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function she(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function ohe(e){e.clearSnapshot()}function yD(e){e.clearMeasurements()}function xD(e){e.isLayoutDirty=!1}function lhe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function bD(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function che(e){e.resolveTargetDelta()}function uhe(e){e.calcProjection()}function dhe(e){e.resetSkewAndRotation()}function fhe(e){e.removeLeadSnapshot()}function wD(e,t,r){e.translate=Kt(t.translate,0,r),e.scale=Kt(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function jD(e,t,r,n){e.min=Kt(t.min,r.min,n),e.max=Kt(t.max,r.max,n)}function hhe(e,t,r,n){jD(e.x,t.x,r.x,n),jD(e.y,t.y,r.y,n)}function mhe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const phe={duration:.45,ease:[.4,0,.1,1]},SD=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),ND=SD("applewebkit/")&&!SD("chrome/")?Math.round:ia;function _D(e){e.min=ND(e.min),e.max=ND(e.max)}function ghe(e){_D(e.x),_D(e.y)}function T6(e,t,r){return e==="position"||e==="preserve-aspect"&&!Ufe(hD(t),hD(r),.2)}function vhe(e){return e!==e.root&&e.scroll?.wasRoot}const yhe=E6({attachResizeListener:(e,t)=>Cd(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Yx={current:void 0},O6=E6({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Yx.current){const e=new yhe({});e.mount(window),e.setOptions({layoutScroll:!0}),Yx.current=e}return Yx.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),_S=y.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function kD(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function xhe(...e){return t=>{let r=!1;const n=e.map(a=>{const s=kD(a,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let a=0;a<n.length;a++){const s=n[a];typeof s=="function"?s():kD(e[a],null)}}}}function bhe(...e){return y.useCallback(xhe(...e),e)}class whe extends y.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,a=Pw(n)&&n.offsetWidth||0,s=Pw(n)&&n.offsetHeight||0,l=this.props.sizeRef.current;l.height=r.offsetHeight||0,l.width=r.offsetWidth||0,l.top=r.offsetTop,l.left=r.offsetLeft,l.right=a-l.width-l.left,l.bottom=s-l.height-l.top}return null}componentDidUpdate(){}render(){return this.props.children}}function jhe({children:e,isPresent:t,anchorX:r,anchorY:n,root:a}){const s=y.useId(),l=y.useRef(null),u=y.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:f}=y.useContext(_S),h=e.props?.ref??e?.ref,m=bhe(l,h);return y.useInsertionEffect(()=>{const{width:g,height:v,top:x,left:w,right:S,bottom:N}=u.current;if(t||!l.current||!g||!v)return;const _=r==="left"?`left: ${w}`:`right: ${S}`,A=n==="bottom"?`bottom: ${N}`:`top: ${x}`;l.current.dataset.motionPopId=s;const k=document.createElement("style");f&&(k.nonce=f);const O=a??document.head;return O.appendChild(k),k.sheet&&k.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${v}px !important;
            ${_}px !important;
            ${A}px !important;
          }
        `),()=>{O.contains(k)&&O.removeChild(k)}},[t]),c.jsx(whe,{isPresent:t,childRef:l,sizeRef:u,children:y.cloneElement(e,{ref:m})})}const She=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:s,mode:l,anchorX:u,anchorY:f,root:h})=>{const m=Z1(Nhe),g=y.useId();let v=!0,x=y.useMemo(()=>(v=!1,{id:g,initial:t,isPresent:r,custom:a,onExitComplete:w=>{m.set(w,!0);for(const S of m.values())if(!S)return;n&&n()},register:w=>(m.set(w,!1),()=>m.delete(w))}),[r,m,n]);return s&&v&&(x={...x}),y.useMemo(()=>{m.forEach((w,S)=>m.set(S,!1))},[r]),y.useEffect(()=>{!r&&!m.size&&n&&n()},[r]),l==="popLayout"&&(e=c.jsx(jhe,{isPresent:r,anchorX:u,anchorY:f,root:h,children:e})),c.jsx(bg.Provider,{value:x,children:e})};function Nhe(){return new Map}function C6(e=!0){const t=y.useContext(bg);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=t,s=y.useId();y.useEffect(()=>{if(e)return a(s)},[e]);const l=y.useCallback(()=>e&&n&&n(s),[s,n,e]);return!r&&n?[!1,l]:[!0]}const Yh=e=>e.key||"";function AD(e){const t=[];return y.Children.forEach(e,r=>{y.isValidElement(r)&&t.push(r)}),t}const _he=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:s="sync",propagate:l=!1,anchorX:u="left",anchorY:f="top",root:h})=>{const[m,g]=C6(l),v=y.useMemo(()=>AD(e),[e]),x=l&&!m?[]:v.map(Yh),w=y.useRef(!0),S=y.useRef(v),N=Z1(()=>new Map),_=y.useRef(new Set),[A,k]=y.useState(v),[O,M]=y.useState(v);cL(()=>{w.current=!1,S.current=v;for(let L=0;L<O.length;L++){const V=Yh(O[L]);x.includes(V)?(N.delete(V),_.current.delete(V)):N.get(V)!==!0&&N.set(V,!1)}},[O,x.length,x.join("-")]);const C=[];if(v!==A){let L=[...v];for(let V=0;V<O.length;V++){const te=O[V],W=Yh(te);x.includes(W)||(L.splice(V,0,te),C.push(te))}return s==="wait"&&C.length&&(L=C),M(AD(L)),k(v),null}const{forceRender:D}=y.useContext(X1);return c.jsx(c.Fragment,{children:O.map(L=>{const V=Yh(L),te=l&&!m?!1:v===O||x.includes(V),W=()=>{if(_.current.has(V))return;if(_.current.add(V),N.has(V))N.set(V,!0);else return;let K=!0;N.forEach(Se=>{Se||(K=!1)}),K&&(D?.(),M(S.current),l&&g?.(),n&&n())};return c.jsx(She,{isPresent:te,initial:!w.current||r?void 0:!1,custom:t,presenceAffectsLayout:a,mode:s,root:h,onExitComplete:te?void 0:W,anchorX:u,anchorY:f,children:L},V)})})},P6=y.createContext({strict:!1}),ED={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let TD=!1;function khe(){if(TD)return;const e={};for(const t in ED)e[t]={isEnabled:r=>ED[t].some(n=>!!r[n])};o6(e),TD=!0}function D6(){return khe(),dfe()}function Ahe(e){const t=D6();for(const r in e)t[r]={...t[r],...e[r]};o6(t)}const Ehe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function xp(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Ehe.has(e)}let M6=e=>!xp(e);function The(e){typeof e=="function"&&(M6=t=>t.startsWith("on")?!xp(t):e(t))}try{The(require("@emotion/is-prop-valid").default)}catch{}function Ohe(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(M6(a)||r===!0&&xp(a)||!t&&!xp(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}const Sg=y.createContext({});function Che(e,t){if(jg(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Od(r)?r:void 0,animate:Od(n)?n:void 0}}return e.inherit!==!1?t:{}}function Phe(e){const{initial:t,animate:r}=Che(e,y.useContext(Sg));return y.useMemo(()=>({initial:t,animate:r}),[OD(t),OD(r)])}function OD(e){return Array.isArray(e)?e.join(" "):e}const kS=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function R6(e,t,r){for(const n in t)!tn(t[n])&&!m6(n,r)&&(e[n]=t[n])}function Dhe({transformTemplate:e},t){return y.useMemo(()=>{const r=kS();return SS(r,t,e),Object.assign({},r.vars,r.style)},[t])}function Mhe(e,t){const r=e.style||{},n={};return R6(n,r,e),Object.assign(n,Dhe(e,t)),n}function Rhe(e,t){const r={},n=Mhe(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const I6=()=>({...kS(),attrs:{}});function Ihe(e,t,r,n){const a=y.useMemo(()=>{const s=I6();return p6(s,t,v6(n),e.transformTemplate,e.style),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};R6(s,e.style,e),a.style={...s,...a.style}}return a}const Lhe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function AS(e){return typeof e!="string"||e.includes("-")?!1:!!(Lhe.indexOf(e)>-1||/[A-Z]/u.test(e))}function $he(e,t,r,{latestValues:n},a,s=!1,l){const f=(l??AS(e)?Ihe:Rhe)(t,n,a,e),h=Ohe(t,typeof e=="string",s),m=e!==y.Fragment?{...h,...f,ref:r}:{},{children:g}=t,v=y.useMemo(()=>tn(g)?g.get():g,[g]);return y.createElement(e,{...m,children:v})}function Uhe({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,a){return{latestValues:Bhe(r,n,a,e),renderState:t()}}function Bhe(e,t,r,n){const a={},s=n(e,{});for(const v in s)a[v]=lm(s[v]);let{initial:l,animate:u}=e;const f=jg(e),h=s6(e);t&&h&&!f&&e.inherit!==!1&&(l===void 0&&(l=t.initial),u===void 0&&(u=t.animate));let m=r?r.initial===!1:!1;m=m||l===!1;const g=m?u:l;if(g&&typeof g!="boolean"&&!wg(g)){const v=Array.isArray(g)?g:[g];for(let x=0;x<v.length;x++){const w=gS(e,v[x]);if(w){const{transitionEnd:S,transition:N,..._}=w;for(const A in _){let k=_[A];if(Array.isArray(k)){const O=m?k.length-1:0;k=k[O]}k!==null&&(a[A]=k)}for(const A in S)a[A]=S[A]}}}return a}const L6=e=>(t,r)=>{const n=y.useContext(Sg),a=y.useContext(bg),s=()=>Uhe(e,t,n,a);return r?s():Z1(s)},zhe=L6({scrapeMotionValuesFromProps:NS,createRenderState:kS}),qhe=L6({scrapeMotionValuesFromProps:y6,createRenderState:I6}),Vhe=Symbol.for("motionComponentSymbol");function Hhe(e,t,r){const n=y.useRef(r);y.useInsertionEffect(()=>{n.current=r});const a=y.useRef(null);return y.useCallback(s=>{s&&e.onMount?.(s),t&&(s?t.mount(s):t.unmount());const l=n.current;if(typeof l=="function")if(s){const u=l(s);typeof u=="function"&&(a.current=u)}else a.current?(a.current(),a.current=null):l(s);else l&&(l.current=s)},[t])}const $6=y.createContext({});function zu(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Fhe(e,t,r,n,a,s){const{visualElement:l}=y.useContext(Sg),u=y.useContext(P6),f=y.useContext(bg),h=y.useContext(_S).reducedMotion,m=y.useRef(null),g=y.useRef(!1);n=n||u.renderer,!m.current&&n&&(m.current=n(e,{visualState:t,parent:l,props:r,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:h,isSVG:s}),g.current&&m.current&&(m.current.manuallyAnimateOnMount=!0));const v=m.current,x=y.useContext($6);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&Khe(m.current,r,a,x);const w=y.useRef(!1);y.useInsertionEffect(()=>{v&&w.current&&v.update(r,f)});const S=r[KL],N=y.useRef(!!S&&!window.MotionHandoffIsComplete?.(S)&&window.MotionHasOptimisedAnimation?.(S));return cL(()=>{g.current=!0,v&&(w.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),N.current&&v.animationState&&v.animationState.animateChanges())}),y.useEffect(()=>{v&&(!N.current&&v.animationState&&v.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(S)}),N.current=!1),v.enteringChildren=void 0)}),v}function Khe(e,t,r,n){const{layoutId:a,layout:s,drag:l,dragConstraints:u,layoutScroll:f,layoutRoot:h,layoutCrossfade:m}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:U6(e.parent)),e.projection.setOptions({layoutId:a,layout:s,alwaysMeasureLayout:!!l||u&&zu(u),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,crossfade:m,layoutScroll:f,layoutRoot:h})}function U6(e){if(e)return e.options.allowProjection!==!1?e.projection:U6(e.parent)}function Xx(e,{forwardMotionProps:t=!1,type:r}={},n,a){n&&Ahe(n);const s=r?r==="svg":AS(e),l=s?qhe:zhe;function u(h,m){let g;const v={...y.useContext(_S),...h,layoutId:Ghe(h)},{isStatic:x}=v,w=Phe(h),S=l(h,x);if(!x&&lL){Whe();const N=Yhe(v);g=N.MeasureLayout,w.visualElement=Fhe(e,S,v,a,N.ProjectionNode,s)}return c.jsxs(Sg.Provider,{value:w,children:[g&&w.visualElement?c.jsx(g,{visualElement:w.visualElement,...v}):null,$he(e,h,Hhe(S,w.visualElement,m),S,x,t,s)]})}u.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const f=y.forwardRef(u);return f[Vhe]=e,f}function Ghe({layoutId:e}){const t=y.useContext(X1).id;return t&&e!==void 0?t+"-"+e:e}function Whe(e,t){y.useContext(P6).strict}function Yhe(e){const t=D6(),{drag:r,layout:n}=t;if(!r&&!n)return{};const a={...r,...n};return{MeasureLayout:r?.isEnabled(e)||n?.isEnabled(e)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function Xhe(e,t){if(typeof Proxy>"u")return Xx;const r=new Map,n=(s,l)=>Xx(s,l,e,t),a=(s,l)=>n(s,l);return new Proxy(a,{get:(s,l)=>l==="create"?n:(r.has(l)||r.set(l,Xx(l,void 0,e,t)),r.get(l))})}const Zhe=(e,t)=>t.isSVG??AS(e)?new Efe(t):new jfe(t,{allowProjection:e!==y.Fragment});class Qhe extends zs{constructor(t){super(t),t.animationState||(t.animationState=Dfe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();wg(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Jhe=0;class eme extends zs{constructor(){super(...arguments),this.id=Jhe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const tme={animation:{Feature:Qhe},exit:{Feature:eme}};function lf(e){return{point:{x:e.pageX,y:e.pageY}}}const rme=e=>t=>bS(t)&&e(t,lf(t));function Yu(e,t,r,n){return Cd(e,t,rme(r),n)}const B6=({current:e})=>e?e.ownerDocument.defaultView:null,CD=(e,t)=>Math.abs(e-t);function nme(e,t){const r=CD(e.x,t.x),n=CD(e.y,t.y);return Math.sqrt(r**2+n**2)}const PD=new Set(["auto","scroll"]);class z6{constructor(t,r,{transformPagePoint:n,contextWindow:a=window,dragSnapToOrigin:s=!1,distanceThreshold:l=3,element:u}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=x=>{this.handleScroll(x.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Qx(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,S=nme(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!w&&!S)return;const{point:N}=x,{timestamp:_}=Gr;this.history.push({...N,timestamp:_});const{onStart:A,onMove:k}=this.handlers;w||(A&&A(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,x)},this.handlePointerMove=(x,w)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=Zx(w,this.transformPagePoint),Lt.update(this.updatePoint,!0)},this.handlePointerUp=(x,w)=>{this.end();const{onEnd:S,onSessionEnd:N,resumeAnimation:_}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=Qx(x.type==="pointercancel"?this.lastMoveEventInfo:Zx(w,this.transformPagePoint),this.history);this.startEvent&&S&&S(x,A),N&&N(x,A)},!bS(t))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=l,this.contextWindow=a||window;const f=lf(t),h=Zx(f,this.transformPagePoint),{point:m}=h,{timestamp:g}=Gr;this.history=[{...m,timestamp:g}];const{onSessionStart:v}=r;v&&v(t,Qx(h,this.history)),this.removeListeners=af(Yu(this.contextWindow,"pointermove",this.handlePointerMove),Yu(this.contextWindow,"pointerup",this.handlePointerUp),Yu(this.contextWindow,"pointercancel",this.handlePointerUp)),u&&this.startScrollTracking(u)}startScrollTracking(t){let r=t.parentElement;for(;r;){const n=getComputedStyle(r);(PD.has(n.overflowX)||PD.has(n.overflowY))&&this.scrollPositions.set(r,{x:r.scrollLeft,y:r.scrollTop}),r=r.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const r=this.scrollPositions.get(t);if(!r)return;const n=t===window,a=n?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},s={x:a.x-r.x,y:a.y-r.y};s.x===0&&s.y===0||(n?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=s.x,this.lastMoveEventInfo.point.y+=s.y):this.history.length>0&&(this.history[0].x-=s.x,this.history[0].y-=s.y),this.scrollPositions.set(t,a),Lt.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Rs(this.updatePoint)}}function Zx(e,t){return t?{point:t(e.point)}:e}function DD(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Qx({point:e},t){return{point:e,delta:DD(e,q6(t)),offset:DD(e,ame(t)),velocity:ime(t,.1)}}function ame(e){return e[0]}function q6(e){return e[e.length-1]}function ime(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=q6(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>Ci(t)));)r--;if(!n)return{x:0,y:0};const s=na(a.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const l={x:(a.x-n.x)/s,y:(a.y-n.y)/s};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function sme(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Kt(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Kt(r,e,n.max):Math.min(e,r)),e}function MD(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function ome(e,{top:t,left:r,bottom:n,right:a}){return{x:MD(e.x,r,a),y:MD(e.y,t,n)}}function RD(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function lme(e,t){return{x:RD(e.x,t.x),y:RD(e.y,t.y)}}function cme(e,t){let r=.5;const n=cn(e),a=cn(t);return a>n?r=Ad(t.min,t.max-n,e.min):n>a&&(r=Ad(e.min,e.max-a,t.min)),Qa(0,1,r)}function ume(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const Lw=.35;function dme(e=Lw){return e===!1?e=0:e===!0&&(e=Lw),{x:ID(e,"left","right"),y:ID(e,"top","bottom")}}function ID(e,t,r){return{min:LD(e,t),max:LD(e,r)}}function LD(e,t){return typeof e=="number"?e:e[t]||0}const fme=new WeakMap;class hme{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=xr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const s=g=>{r?(this.stopAnimation(),this.snapToCursor(lf(g).point)):this.pauseAnimation()},l=(g,v)=>{this.stopAnimation();const{drag:x,dragPropagation:w,onDragStart:S}=this.getProps();if(x&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Jde(x),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Jn(_=>{let A=this.getAxisMotionValue(_).get()||0;if(Wa.test(A)){const{projection:k}=this.visualElement;if(k&&k.layout){const O=k.layout.layoutBox[_];O&&(A=cn(O)*(parseFloat(A)/100))}}this.originPoint[_]=A}),S&&Lt.postRender(()=>S(g,v)),Tw(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},u=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v;const{dragPropagation:x,dragDirectionLock:w,onDirectionLock:S,onDrag:N}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:_}=v;if(w&&this.currentDirection===null){this.currentDirection=mme(_),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",v.point,_),this.updateAxis("y",v.point,_),this.visualElement.render(),N&&N(g,v)},f=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v,this.stop(g,v),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>Jn(g=>this.getAnimationState(g)==="paused"&&this.getAxisMotionValue(g).animation?.play()),{dragSnapToOrigin:m}=this.getProps();this.panSession=new z6(t,{onSessionStart:s,onStart:l,onMove:u,onSessionEnd:f,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:n,contextWindow:B6(this.visualElement),element:this.visualElement.current})}stop(t,r){const n=t||this.latestPointerEvent,a=r||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!a||!n)return;const{velocity:l}=a;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&Lt.postRender(()=>u(n,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!Xh(t,a,this.currentDirection))return;const s=this.getAxisMotionValue(t);let l=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(l=sme(l,this.constraints[t],this.elastic[t])),s.set(l)}resolveConstraints(){const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&zu(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=ome(n.layoutBox,t):this.constraints=!1,this.elastic=dme(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Jn(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=ume(n.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!zu(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const s=gfe(n,a.root,this.visualElement.getTransformPagePoint());let l=lme(a.layout.layoutBox,s);if(r){const u=r(hfe(l));this.hasMutatedConstraints=!!u,u&&(l=c6(u))}return l}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:s,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),f=this.constraints||{},h=Jn(m=>{if(!Xh(m,r,this.currentDirection))return;let g=f&&f[m]||{};l&&(g={min:0,max:0});const v=a?200:1e6,x=a?40:1e7,w={type:"inertia",velocity:n?t[m]:0,bounceStiffness:v,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...s,...g};return this.startAxisValueAnimation(m,w)});return Promise.all(h).then(u)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return Tw(this.visualElement,t),n.start(pS(t,n,0,r,this.visualElement,!1))}stopAnimation(){Jn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Jn(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Jn(r=>{const{drag:n}=this.getProps();if(!Xh(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,s=this.getAxisMotionValue(r);if(a&&a.layout){const{min:l,max:u}=a.layout.layoutBox[r],f=s.get()||0;s.set(t[r]-Kt(l,u,.5)+f)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!zu(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Jn(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const f=u.get();a[l]=cme({min:f,max:f},this.constraints[l])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Jn(l=>{if(!Xh(l,t,null))return;const u=this.getAxisMotionValue(l),{min:f,max:h}=this.constraints[l];u.set(Kt(f,h,a[l]))})}addListeners(){if(!this.visualElement.current)return;fme.set(this.visualElement,this);const t=this.visualElement.current,r=Yu(t,"pointerdown",f=>{const{drag:h,dragListener:m=!0}=this.getProps(),g=f.target,v=g!==t&&n6(g);h&&m&&!v&&this.start(f)}),n=()=>{const{dragConstraints:f}=this.getProps();zu(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,s=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Lt.read(n);const l=Cd(window,"resize",()=>this.scalePositionWithinConstraints()),u=a.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:h})=>{this.isDragging&&h&&(Jn(m=>{const g=this.getAxisMotionValue(m);g&&(this.originPoint[m]+=f[m].translate,g.set(g.get()+f[m].translate))}),this.visualElement.render())}));return()=>{l(),r(),s(),u&&u()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:s=!1,dragElastic:l=Lw,dragMomentum:u=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:s,dragElastic:l,dragMomentum:u}}}function Xh(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function mme(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class pme extends zs{constructor(t){super(t),this.removeGroupControls=ia,this.removeListeners=ia,this.controls=new hme(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ia}update(){const{dragControls:t}=this.node.getProps(),{dragControls:r}=this.node.prevProps||{};t!==r&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const $D=e=>(t,r)=>{e&&Lt.postRender(()=>e(t,r))};class gme extends zs{constructor(){super(...arguments),this.removePointerDownListener=ia}onPointerDown(t){this.session=new z6(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:B6(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:$D(t),onStart:$D(r),onMove:n,onEnd:(s,l)=>{delete this.session,a&&Lt.postRender(()=>a(s,l))}}}mount(){this.removePointerDownListener=Yu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Jx=!1;class vme extends y.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:s}=t;s&&(r.group&&r.group.add(s),n&&n.register&&a&&n.register(s),Jx&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),cm.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:s}=this.props,{projection:l}=n;return l&&(l.isPresent=s,t.layoutDependency!==r&&l.setOptions({...l.options,layoutDependency:r}),Jx=!0,a||t.layoutDependency!==r||r===void 0||t.isPresent!==s?l.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?l.promote():l.relegate()||Lt.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),xS.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;Jx=!0,a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function V6(e){const[t,r]=C6(),n=y.useContext(X1);return c.jsx(vme,{...e,layoutGroup:n,switchLayoutGroup:y.useContext($6),isPresent:t,safeToRemove:r})}const yme={pan:{Feature:gme},drag:{Feature:pme,ProjectionNode:O6,MeasureLayout:V6}};function UD(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,s=n[a];s&&Lt.postRender(()=>s(t,lf(t)))}class xme extends zs{mount(){const{current:t}=this.node;t&&(this.unmount=efe(t,(r,n)=>(UD(this.node,n,"Start"),a=>UD(this.node,a,"End"))))}unmount(){}}class bme extends zs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=af(Cd(this.node.current,"focus",()=>this.onFocus()),Cd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function BD(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),s=n[a];s&&Lt.postRender(()=>s(t,lf(t)))}class wme extends zs{mount(){const{current:t}=this.node;t&&(this.unmount=nfe(t,(r,n)=>(BD(this.node,n,"Start"),(a,{success:s})=>BD(this.node,a,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const $w=new WeakMap,eb=new WeakMap,jme=e=>{const t=$w.get(e.target);t&&t(e)},Sme=e=>{e.forEach(jme)};function Nme({root:e,...t}){const r=e||document;eb.has(r)||eb.set(r,{});const n=eb.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(Sme,{root:e,...t})),n[a]}function _me(e,t,r){const n=Nme(t);return $w.set(e,r),n.observe(e),()=>{$w.delete(e),n.unobserve(e)}}const kme={some:0,all:1};class Ame extends zs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:s}=t,l={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:kme[a]},u=f=>{const{isIntersecting:h}=f;if(this.isInView===h||(this.isInView=h,s&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:m,onViewportLeave:g}=this.node.getProps(),v=h?m:g;v&&v(f)};return _me(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(Eme(t,r))&&this.startObserver()}unmount(){}}function Eme({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const Tme={inView:{Feature:Ame},tap:{Feature:wme},focus:{Feature:bme},hover:{Feature:xme}},Ome={layout:{ProjectionNode:O6,MeasureLayout:V6}},Cme={...tme,...Tme,...yme,...Ome},Pme=Xhe(Cme,Zhe),zD={info:"border-white/20 bg-white/50 dark:border-white/10 dark:bg-slate-950/30",success:"border-success-500/30 bg-success-50/70 dark:bg-success-500/10",warning:"border-warning-500/30 bg-warning-50/70 dark:bg-warning-500/10",danger:"border-danger-500/30 bg-danger-50/70 dark:bg-danger-500/10"};function Dme(){const{toasts:e,dismiss:t}=Da();return c.jsx("div",{className:"fixed right-4 top-4 z-[60] flex w-[92vw] max-w-sm flex-col gap-2","aria-live":"polite","aria-relevant":"additions",children:c.jsx(_he,{initial:!1,children:e.map(r=>c.jsxs(Pme.div,{layout:!0,initial:{opacity:0,y:-12,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-12,scale:.98},transition:{duration:.18,ease:"easeOut"},className:`surface flex items-start justify-between gap-3 border p-3 shadow-soft ${zD[r.type]??zD.info}`,role:"status",onClick:typeof r.onClick=="function"?()=>{try{r.onClick()}finally{t(r.id)}}:void 0,tabIndex:typeof r.onClick=="function"?0:void 0,onKeyDown:typeof r.onClick=="function"?n=>{if(n.key==="Enter"||n.key===" "){n.preventDefault();try{r.onClick()}finally{t(r.id)}}}:void 0,style:typeof r.onClick=="function"?{cursor:"pointer"}:void 0,children:[c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"text-sm font-semibold text-foreground",children:r.title}),r.message?c.jsx("div",{className:"mt-1 break-words text-sm text-muted-foreground",children:r.message}):null]}),c.jsx("button",{type:"button",className:"btn-ghost -mr-1 -mt-1 p-2",onClick:n=>{n.stopPropagation(),t(r.id)},"aria-label":"Dismiss notification",children:c.jsx(Yw,{className:"h-4 w-4"})})]},r.id))})})}fB.createRoot(document.getElementById("root")).render(c.jsx(y.StrictMode,{children:c.jsx(Rz,{basename:"/",children:c.jsx(Yce,{children:c.jsx(Kce,{children:c.jsx(Vce,{children:c.jsx(qce,{children:c.jsxs(Fce,{children:[c.jsx(zce,{}),c.jsx(Dme,{})]})})})})})})}));
